<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>EEG and ERP Processing and Analysis</title>

<script src="site_libs/header-attrs-2.27/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TYR0QMREEW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TYR0QMREEW');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="includes/custom.css" type="text/css" />
<link rel="stylesheet" href="font/css/roboto.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Analysis Guides for the Developmental Psychopathology Lab</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="bayesian.html">Bayesian Analysis</a>
    </li>
    <li>
      <a href="dataManagement.html">Data Management</a>
    </li>
    <li>
      <a href="developmentalScaling.html">Developmental Scaling</a>
    </li>
    <li>
      <a href="eegERP.html">Electroencaphalography/Event-Related Potentials</a>
    </li>
    <li>
      <a href="eda.html">Exploratory Data Analysis</a>
    </li>
    <li>
      <a href="factorAnalysis.html">Factor Analysis</a>
    </li>
    <li>
      <a href="figures.html">Figures</a>
    </li>
    <li>
      <a href="git.html">Git, GitLab, and GitHub</a>
    </li>
    <li>
      <a href="hlm.html">Hierarchical Linear Modeling</a>
    </li>
    <li>
      <a href="hpc.html">High-Performance Computing</a>
    </li>
    <li>
      <a href="irt.html">Item Response Theory</a>
    </li>
    <li>
      <a href="jamovi.html">jamovi</a>
    </li>
    <li>
      <a href="jatos.html">JATOS (Just Another Tool for Online Studies)</a>
    </li>
    <li>
      <a href="jsPsych.html">jsPsych</a>
    </li>
    <li>
      <a href="lamp.html">LAMP (Linux, Apache, MySQL, PHP)</a>
    </li>
    <li>
      <a href="lda.html">Longitudinal Data Analysis</a>
    </li>
    <li>
      <a href="markdown.html">Markdown</a>
    </li>
    <li>
      <a href="sem.html#mediation">Mediation</a>
    </li>
    <li>
      <a href="regression.html#moderation">Moderation/Interaction</a>
    </li>
    <li>
      <a href="mplus.html">Mplus</a>
    </li>
    <li>
      <a href="multipleImputation.html">Multiple Imputation</a>
    </li>
    <li>
      <a href="osf.html">Open Science Framework</a>
    </li>
    <li>
      <a href="pca.html">Principal Component Analysis</a>
    </li>
    <li>
      <a href="https://devpsylab.github.io/pythonDataAnalysisGuides">Python</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="regression.html">Regression</a>
    </li>
    <li>
      <a href="SPSS.html">SPSS</a>
    </li>
    <li>
      <a href="statistics.html">Statistics</a>
    </li>
    <li>
      <a href="sem.html">Structural Equation Modeling</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://devpsylab.github.io/LabWiki">Lab Wiki</a>
</li>
<li>
  <a href="https://developmental-psychopathology.lab.uiowa.edu">Lab Website</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">EEG and ERP Processing and Analysis</h1>

</div>


<div id="extracting-behavioral-data-from-e-prime" class="section level1"
number="1">
<h1><span class="header-section-number">1</span> Extracting Behavioral
Data from <code>E-Prime</code></h1>
<ol style="list-style-type: decimal">
<li>Run E-Merge</li>
<li>Navigate to the folder with the task data</li>
<li>Select <code>Merge</code></li>
<li>Select <code>Recursive Merge</code></li>
<li>Only merge:
<code>All specified files regardless of merge status</code></li>
<li>Save target file (<code>filename.emrg2</code>)</li>
<li>Double click the newly saved file (<code>filename.emrg2</code>) to
open it in E-DataAid</li>
<li>Go to <code>File</code>, <code>Export</code></li>
<li>Make sure <code>SPSS</code> is selected and that the
<code>Unicode</code> option is <strong>unselected</strong>: <a
href="https://mattkmiecik.com/posts/post-Stop-Using-Excel-to-Preprocess-E-Prime-Data/post-Stop-Using-Excel-to-Preprocess-E-Prime-Data.html"
class="uri">https://mattkmiecik.com/posts/post-Stop-Using-Excel-to-Preprocess-E-Prime-Data/post-Stop-Using-Excel-to-Preprocess-E-Prime-Data.html</a>
(archived at <a href="https://perma.cc/N734-4W9X"
class="uri">https://perma.cc/N734-4W9X</a>)</li>
<li>Save the file as: <code>filename.txt</code></li>
</ol>
</div>
<div id="erp-processing-pipeline-using-happe" class="section level1"
number="2">
<h1><span class="header-section-number">2</span> ERP Processing Pipeline
using HAPPE</h1>
<ol style="list-style-type: decimal">
<li>Download MATLAB: <a href="https://its.uiowa.edu/matlab"
class="uri">https://its.uiowa.edu/matlab</a>
<ul>
<li>Click <code>How to Install MatLab</code> and follow the relevant
instructions</li>
<li>Create a <code>MatLab</code> folder in your local directory. You
will keep all of your MatLab related files in this folder.</li>
</ul></li>
<li>Install the HAPPE pipeline: <a
href="https://github.com/PINE-Lab/HAPPE"
class="uri">https://github.com/PINE-Lab/HAPPE</a>
<ul>
<li>Clone the HAPPE repository to your <code>GitHub</code> account</li>
<li>Open the <code>HAPPE</code> folder</li>
<li>Open the <code>HAPPE User Guide</code> document</li>
<li>Read through the <code>HAPPE User Guide</code></li>
<li>Navigate to the <code>Setting up HAPPE</code> section in the user
guide and follow the instructions for setting up the HAPPE pipeline,
including installation of add-ons and eeglab</li>
</ul></li>
<li>Install EP Toolkit: <a
href="https://sourceforge.net/projects/erppcatoolkit/"
class="uri">https://sourceforge.net/projects/erppcatoolkit/</a>
<ul>
<li>After downloading, copy the <code>EP_Toolkit</code> folder to your
<code>Matlab</code> folder (in your local directory)</li>
<li>In the <code>EP_toolkit</code> folder:
<ul>
<li>Open <code>EP_Toolkit</code></li>
<li>Open <code>Documentation</code></li>
<li>Open <code>tutorial</code></li>
</ul></li>
<li>In the <code>tutorial</code> document, navigate to the
<code>Set Up</code> section and follow the instructions for installing
and setting up EP Toolkit and FieldTrip. Do <strong>NOT</strong> follow
instructions for setting up EEGLAB. You have already set up your path to
EEGLAB when you set up the HAPPE pipeline.</li>
<li>You should have the following subfolders in your <code>MatLab</code>
folder:
<ul>
<li><code>EP_Toolkit</code></li>
<li><code>Fieldtrip-[version number]</code></li>
</ul></li>
</ul></li>
<li>Open the HAPPE pipeline V4 script in MATLAB
<ul>
<li>Follow the User Guide instructions for the HAPPE-ER pipeline, using
the user inputs described below.</li>
</ul></li>
</ol>
<div id="oddball-task" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Oddball Task</h2>
<ol style="list-style-type: decimal">
<li>User Inputs
<ul>
<li>Enter the path to the folder containing the dataset. All ERP files
are stored on the lab drive
(<code>\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP</code>)</li>
<li>Select <code>raw</code></li>
<li>Load pre-existing set of input parameter:
<ul>
<li><code>N</code> if this is your first time running data through the
pipeline.</li>
<li><code>Y</code> if you have decided on a set of parameters. Enter the
path to the folder containing the input parameters.</li>
</ul></li>
<li>Low density data: <code>N</code></li>
<li>Data type: <code>task</code></li>
<li>Performing event-related potential (ERP) analysis:
<code>Y</code></li>
<li>Enter the task onset tags
<ul>
<li>Target: <code>tgt+</code></li>
<li>Frequent: <code>frq+</code></li>
<li><code>done</code></li>
</ul></li>
<li>Do multiple onset tags belong to a single condition?
<code>N</code></li>
<li>File format: <code>5</code></li>
<li>Acquisition layout type: <code>2</code></li>
<li>Number of channels: <code>128</code></li>
<li>Do you have additioal type fields besides “code”?
<code>N</code></li>
<li>Select channels of interest: <code>all</code></li>
<li>Frequency of electrical noice in Hz: <code>60</code></li>
<li>Are there any additional frequencies, (e.g., harmonics) to reduce?
<code>N</code></li>
<li>Line Noise reduction method: <code>notch</code>
<ul>
<li>Low cutoff: <code>59</code></li>
<li>high cutoff: <code>61</code></li>
</ul></li>
<li>Resample: <code>N</code></li>
<li>Filter
<ul>
<li>Low Pass Cutoff: <code>30</code></li>
<li>High Pass Cutoff: <code>.1</code></li>
</ul></li>
<li>Choose a filter: <code>fir</code></li>
<li>Bad Channel Detection: <code>Y</code>
<ul>
<li><code>after</code> wavelet thresholding</li>
</ul></li>
<li>ECGone: <code>N</code></li>
<li>Wavelet Thresholding
<ul>
<li><code>default</code></li>
<li>Threshold rule: <code>hard</code></li>
</ul></li>
<li>MuscIL: <code>N</code></li>
<li>Segmentation: <code>Y</code>
<ul>
<li>Starting parameter for stimulus: <code>-200</code></li>
<li>Ending parameter for stimulus: <code>1000</code></li>
<li>Task offset: <code>2</code></li>
</ul></li>
<li>Baseline Correction: <code>Y</code>
<ul>
<li>Baseline Correction start: <code>-200</code></li>
<li>Baseline Correction end: <code>0</code></li>
</ul></li>
<li>Interpolation: <code>Y</code></li>
<li>Segment Rejection: <code>Y</code>
<ul>
<li>Segment Rejection Method: <code>amplitude</code>
<ul>
<li>minimum segment rejection threshold: <code>-150</code></li>
<li>maximum segment rejection threshold: <code>150</code></li>
<li>segment rejection based on all channels or ROI:
<code>all</code></li>
</ul></li>
</ul></li>
<li>Re-referencing: <code>Y</code>
<ul>
<li>Does your data contain a flatline or all zero reference channel?
<code>N</code></li>
<li>re-referencing method: <code>average</code></li>
</ul></li>
<li>Save format: <code>1</code></li>
<li>Visualizations: <code>N</code></li>
<li>Parameter file save name: <code>default</code></li>
</ul></li>
</ol>
</div>
<div id="fishshark" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Fish/Shark</h2>
<ol style="list-style-type: decimal">
<li>User Inputs
<ul>
<li>Enter the path to the folder containing the dataset. All ERP files
are stored on the lab drive
(<code>\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP</code>)</li>
<li>Select <code>raw</code></li>
<li>Load pre-existing set of input parameter:
<ul>
<li><code>N</code> if this is your first time running data through the
pipeline.</li>
<li><code>Y</code> if you have decided on a set of parameters. Enter the
path to the folder containing the input parameters.</li>
</ul></li>
<li>Low density data: <code>N</code></li>
<li>Data type: <code>task</code></li>
<li>Performing event-related potential (ERP) analysis:
<code>Y</code></li>
<li>Enter the task onset tags
<ul>
<li>Correct Go: <code>cGo++</code></li>
<li>Incorrect Go: <code>xGo++</code></li>
<li>Correct NoGo: <code>cNoGo++</code></li>
<li>Incorrect NoGo: <code>xNoGo++</code></li>
<li><code>done</code></li>
</ul></li>
<li>Do multiple onset tags belong to a single condition?
<code>N</code></li>
<li>File format: <code>5</code></li>
<li>Acquisition layout type: <code>2</code></li>
<li>Number of channels: <code>128</code></li>
<li>Do you have additioal type fields besides “code”?
<code>N</code></li>
<li>Select channels of interest: <code>all</code></li>
<li>Frequency of electrical noice in Hz: <code>60</code></li>
<li>Are there any additional frequencies, (e.g., harmonics) to reduce?
<code>N</code></li>
<li>Line Noise reduction method: <code>notch</code>
<ul>
<li>Low cutoff: <code>59</code></li>
<li>high cutoff: <code>61</code></li>
</ul></li>
<li>Resample: <code>N</code></li>
<li>Filter
<ul>
<li>Low Pass Cutoff: <code>30</code></li>
<li>High Pass Cutoff: <code>.1</code></li>
</ul></li>
<li>Choose a filter: <code>fir</code></li>
<li>Bad Channel Detection: <code>Y</code>
<ul>
<li><code>after</code> wavelet thresholding</li>
</ul></li>
<li>ECGone: <code>N</code></li>
<li>Wavelet Thresholding
<ul>
<li><code>default</code></li>
<li>Threshold rule: <code>hard</code></li>
</ul></li>
<li>MuscIL: <code>N</code></li>
<li>Segmentation: <code>Y</code>
<ul>
<li>Starting parameter for stimulus: <code>-200</code></li>
<li>Ending parameter for stimulus: <code>1000</code></li>
<li>Task offset: <code>17</code></li>
</ul></li>
<li>Baseline Correction: <code>Y</code>
<ul>
<li>Baseline Correction start: <code>-200</code></li>
<li>Baseline Correction end: <code>0</code></li>
</ul></li>
<li>Interpolation: <code>Y</code></li>
<li>Segment Rejection: <code>Y</code>
<ul>
<li>Segment Rejection Method: <code>amplitude</code>
<ul>
<li>minimum segment rejection threshold: <code>-150</code></li>
<li>maximum segment rejection threshold: <code>150</code></li>
<li>segment rejection based on all channels or ROI:
<code>all</code></li>
</ul></li>
</ul></li>
<li>Re-referencing: <code>Y</code>
<ul>
<li>Does your data contain a flatline or all zero reference channel?
<code>N</code></li>
<li>re-referencing method: <code>average</code></li>
</ul></li>
<li>Save format: <code>1</code></li>
<li>Visualizations: <code>N</code></li>
<li>Parameter file save name: <code>default</code></li>
</ul></li>
</ol>
</div>
<div id="stop-signal" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Stop-Signal</h2>
</div>
</div>
<div id="erp-pca-ep-toolkit" class="section level1" number="3">
<h1><span class="header-section-number">3</span> ERP PCA (EP)
Toolkit</h1>
<div id="reading-text-files-into-ep-toolkit" class="section level2"
number="3.1">
<h2><span class="header-section-number">3.1</span> Reading Text Files
into EP Toolkit</h2>
<ol style="list-style-type: decimal">
<li>Open MATLAB with “Run as Administrator”</li>
<li>Open ERP PCA Toolkit in MATLAB
<ul>
<li>Type <code>ep</code> in command prompt</li>
</ul></li>
<li>Click <code>Read</code> to import files</li>
<li>Use the following options
<ul>
<li>Format = <code>text (.txt)</code></li>
<li>Type = <code>average</code></li>
<li>Mont = <code>Adult Hydrocel 128-channel 1.0</code></li>
</ul></li>
<li>Select <code>Single File Mode</code>.
<ul>
<li>Single file mode will use the filename to assign the task condition
and participant ID for each file.
<ul>
<li>Note: <code>R</code> can rename files in batches Thus, <strong>it is
critical to use a standard naming convention to name the files</strong>.
For example, an oddball file could be named:</li>
<li><code>frq_1001_36</code> and <code>tgt_1001_36</code></li>
</ul></li>
<li>A FishSharks file meanwhile could be named: <code>cgo_1001_36</code>
and <code>cng_1001_36</code></li>
</ul></li>
<li>In the <code>Single File Mode</code> menu use the
<code>Subject</code> field to denote which characters in the filename
name will determine the participant ID.
<ul>
<li>For the above example <code>1:7</code> would correspond to
<code>1001_36</code></li>
</ul></li>
<li>Next, In the <code>Single File Mode</code> menu use the
<code>Cell</code> field to denote which characters in the file name will
determine the task condition.
<ul>
<li>For the below example <code>41:43</code> would correspond to
<code>frq</code> or <code>tgt</code>.</li>
<li>For FishSharks files, it might be <code>47:49</code> that correspond
to <code>cgo</code> or <code>cng</code>.</li>
<li><div class="float">
<img src="images/readTextFile2024.png" alt="image" />
<div class="figcaption">image</div>
</div></li>
</ul></li>
<li>Select <code>Read</code> and select the
<code>GSN-Hydrocel-129.ced</code> when prompted</li>
<li>The new file will have the participant ID and will combine the
conditions for each participant.
<ul>
<li>Subject Names:
<ul>
<li><div class="float">
<img src="images/subjectCombinedNames.png" alt="image" />
<div class="figcaption">image</div>
</div></li>
</ul></li>
<li>Task Conditions
<ul>
<li><div class="float">
<img src="images/conditionCombinedNames.png" alt="image" />
<div class="figcaption">image</div>
</div></li>
</ul></li>
</ul></li>
</ol>
</div>
<div id="update-file-with-experiment-information" class="section level2"
number="3.2">
<h2><span class="header-section-number">3.2</span> Update File with
Experiment Information</h2>
<ol style="list-style-type: decimal">
<li>Go to <code>Main</code> and click <code>Edit</code></li>
<li>Click on the file you imported</li>
<li>In <code>Overview</code>, add the following information:
<ul>
<li>Experiment Name: <code>Oddball</code>, <code>FishShark</code>, or
<code>StopSignal</code></li>
<li>Reference Type: change to <code>average reference</code></li>
<li>Prestimulus period: change to <code>200</code></li>
<li>Nominal sampling rate: change to <code>1000</code></li>
</ul></li>
<li>Click <code>Done</code></li>
<li>Go to <code>Main</code> and click <code>Save</code>
<ul>
<li>Save the combined file as an <code>.ept</code> file in the
<code>4-EPT Averages</code> folder using the following naming
convention: “task_condition_age”. For example, if you were working on
the target condition of oddball for all age groups, you would save the
file as <code>ob_tgt_all</code></li>
</ul></li>
</ol>
</div>
<div id="temporal-pca" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Temporal PCA</h2>
<ol style="list-style-type: decimal">
<li>Go to <code>Main</code> and click <code>PCA</code></li>
<li>Input the following:
<ul>
<li>Mode: <code>temporal</code></li>
<li>Rotation: <code>promax</code></li>
<li>Factors: <code>0</code></li>
<li>Title: tPCA_experimentname (example:
<code>tPCA_ob_tgt_all</code>)</li>
</ul></li>
<li>Click the appropriate file (e.g., <code>ob_tgt_all</code>)</li>
<li>Determine how many factors to retain using the scree plot (keep the
number of factors where the blue line is above the red line)</li>
<li>Determine the percent variance accounted for by the number of
factors retained by changing the “minimum % age accounted for
criterion”. Record the number of factors retained and % variance
accounted for by that number of factors.</li>
<li>Re-run the temporal PCA using the above inputs, <strong>but change
the number of factors to the number of factors retained from the above
step</strong></li>
<li>Return to <code>Main</code> and click <code>Save</code>. Save the
tPCA file in the <code>5-PCA</code> folder</li>
</ol>
</div>
<div id="spatial-pca" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Spatial PCA</h2>
<ol style="list-style-type: decimal">
<li>Go to <code>Main</code> and click <code>PCA</code></li>
<li>Change the PCA type, using the following inputs:
<ul>
<li>Mode: <code>spatial</code></li>
<li>Rotation: <code>infomax</code></li>
<li>Factors: <code>0</code></li>
<li>Title: sPCA_experimentname (e.g., <code>sPCA_ob_tgt_all</code>)</li>
</ul></li>
<li>Click the appropriate file (e.g., <code>ob_tgt_all</code>)</li>
<li>Determine how many factors to retain using the scree plot (keep the
number of factors where the blue line is above the red line)</li>
<li>Determine the percent variance accounted for by the number of
factors retained by changing the “minimum % age accounted for
criterion”. Record the number of factors retained and % variance
accounted for by that number of factors.</li>
<li>Re-run the spatial PCA using the above inputs, <strong>but change
the number of factors to the number of factors retained from the above
step</strong></li>
<li>Return to <code>Main</code> and click <code>Save</code>. Save the
sPCA file in the <code>5-PCA</code> folder</li>
</ol>
</div>
<div id="temporospatial-pca" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Temporospatial
PCA</h2>
<ol style="list-style-type: decimal">
<li>Go to <code>Main</code> and click <code>PCA</code></li>
<li>Change the PCA type, using the following inputs:
<ul>
<li>Mode: <code>spatial</code></li>
<li>Rotation: <code>infomax</code></li>
<li>Factors: <code>0</code></li>
<li>Title: tsPCA_experimentname (e.g.,
<code>tsPCA_ob_tgt_all</code>)</li>
</ul></li>
<li>Click the <code>tPCA</code> file (created in the previous step)</li>
<li>Determine how many factors to retain using the scree plot (keep the
number of factors where the blue line is above the red line)</li>
<li>Determine the percent variance accounted for by the number of
factors retained by changing the “minimum % age accounted for
criterion”. Record the number of factors retained and % variance
accounted for by that number of factors.</li>
<li>Re-run the spatial PCA using the above inputs, <strong>but change
the number of factors to the number of factors retained from the above
step</strong></li>
<li>Return to <code>Main</code> and click <code>Save</code>. Save the
tsPCA file in the <code>5-PCA</code> folder.</li>
</ol>
</div>
<div id="pca-component-selection" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> PCA Component
Selection</h2>
<p>Here, the goal is to select the PCA component that corresponds to the
ERP component of interest.</p>
<ol style="list-style-type: decimal">
<li>Go to <code>View</code> to begin the process of selecting the PCA
component that corresponds to the ERP of interest.
<ul>
<li>Iteratively select and view each temporospatial PCA component to
identify the PCA component (“factor”) that corresponds to the ERP of
interest (e.g., N2 or P3). Select the temporospatial PCA component that
corresponds to the ERP of interest based on the timing, spatial
location, morphology, and (as relevant) any condition- or age-related
differences of the component based on prior work.</li>
</ul></li>
<li>Generate tsPCA components. Go to <code>Window</code> and input the
following:
<ul>
<li>select the tsPCA file</li>
<li>select among <code>mean</code>, <code>maxPeak</code>, or other
options (According to Joe Dien), all the different methods result in
comparable <em>p</em>-values when dealing with PCA components (however,
they do not give the results when windowing the raw waveforms), so
select a method that makes sense for the story you want to tell</li>
<li>select <code>AutoPCA</code> or <code>Window</code> to select
channels If the peak amplitude is where you expect temporally and
spatially, then use the autoPCA function, and if it is not, then window
to where you expect it to be This will allow you to report results that
are more interpretable</li>
<li>Save the files generated from the AutoPCA in the
<code>6-PCA Components</code> folder using the following naming
convention: “task_condition_age” (e.g.,<code>ob_tgt_all</code>).</li>
</ul></li>
<li>To view all of the tsPCA components, click <code>View</code> and
input the following
<ul>
<li>select the appropriate file (e.g., <code>ob_tgt_all</code>)</li>
<li>select <code>gave</code></li>
<li>select <code>none</code></li>
<li>click <code>Waves</code></li>
</ul></li>
<li>It is good practice to check to make sure that components are
comparable across different age ranges
<ul>
<li>You can check this in one of two ways:
<ul>
<li>Visually examine grand averages between age ranges</li>
<li>Apply the PCA from one age group and apply it to another age group
and examine whether the results hold up using cross-validation in
EPToolkit</li>
</ul></li>
</ul></li>
</ol>
</div>
</div>
<div id="appendix" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Appendix</h1>
<div id="troubleshooting" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Troubleshooting</h2>
<ol style="list-style-type: decimal">
<li>Running out of space on EP Toolkit? You can navigate to your folder
(maybe under Documents/MATLAB/EPwork) and delete everything except for
EPprefs to refresh your workspace. NOTE: This will delete everything
stored in EP Toolkit, so remember to back up files that you need to
save.</li>
</ol>
</div>
<div id="to-do" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> To-do</h2>
<ul>
<li>Better describe the missingness for files
<ul>
<li>We need a systematic way to identify new ways to process the
missingness</li>
<li>Find a way to best describe and report the ways of missingness</li>
</ul></li>
<li>Go through the maxmem edits on the clean_rawData question. We want a
standardized value on the machines</li>
<li>Look at the warning messages for the automatic script updates
<ul>
<li>automatic cleaning of files problems</li>
</ul></li>
<li>Integrate ERPLAB with our existing EEGLab Functions including:
<ul>
<li>Adding an event list:
<ul>
<li>Currently, some code for this is updated in the script on the lab
drive</li>
<li>Documentation is <a
href="https://github.com/lucklab/erplab/wiki/Creating-an-EventList:-ERPLAB-Functions:-Tutorial">here</a></li>
</ul></li>
<li>Figure out how to average epochs and export to the EP Toolkit</li>
</ul></li>
<li>Evaluate the semi-automated pipelines from:
<ul>
<li><a
href="https://onlinelibrary.wiley.com/doi/full/10.1111/psyp.13580">Debnath
et al. (2020)</a></li>
<li><a
href="https://www.sciencedirect.com/science/article/pii/S0165027020303848">Desjardins
et al. (2021)</a></li>
<li><a
href="https://www.sciencedirect.com/science/article/pii/S1878929322000214">Flo
et al. (2022)</a></li>
<li><a
href="https://www.frontiersin.org/articles/10.3389/fnins.2018.00097/full">Gabar-Durnam
et al. (2018)</a></li>
<li><a
href="https://www.sciencedirect.com/science/article/pii/S1878929321001146">Haresign
et al. (2021)</a></li>
<li><a
href="https://www.sciencedirect.com/science/article/pii/S1878929322000123">Kumaravel
et al. (2022)</a></li>
</ul></li>
</ul>
</div>
<div id="eeglab-processing-steps" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> EEGLab Processing
Steps</h2>
<p><a href="https://eeglab.org/tutorials/"
class="uri">https://eeglab.org/tutorials/</a></p>
<ol style="list-style-type: decimal">
<li>Filtering</li>
<li>Average Referencing</li>
<li>Artifact Rejection
<ol style="list-style-type: decimal">
<li>Automated artifact rejection (save intermediate file)</li>
<li>Manual selection of bad channels</li>
<li>Manual selection of bad time periods (save intermediate file)</li>
<li>Removal of manually selected bad channels</li>
<li>Removal of manually selected bad time periods (save intermediate
file)</li>
<li><a href="#ica">Independent Component Analysis</a> (ICA)
<ol style="list-style-type: decimal">
<li>Run ICA</li>
<li>Automated removal of bad ICA components</li>
<li>Re-run ICA (save intermediate file)</li>
<li>Manual selection of bad ICA components (save intermediate file)</li>
<li>Removal of manually selected bad ICA components</li>
</ol></li>
</ol></li>
<li>Interpolation of Bad Channels</li>
<li>Average Referencing</li>
<li>Segmentation</li>
<li>Baseline Correction (save final file)</li>
</ol>
</div>
<div id="eeglab" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> EEGLAB</h2>
<div id="install-plugins" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Install
Plugins</h3>
<p>MFFMatlabIO plugin</p>
</div>
<div id="import-data" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Import Data</h3>
<p>File → Import Data → Using EEGLAB functions and plugins → Import
Magstim/EGI .mff file</p>
<pre class="matlab"><code>EEG = pop_mffimport({&#39;\\\\lc-rs-store24.hpc.uiowa.edu\\lss_itpetersen\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\0-Raw Data (mff)\\1613_90_oddball.mff&#39;},{&#39;code&#39;},0,0);

[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;);</code></pre>
<p>Select <code>.mff</code> file(s)</p>
<p>Event type field (may select multiple): <code>code</code></p>
</div>
<div id="filter-data" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Filter Data</h3>
<p>Filter → Basic FIR Filter</p>
<p>0.1 – 30 Hz</p>
<p>save as new name</p>
<pre class="matlab"><code>EEG = pop_eegfiltnew(EEG, &#39;locutoff&#39;,0.1,&#39;hicutoff&#39;,30,&#39;plotfreqz&#39;,1);</code></pre>
</div>
<div id="average-referencing" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Average
Referencing</h3>
<p>Tools → Re-reference the data → Compute average reference</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_reref( EEG, []);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;setname&#39;,&#39;1613_90_oddball_fil_ref&#39;,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
<div id="artifact-rejection" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> Artifact
Rejection</h3>
<div id="automated-artifact-rejection" class="section level4"
number="4.4.5.1">
<h4><span class="header-section-number">4.4.5.1</span> Automated
Artifact Rejection</h4>
<p>Tools → Reject data using Clean Rawdata and ASR</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_clean_rawdata(EEG, &#39;FlatlineCriterion&#39;,5,&#39;ChannelCriterion&#39;,0.8,&#39;LineNoiseCriterion&#39;,4,&#39;Highpass&#39;,&#39;off&#39;,&#39;BurstCriterion&#39;,20,&#39;WindowCriterion&#39;,0.25,&#39;BurstRejection&#39;,&#39;on&#39;,&#39;Distance&#39;,&#39;Euclidian&#39;,&#39;WindowCriterionTolerances&#39;,[-Inf 7] );
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
<p>Currently, we run into a bug that yields the following error:</p>
<pre><code>Not enough memory, This is not a bug (Error occurred in function asr_process() at line 132)</code></pre>
<p>As a workaround, type the following code in MATLAB to edit the
function:</p>
<pre class="matlab"><code>edit clean_artifacts</code></pre>
<p>Then, change the number in the following line to a larger number
(e.g., 256) and click save:</p>
<pre class="matlab"><code>{&#39;max_mem&#39;,&#39;MaxMem&#39;}, 256, ...</code></pre>
</div>
<div id="selection-of-bad-channels" class="section level4"
number="4.4.5.2">
<h4><span class="header-section-number">4.4.5.2</span> Selection of Bad
Channels</h4>
<p>View data to identify bad channels to reject.</p>
<p>Edit → Select data</p>
<p>Specify channels to reject</p>
<p>Specify “on -&gt; remove these”</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_select( EEG, &#39;nochannel&#39;,{&#39;E44&#39;,&#39;E56&#39;,&#39;E57&#39;,&#39;E113&#39;});
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;setname&#39;,&#39;1613_90_oddball_fil_ref_chn&#39;,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
<div id="selection-of-bad-time-periods" class="section level4"
number="4.4.5.3">
<h4><span class="header-section-number">4.4.5.3</span> Selection of Bad
Time Periods</h4>
<p>Plot → Channel data (scroll)</p>
<p>Change voltage scale to 50</p>
<p>Settings → Time range to display</p>
<p>Change to 10 seconds</p>
<p>Settings → Number of channels to display</p>
<p>Change to number of channels to view at one time (e.g., 64)</p>
<p>To erase a selected portion of the data, first drag the mouse
(holding down the left mouse button) horizontally across the time region
of interest to mark it for rejection. To deselect a portion of the data,
simply click on the selected region.</p>
<p>After marking some portions of the data for rejection, press REJECT
and a new data set will be created with the rejected data omitted. A new
dataset will be created with the marked regions removed. Your goal is to
reject non-stereotypic artifacts. Do not reject blinks/saccades, because
<a href="#ica">independent component analysis</a> will remove those.</p>
<p>Clicking “Stack” stacks all electrodes on top of each other to more
easily identify noisy data.</p>
<p>Click “REJECT” to remove the bad time periods from the data file.</p>
</div>
<div id="ica" class="section level4" number="4.4.5.4">
<h4><span class="header-section-number">4.4.5.4</span> Independent
Component Analysis</h4>
<p><a href="https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html"
class="uri">https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html</a>
(archived at <a href="https://perma.cc/AEU9-GB3B"
class="uri">https://perma.cc/AEU9-GB3B</a>)</p>
<p><a
href="https://socialsci.libretexts.org/Bookshelves/Psychology/Book%3A_Applied_Event-Related_Potential_Data_Analysis_(Luck)/14%3A_Appendix_3%3A_Example_Processing_Pipeline"
class="uri">https://socialsci.libretexts.org/Bookshelves/Psychology/Book%3A_Applied_Event-Related_Potential_Data_Analysis_(Luck)/14%3A_Appendix_3%3A_Example_Processing_Pipeline</a>
(archived at <a href="https://perma.cc/9QYQ-BNFE"
class="uri">https://perma.cc/9QYQ-BNFE</a>)</p>
<p>The component order returned by <code>runica.m</code> is in
decreasing order of the EEG variance accounted for by each
component.</p>
<p>Tools → Decompose data by ICA</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_runica(EEG, &#39;icatype&#39;, &#39;runica&#39;, &#39;extended&#39;,1,&#39;interrupt&#39;,&#39;on&#39;);
[ALLEEG EEG] = eeg_store(ALLEEG, EEG, CURRENTSET);
eeglab redraw;</code></pre>
<p>Plot → Component maps → 2D</p>
<p>Visually identify independent components to remove</p>
<p>Tools → Inspect/label components by map</p>
<p>Example ICA Artifact Components</p>
<p><img src="images/ICA_EyeBlink.png" alt="ICA Eye Blink Artifact" />
<img src="images/ICA_LateralEyeMovement.png"
alt="ICA Lateral Eye Movement Artifact" /> <img
src="images/ICA_MuscleArtifact.png" alt="ICA Muscle Artifact" /> <img
src="images/ICA_CardiacArtifact.png" alt="ICA Cardiac Artifact" /> <img
src="images/ICA_BadChannel.png" alt="ICA Bad Channel" /></p>
<p>Example ICA Brain Components <img
src="images/ICA_BrainActivityEx1.png"
alt="ICA Brain Activity Example 1" /> <img
src="images/ICA_BrainActivityEx2.png"
alt="ICA Brain Activity Example 2" /> <img
src="images/ICA_BrainActivityEx3.png"
alt="ICA Brain Activity Example 3" /></p>
<p>Overview of ICA Components <img src="images/ICA_Overview.png"
alt="ICA Overview" /></p>
<p>Toggle the “Accept” button to reject an independent component, press
“OK” to specify it for rejection</p>
<p>Automated detection of artifactual ICA components:</p>
<p><a
href="https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html#automated-detection-of-artifactual-ica-components"
class="uri">https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html#automated-detection-of-artifactual-ica-components</a>
(archived at <a href="https://perma.cc/5RQ7-9WBT"
class="uri">https://perma.cc/5RQ7-9WBT</a>)</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_iclabel(EEG, &#39;default&#39;);
[ALLEEG EEG] = eeg_store(ALLEEG, EEG, CURRENTSET);
EEG = eeg_checkset( EEG );
EEG = pop_icflag(EEG, [NaN NaN;0.9 1;0.9 1;NaN NaN;NaN NaN;NaN NaN;NaN NaN]);
[ALLEEG EEG] = eeg_store(ALLEEG, EEG, CURRENTSET);
eeglab redraw;</code></pre>
<p>There are six categories of components: Brain, Muscle, Eye, Heart,
Line Noise, Channel Noise, and Other</p>
<p>Our goal is to keep the brain components and to remove everything
else (i.e., artifacts).</p>
<p>Tools → Classify components using ICLabel → Label components</p>
<p>Tools → Classify components using ICLabel → Flag components as
artifacts</p>
<p>Substracting rejected ICA components:</p>
<p><a
href="https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html#subtracting-ica-components-from-data"
class="uri">https://eeglab.org/tutorials/06_RejectArtifacts/RunICA.html#subtracting-ica-components-from-data</a>
(archived at <a href="https://perma.cc/HVH4-Z4SA"
class="uri">https://perma.cc/HVH4-Z4SA</a>)</p>
<p>Tools → Remove components</p>
<pre class="matlab"><code>EEG = pop_subcomp( EEG, [1    2    6    7   10   13   21   24   26   31   32   33   36   43   44   51   54   55   59   61   67   68   74   83   90   91   93   99  103  112  113  116  118  121], 0);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 6,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
</div>
<div id="interpolate-bad-channels" class="section level3"
number="4.4.6">
<h3><span class="header-section-number">4.4.6</span> Interpolate Bad
Channels</h3>
<p><a href="https://sccn.ucsd.edu/pipermail/eeglablist/2016/011199.html"
class="uri">https://sccn.ucsd.edu/pipermail/eeglablist/2016/011199.html</a>
(archived at <a href="https://perma.cc/97NH-8LAR"
class="uri">https://perma.cc/97NH-8LAR</a>)</p>
<p>To interpolate channels you would load up one file that has only the
good channels, then load up a second file that has the full channel
list, and then run the channel interpolation function from the eeglab
gui.</p>
<p>Tools → Interpolate Electrodes → Use all channels (or specific
channels?) of other dataset</p>
<p>Using all channels of other dataset:</p>
<p><strong>Important Note:</strong> Interpolating files will
re-reference the data. Average reference the data after interpolating
channels.</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_interp(EEG, ALLEEG(3).chanlocs, &#39;spherical&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 4,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
<p>Using specific channels of other dataset:</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_interp(EEG, ALLEEG(3).chanlocs([44   56   57  113]), &#39;spherical&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
<p>Removed channels:</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_interp(EEG, EEG.chaninfo.nodatchans([44  56  57  113]), &#39;spherical&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 3,&#39;gui&#39;,&#39;off&#39;); 
EEG = eeg_checkset( EEG );
eeglab redraw;</code></pre>
<p>Data channels:</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_interp(EEG, [44  56  57  113], &#39;spherical&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
<div id="average-referencing-1" class="section level3" number="4.4.7">
<h3><span class="header-section-number">4.4.7</span> Average
Referencing</h3>
<p>Tools → Re-reference the data → Compute average reference</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_reref( EEG, []);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;setname&#39;,&#39;1613_90_oddball_fil_ref&#39;,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
<div id="segmentation" class="section level3" number="4.4.8">
<h3><span class="header-section-number">4.4.8</span> Segmentation</h3>
<p>Tools → Extract Epochs</p>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_epoch( EEG, {  &#39;frq+&#39;  &#39;tgt+&#39;  }, [-0.2           1], &#39;newname&#39;, &#39;1613_90_oddball_fil_ref epochs&#39;, &#39;epochinfo&#39;, &#39;yes&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;); </code></pre>
</div>
<div id="baseline-correction" class="section level3" number="4.4.9">
<h3><span class="header-section-number">4.4.9</span> Baseline
Correction</h3>
<pre class="matlab"><code>EEG = eeg_checkset( EEG );
EEG = pop_rmbase( EEG, [-200 0] ,[]);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 1,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;</code></pre>
</div>
</div>
<div id="automatic-script-example" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Automatic Script
example</h2>
<pre class="matlab"><code>% Starting EEG Lab 
[ALLEEG EEG CURRENTSET ALLCOM] = eeglab;

%% Helpful documentation is located here
% https://eeglab.org/tutorials/11_Scripting/Using_EEGLAB_history.html (archived at https://perma.cc/Y687-5GKE)
% https://eeglab.org/tutorials/ConceptsGuide/Data_Structures.html (archived at https://perma.cc/5F39-5S32)

%Loading in the Dataset
EEG = pop_mffimport({&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\0-Raw Data (mff)\\1613_90_oddball.mff&#39;},{&#39;code&#39;},0,0);
EEG.setname=&#39;raw&#39;;
EEG = eeg_checkset( EEG );
%Storing the current dataset
[ALLEEG, EEG] = eeg_store( ALLEEG, EEG, 1);
% refreshing the graphical interface
eeglab redraw;

%Filter the data
EEG = pop_eegfiltnew(ALLEEG(1), &#39;locutoff&#39;,0.1,&#39;hicutoff&#39;,30,&#39;plotfreqz&#39;,1);
%Save the Filtered dataset 
%ALLEEG EEG CURRENTSET seems to just be a name for all of the current data
%sets 
%pop_newset seems to save the dataset in both memory and in the toolkit
[ALLEEG, EEG, CURRENTSET] = pop_newset(ALLEEG, EEG, 2,&#39;setname&#39;,&#39;fil&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\1-Filtering (fil)\\tcid_wave.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

% Average referencing
%EEG = eeg_checkset( EEG );
EEG = pop_reref( ALLEEG(2), []);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 3,&#39;setname&#39;,&#39;Avg Ref&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\9-Average Reference (ref)\\tcid_wave_avg.set&#39;,&#39;gui&#39;,&#39;off&#39;);
eeglab redraw;

% Rejecting the artifacts
% testing bumping the 
EEG = pop_clean_rawdata(ALLEEG(3), &#39;FlatlineCriterion&#39;,5,&#39;ChannelCriterion&#39;,0.8,&#39;LineNoiseCriterion&#39;,4,&#39;Highpass&#39;,&#39;off&#39;,&#39;BurstCriterion&#39;,30,&#39;WindowCriterion&#39;,0.25,&#39;BurstRejection&#39;,&#39;on&#39;,&#39;Distance&#39;,&#39;Euclidian&#39;,&#39;WindowCriterionTolerances&#39;,[-Inf 7] );
%Saving cleaned dataset
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 4,&#39;setname&#39;,&#39;clean data&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\10-Clean Artificats (clean)\\tcid_wave_clean.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

% Placeholder to manually remove bad channels


% ICA components
EEG = pop_runica(ALLEEG(4), &#39;icatype&#39;, &#39;runica&#39;, &#39;extended&#39;, 1,&#39;interrupt&#39;,&#39;on&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 5,&#39;setname&#39;,&#39;ICA test&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\11-ICA\\tcid_wave_ICA.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

%Manually reject ICA components
EEG = pop_subcomp( EEG, [1    2    6    7   10   13   21   24   26   31   32   33   36   43   44   51   54   55   59   61   67   68   74   83   90   91   93   99  103  112  113  116  118  121], 0);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 6,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

% Place holder to remind to manually remove the channels that we would
% like to reject
% taking the EEG channel lock of the first (raw) dataset
EEG = eeg_checkset( EEG );
EEG = pop_interp(ALLEEG(5), ALLEEG(1).chanlocs, &#39;spherical&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 6,&#39;setname&#39;,&#39;Interpolated&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\12-Interpolate\\tcid_wave_Interpolate.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

% Segmenting the Data
EEG = eeg_checkset( EEG );
EEG = pop_epoch( ALLEEG(6), {  &#39;frq+&#39;  &#39;tgt+&#39;  }, [-0.2 1], &#39;newname&#39;, &#39;tcid_wave_segmented&#39;, &#39;epochinfo&#39;, &#39;yes&#39;);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 7,&#39;setname&#39;,&#39;Segmented&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\13-Segment\\tcid_wave_Segment.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;

% Baseline Correcting the Data
EEG = eeg_checkset( EEG );
EEG = pop_rmbase( ALLEEG(7), [-200 0] ,[]);
[ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, 8,&#39;setname&#39;,&#39;Baseline Correct&#39;,&#39;savenew&#39;,&#39;R:\\Lab\\Studies\\School Readiness Study\\Data\\LV2\\ERP\\Oddball\\MATLAB\\14-Baseline-Correct\\tcid_wave_baseline-correct.set&#39;,&#39;gui&#39;,&#39;off&#39;); 
eeglab redraw;
</code></pre>
</div>
<div id="automatic-script-that-loops-files" class="section level2"
number="4.6">
<h2><span class="header-section-number">4.6</span> Automatic script that
loops files</h2>
<div id="warning-messages-with-script" class="section level3"
number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Warning messages
with script</h3>
<p>Warning messages appeared when using the automatic cleaning of data.
We may have to send a dataset to someone so they can check on it. Some
documentation is found here:</p>
<ul>
<li><a
href="https://sccn.ucsd.edu/pipermail/eeglablist/2021/016222.html"
class="uri">https://sccn.ucsd.edu/pipermail/eeglablist/2021/016222.html</a>
(archived at <a href="https://perma.cc/9SDG-NGXD"
class="uri">https://perma.cc/9SDG-NGXD</a>)</li>
<li><a href="https://sccn.ucsd.edu/wiki/EEGLAB_bug1971"
class="uri">https://sccn.ucsd.edu/wiki/EEGLAB_bug1971</a> (archived at
<a href="https://perma.cc/H7PA-TPTZ"
class="uri">https://perma.cc/H7PA-TPTZ</a>)</li>
</ul>
</div>
<div
id="filtering-average-referencing-and-automatically-cleaning-the-data."
class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Filtering, average
referencing, and automatically cleaning the data.</h3>
<p>This script batch reads in files, filters them, average references,
and automatically cleans them. After that, this script reads in the
cleaned files for manually processing to remove bad time periods and bad
channels</p>
<pre class="matlab"><code>%10/20/22 Working script that reads everything into matlab


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Location of Raw oddball files
rawOddballFiles = &#39;\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP\Oddball\MATLAB\0-Raw\&#39;;
%Location of path to save cleaned files
cleanAutoPath = &#39;\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP\Oddball\MATLAB\10-Clean Artificats (clean)\&#39;;

%all oddball files in the directory to be processed
filesInDirectory = dir(fullfile(rawOddballFiles, &#39;*.mff&#39;)); %Reading the files in the directory

%Listing the number of subjects for the number of times to loop
numberOfSubject = height(filesInDirectory);

%Names of all the files in the directory
listOfSubjects={filesInDirectory.name}; 

%splitting the filename up
filenameSplit = regexp(listOfSubjects, &#39;_&#39;, &#39;split&#39;);  
id = cellfun(@(x) x{1},filenameSplit,&#39;un&#39;,0);  %getting the id&#39;s
wave = cellfun(@(x) x{2},filenameSplit,&#39;un&#39;,0); %getting the waves



[ALLEEG EEG CURRENTSET ALLCOM] = eeglab;

for i=1:numberOfSubject

    %%%% Importing Data
    path = [rawOddballFiles,filesInDirectory(i).name];
    tcid = char(strcat(id(i),&#39;_&#39;, wave(i))); %combining the TCID and wave

    EEG = pop_mffimport({path},{&#39;code&#39;},0,0);
    % Saving the data in memory
   [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;setname&#39;, tcid,&#39;gui&#39;,&#39;off&#39;);

    % Filtering the data
    EEG = pop_eegfiltnew(ALLEEG(i), &#39;locutoff&#39;,0.1,&#39;hicutoff&#39;,30,&#39;plotfreqz&#39;,1);
    [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;);
    
    % Average Referencing
    EEG = pop_reref( ALLEEG(i), []);
    [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;overwrite&#39;,&#39;on&#39;,&#39;gui&#39;,&#39;off&#39;);

    % They strongly advise importing channel locations before using this
    % function.
    %Cleaning the Data
    EEG = pop_clean_rawdata(ALLEEG(i), &#39;FlatlineCriterion&#39;,5,&#39;ChannelCriterion&#39;,0.8,&#39;LineNoiseCriterion&#39;,4,&#39;Highpass&#39;,&#39;off&#39;,&#39;BurstCriterion&#39;,30,&#39;WindowCriterion&#39;,0.25,&#39;BurstRejection&#39;,&#39;on&#39;,&#39;Distance&#39;,&#39;Euclidian&#39;,&#39;WindowCriterionTolerances&#39;,[-Inf 7]);
    nameClean = [tcid,&#39;_autoClean.set&#39;];
    savePathClean = [cleanAutoPath,nameClean];
    [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;setname&#39;, nameClean, &#39;savenew&#39;, savePathClean, &#39;gui&#39;,&#39;off&#39;, &#39;overwrite&#39;, &#39;on&#39;);


end
eeglab redraw:

%% Reading in automatically cleaned datasets

%%%%%%%%%%%%%%
% Clear Data becasue to overwrite anything in memory
%%%%%%%%%%%%%%
ALLEEG = [];
EEG = [];

% Adding the path for cleaned files
cleanAutoPath = &#39;\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP\Oddball\MATLAB\10-Clean Artificats (clean)\&#39;;

%Starting EEGLAB
[ALLEEG EEG CURRENTSET ALLCOM] = eeglab;


%Location of cleaned oddball data
filesInDirectoryClean = dir(fullfile(cleanAutoPath, &#39;*.set&#39;)); %Reading the files in the directory


%Listing the number of subjects for the number of times to loop
numberOfSubjectClean = height(filesInDirectoryClean);

%Names of all the files in the directory
listOfSubjectsClean = {filesInDirectoryClean.name}; 

%splitting the filename up
filenameSplitClean = regexp(listOfSubjectsClean, &#39;_&#39;, &#39;split&#39;);  
id = cellfun(@(x) x{1},filenameSplitClean,&#39;un&#39;,0);  %getting the id&#39;s
wave = cellfun(@(x) x{2},filenameSplitClean,&#39;un&#39;,0); %getting the waves


for i=1:numberOfSubjectClean

    %%%% Importing Data
    tcidClean = char(strcat(id(i),&#39;_&#39;, wave(i), &#39;_autoClean.set&#39;)); %combining the TCID and wave to name the file
    EEG = pop_loadset(&#39;filename&#39;, tcidClean, &#39;filepath&#39;, cleanAutoPath); 
    [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;setname&#39;, tcidClean,&#39;gui&#39;,&#39;off&#39;);

end
eeglab redraw;</code></pre>
</div>
<div id="removing-bad-time-periods-and-channels" class="section level3"
number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Removing bad time
periods and channels</h3>
<ol style="list-style-type: decimal">
<li>In the now open EEGLAB interface, select a dataset. Go to
<code>Tools</code> &gt; <code>Inspect/reject data by eye</code></li>
</ol>
<div class="float">
<img src="images/visual_reject_artifacts.png"
alt="visually reject artifacts" />
<div class="figcaption">visually reject artifacts</div>
</div>
<ol style="list-style-type: decimal">
<li>Go through the raw signal and manually reject bad time periods</li>
</ol>
<div class="float">
<img src="images/reject_time_periods.png"
alt="visually reject artifacts" />
<div class="figcaption">visually reject artifacts</div>
</div>
<ol style="list-style-type: decimal">
<li>Select <code>REJECT</code> and overwrite the file in memory
<ul>
<li>select
<code>Overwrite it in memory (set=yes; unset=create a new dataset)</code></li>
</ul></li>
<li>Visually inspect the data and select any bad channels, and write
them down</li>
<li>Next, manually reject the channels by selecting <code>Edit</code>
then <code>Select Data</code></li>
</ol>
<div class="float">
<img src="images/drop_channels.png" alt="visually reject artifacts" />
<div class="figcaption">visually reject artifacts</div>
</div>
<ol style="list-style-type: decimal">
<li>Manually enter the channels to be removed in the
<code>Channel range</code> field and select the checkbox under
<code>on-&gt;remove these</code> and select <code>Ok</code></li>
<li>Save the file as <code>tcid_wave_manualClean.set</code> in the
following drive path
<ul>
<li><code>\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP\Oddball\MATLAB\11-Manually Cleaned</code></li>
<li>This screenshot represents removing channels
<code>23 56 57 97</code> <img src="images/remove_channels_specific.png"
alt="visually reject artifacts" /></li>
</ul></li>
<li>Repeat step for each cleaned dataset</li>
</ol>
</div>
<div id="running-the-ica" class="section level3" number="4.6.4">
<h3><span class="header-section-number">4.6.4</span> Running the
ICA</h3>
<p>This script runs the ICA. We’ll want to think about how to
automatically reject the components here. Once this runs, see the <a
href="#ica">ICA section</a> to reject components. Tools → Inspect/label
components by map is how to reject components.</p>
<pre class="matlab"><code>% Running the ICA

%% Reading in the manually cleaned datasets

%%%%%%%%%%%%%%
% Clear Data becasue to overwrite anything in memory
%%%%%%%%%%%%%%
ALLEEG = [];
EEG = [];

% Adding the path for cleaned files
manualCleanPath = &#39;\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data\LV2\ERP\Oddball\MATLAB\11-Manually Cleaned\&#39;;

%Starting EEGLAB
[ALLEEG EEG CURRENTSET ALLCOM] = eeglab;


%Location of cleaned oddball data
filesInDirectoryManualClean = dir(fullfile(manualCleanPath, &#39;*.set&#39;)); %Reading the files in the directory


%Listing the number of subjects for the number of times to loop
numberOfSubjectManualClean = height(filesInDirectoryManualClean);

%Names of all the files in the directory
listOfSubjectsManualClean = {filesInDirectoryManualClean.name}; 

%splitting the filename up
filenameSplitManualClean = regexp(listOfSubjectsManualClean, &#39;_&#39;, &#39;split&#39;);  
id = cellfun(@(x) x{1},filenameSplitManualClean,&#39;un&#39;,0);  %getting the id&#39;s
wave = cellfun(@(x) x{2},filenameSplitManualClean,&#39;un&#39;,0); %getting the waves


for i=1:numberOfSubjectManualClean

    %%%% Importing Data
    tcidClean = char(strcat(id(i),&#39;_&#39;, wave(i), &#39;_manualClean.set&#39;)); %combining the TCID and wave to name the file
    EEG = pop_loadset(&#39;filename&#39;, tcidClean, &#39;filepath&#39;, manualCleanPath); 
    [ALLEEG EEG CURRENTSET] = pop_newset(ALLEEG, EEG, i,&#39;setname&#39;, tcidClean,&#39;gui&#39;,&#39;off&#39;);

    %%% Running the ICA
    EEG = eeg_checkset( EEG );
    EEG = pop_runica(EEG, &#39;icatype&#39;, &#39;runica&#39;, &#39;extended&#39;,1,&#39;interrupt&#39;,&#39;on&#39;);
    [ALLEEG EEG] = eeg_store(ALLEEG, EEG, CURRENTSET);
    eeglab redraw;

end
eeglab redraw;</code></pre>
</div>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiRUVHIGFuZCBFUlAgUHJvY2Vzc2luZyBhbmQgQW5hbHlzaXMiCi0tLQoKYGBge3Igc2V0dXAsIGluY2x1ZGUgPSBGQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KAogIGVjaG8gPSBUUlVFLAogIGVycm9yID0gVFJVRSwKICBjb21tZW50ID0gIiIpCmBgYAoKIyBFeHRyYWN0aW5nIEJlaGF2aW9yYWwgRGF0YSBmcm9tIGBFLVByaW1lYAoKMS4gUnVuIEUtTWVyZ2UKMS4gTmF2aWdhdGUgdG8gdGhlIGZvbGRlciB3aXRoIHRoZSB0YXNrIGRhdGEKMS4gU2VsZWN0IGBNZXJnZWAKMS4gU2VsZWN0IGBSZWN1cnNpdmUgTWVyZ2VgCjEuIE9ubHkgbWVyZ2U6IGBBbGwgc3BlY2lmaWVkIGZpbGVzIHJlZ2FyZGxlc3Mgb2YgbWVyZ2Ugc3RhdHVzYAoxLiBTYXZlIHRhcmdldCBmaWxlIChgZmlsZW5hbWUuZW1yZzJgKQoxLiBEb3VibGUgY2xpY2sgdGhlIG5ld2x5IHNhdmVkIGZpbGUgKGBmaWxlbmFtZS5lbXJnMmApIHRvIG9wZW4gaXQgaW4gRS1EYXRhQWlkCjEuIEdvIHRvIGBGaWxlYCwgYEV4cG9ydGAKMS4gTWFrZSBzdXJlIGBTUFNTYCBpcyBzZWxlY3RlZCBhbmQgdGhhdCB0aGUgYFVuaWNvZGVgIG9wdGlvbiBpcyAqKnVuc2VsZWN0ZWQqKjogaHR0cHM6Ly9tYXR0a21pZWNpay5jb20vcG9zdHMvcG9zdC1TdG9wLVVzaW5nLUV4Y2VsLXRvLVByZXByb2Nlc3MtRS1QcmltZS1EYXRhL3Bvc3QtU3RvcC1Vc2luZy1FeGNlbC10by1QcmVwcm9jZXNzLUUtUHJpbWUtRGF0YS5odG1sIChhcmNoaXZlZCBhdCBodHRwczovL3Blcm1hLmNjL043MzQtNFc5WCkKMS4gU2F2ZSB0aGUgZmlsZSBhczogYGZpbGVuYW1lLnR4dGAKCiMgRVJQIFByb2Nlc3NpbmcgUGlwZWxpbmUgdXNpbmcgSEFQUEUKCjEuIERvd25sb2FkIE1BVExBQjogaHR0cHM6Ly9pdHMudWlvd2EuZWR1L21hdGxhYgogICAgLSBDbGljayBgSG93IHRvIEluc3RhbGwgTWF0TGFiYCBhbmQgZm9sbG93IHRoZSByZWxldmFudCBpbnN0cnVjdGlvbnMKICAgIC0gQ3JlYXRlIGEgYE1hdExhYmAgZm9sZGVyIGluIHlvdXIgbG9jYWwgZGlyZWN0b3J5LgogICAgWW91IHdpbGwga2VlcCBhbGwgb2YgeW91ciBNYXRMYWIgcmVsYXRlZCBmaWxlcyBpbiB0aGlzIGZvbGRlci4KMS4gSW5zdGFsbCB0aGUgSEFQUEUgcGlwZWxpbmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9QSU5FLUxhYi9IQVBQRQogICAgLSBDbG9uZSB0aGUgSEFQUEUgcmVwb3NpdG9yeSB0byB5b3VyIGBHaXRIdWJgIGFjY291bnQKICAgIC0gT3BlbiB0aGUgYEhBUFBFYCBmb2xkZXIKICAgIC0gT3BlbiB0aGUgYEhBUFBFIFVzZXIgR3VpZGVgIGRvY3VtZW50CiAgICAtIFJlYWQgdGhyb3VnaCB0aGUgYEhBUFBFIFVzZXIgR3VpZGVgCiAgICAtIE5hdmlnYXRlIHRvIHRoZSBgU2V0dGluZyB1cCBIQVBQRWAgc2VjdGlvbiBpbiB0aGUgdXNlciBndWlkZSBhbmQgZm9sbG93IHRoZSBpbnN0cnVjdGlvbnMgZm9yIHNldHRpbmcgdXAgdGhlIEhBUFBFIHBpcGVsaW5lLCBpbmNsdWRpbmcgaW5zdGFsbGF0aW9uIG9mIGFkZC1vbnMgYW5kIGVlZ2xhYgoxLiBJbnN0YWxsIEVQIFRvb2xraXQ6IGh0dHBzOi8vc291cmNlZm9yZ2UubmV0L3Byb2plY3RzL2VycHBjYXRvb2xraXQvCiAgICAtIEFmdGVyIGRvd25sb2FkaW5nLCBjb3B5IHRoZSBgRVBfVG9vbGtpdGAgZm9sZGVyIHRvIHlvdXIgYE1hdGxhYmAgZm9sZGVyIChpbiB5b3VyIGxvY2FsIGRpcmVjdG9yeSkKICAgIC0gSW4gdGhlIGBFUF90b29sa2l0YCBmb2xkZXI6IAogICAgICAgIC0gT3BlbiBgRVBfVG9vbGtpdGAKICAgICAgICAtIE9wZW4gYERvY3VtZW50YXRpb25gCiAgICAgICAgLSBPcGVuIGB0dXRvcmlhbGAKICAgIC0gSW4gdGhlIGB0dXRvcmlhbGAgZG9jdW1lbnQsIG5hdmlnYXRlIHRvIHRoZSBgU2V0IFVwYCBzZWN0aW9uIGFuZCBmb2xsb3cgdGhlIGluc3RydWN0aW9ucyBmb3IgaW5zdGFsbGluZyBhbmQgc2V0dGluZyB1cCBFUCBUb29sa2l0IGFuZCBGaWVsZFRyaXAuCiAgICBEbyAqKk5PVCoqIGZvbGxvdyBpbnN0cnVjdGlvbnMgZm9yIHNldHRpbmcgdXAgRUVHTEFCLgogICAgWW91IGhhdmUgYWxyZWFkeSBzZXQgdXAgeW91ciBwYXRoIHRvIEVFR0xBQiB3aGVuIHlvdSBzZXQgdXAgdGhlIEhBUFBFIHBpcGVsaW5lLgogICAgLSBZb3Ugc2hvdWxkIGhhdmUgdGhlIGZvbGxvd2luZyBzdWJmb2xkZXJzIGluIHlvdXIgYE1hdExhYmAgZm9sZGVyOgogICAgICAgIC0gYEVQX1Rvb2xraXRgCiAgICAgICAgLSBgRmllbGR0cmlwLVt2ZXJzaW9uIG51bWJlcl1gCjEuIE9wZW4gdGhlIEhBUFBFIHBpcGVsaW5lIFY0IHNjcmlwdCBpbiBNQVRMQUIKICAgIC0gRm9sbG93IHRoZSBVc2VyIEd1aWRlIGluc3RydWN0aW9ucyBmb3IgdGhlIEhBUFBFLUVSIHBpcGVsaW5lLCB1c2luZyB0aGUgdXNlciBpbnB1dHMgZGVzY3JpYmVkIGJlbG93LgoKIyMgT2RkYmFsbCBUYXNrCgoxLiBVc2VyIElucHV0cwogICAgLSBFbnRlciB0aGUgcGF0aCB0byB0aGUgZm9sZGVyIGNvbnRhaW5pbmcgdGhlIGRhdGFzZXQuCiAgICBBbGwgRVJQIGZpbGVzIGFyZSBzdG9yZWQgb24gdGhlIGxhYiBkcml2ZSAoYFxcbGMtcnMtc3RvcmUyNC5ocGMudWlvd2EuZWR1XGxzc19pdHBldGVyc2VuXExhYlxTdHVkaWVzXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcRGF0YVxMVjJcRVJQYCkKICAgIC0gU2VsZWN0IGByYXdgCiAgICAtIExvYWQgcHJlLWV4aXN0aW5nIHNldCBvZiBpbnB1dCBwYXJhbWV0ZXI6IAogICAgICAgIC0gYE5gIGlmIHRoaXMgaXMgeW91ciBmaXJzdCB0aW1lIHJ1bm5pbmcgZGF0YSB0aHJvdWdoIHRoZSBwaXBlbGluZS4KICAgICAgICAtIGBZYCBpZiB5b3UgaGF2ZSBkZWNpZGVkIG9uIGEgc2V0IG9mIHBhcmFtZXRlcnMuCiAgICAgICAgRW50ZXIgdGhlIHBhdGggdG8gdGhlIGZvbGRlciBjb250YWluaW5nIHRoZSBpbnB1dCBwYXJhbWV0ZXJzLgogICAgLSBMb3cgZGVuc2l0eSBkYXRhOiBgTmAKICAgIC0gRGF0YSB0eXBlOiBgdGFza2AKICAgIC0gUGVyZm9ybWluZyBldmVudC1yZWxhdGVkIHBvdGVudGlhbCAoRVJQKSBhbmFseXNpczogYFlgCiAgICAtIEVudGVyIHRoZSB0YXNrIG9uc2V0IHRhZ3MKICAgICAgICAtIFRhcmdldDogYHRndCtgCiAgICAgICAgLSBGcmVxdWVudDogYGZycStgCiAgICAgICAgLSBgZG9uZWAKICAgIC0gRG8gbXVsdGlwbGUgb25zZXQgdGFncyBiZWxvbmcgdG8gYSBzaW5nbGUgY29uZGl0aW9uPyBgTmAKICAgIC0gRmlsZSBmb3JtYXQ6IGA1YAogICAgLSBBY3F1aXNpdGlvbiBsYXlvdXQgdHlwZTogYDJgCiAgICAtIE51bWJlciBvZiBjaGFubmVsczogYDEyOGAKICAgIC0gRG8geW91IGhhdmUgYWRkaXRpb2FsIHR5cGUgZmllbGRzIGJlc2lkZXMgImNvZGUiPyBgTmAKICAgIC0gU2VsZWN0IGNoYW5uZWxzIG9mIGludGVyZXN0OiBgYWxsYAogICAgLSBGcmVxdWVuY3kgb2YgZWxlY3RyaWNhbCBub2ljZSBpbiBIejogYDYwYAogICAgLSBBcmUgdGhlcmUgYW55IGFkZGl0aW9uYWwgZnJlcXVlbmNpZXMsIChlLmcuLCBoYXJtb25pY3MpIHRvIHJlZHVjZT8gYE5gCiAgICAtIExpbmUgTm9pc2UgcmVkdWN0aW9uIG1ldGhvZDogYG5vdGNoYAogICAgICAgIC0gTG93IGN1dG9mZjogYDU5YAogICAgICAgIC0gaGlnaCBjdXRvZmY6IGA2MWAKICAgIC0gUmVzYW1wbGU6IGBOYAogICAgLSBGaWx0ZXIKICAgICAgICAtIExvdyBQYXNzIEN1dG9mZjogYDMwYAogICAgICAgIC0gSGlnaCBQYXNzIEN1dG9mZjogYC4xYAogICAgLSBDaG9vc2UgYSBmaWx0ZXI6IGBmaXJgCiAgICAtIEJhZCBDaGFubmVsIERldGVjdGlvbjogYFlgCiAgICAgICAgLSBgYWZ0ZXJgIHdhdmVsZXQgdGhyZXNob2xkaW5nCiAgICAtIEVDR29uZTogYE5gCiAgICAtIFdhdmVsZXQgVGhyZXNob2xkaW5nCiAgICAgICAgLSBgZGVmYXVsdGAKICAgICAgICAtIFRocmVzaG9sZCBydWxlOiBgaGFyZGAKICAgIC0gTXVzY0lMOiBgTmAKICAgIC0gU2VnbWVudGF0aW9uOiBgWWAKICAgICAgICAtIFN0YXJ0aW5nIHBhcmFtZXRlciBmb3Igc3RpbXVsdXM6IGAtMjAwYAogICAgICAgIC0gRW5kaW5nIHBhcmFtZXRlciBmb3Igc3RpbXVsdXM6IGAxMDAwYAogICAgICAgIC0gVGFzayBvZmZzZXQ6IGAyYAogICAgLSBCYXNlbGluZSBDb3JyZWN0aW9uOiBgWWAKICAgICAgICAtIEJhc2VsaW5lIENvcnJlY3Rpb24gc3RhcnQ6IGAtMjAwYAogICAgICAgIC0gQmFzZWxpbmUgQ29ycmVjdGlvbiBlbmQ6IGAwYAogICAgLSBJbnRlcnBvbGF0aW9uOiBgWWAKICAgIC0gU2VnbWVudCBSZWplY3Rpb246IGBZYAogICAgICAgIC0gU2VnbWVudCBSZWplY3Rpb24gTWV0aG9kOiBgYW1wbGl0dWRlYAogICAgICAgICAgICAtIG1pbmltdW0gc2VnbWVudCByZWplY3Rpb24gdGhyZXNob2xkOiBgLTE1MGAKICAgICAgICAgICAgLSBtYXhpbXVtIHNlZ21lbnQgcmVqZWN0aW9uIHRocmVzaG9sZDogYDE1MGAKICAgICAgICAgICAgLSBzZWdtZW50IHJlamVjdGlvbiBiYXNlZCBvbiBhbGwgY2hhbm5lbHMgb3IgUk9JOiBgYWxsYAogICAgLSBSZS1yZWZlcmVuY2luZzogYFlgCiAgICAgICAgLSBEb2VzIHlvdXIgZGF0YSBjb250YWluIGEgZmxhdGxpbmUgb3IgYWxsIHplcm8gcmVmZXJlbmNlIGNoYW5uZWw/IGBOYAogICAgICAgIC0gcmUtcmVmZXJlbmNpbmcgbWV0aG9kOiBgYXZlcmFnZWAKICAgIC0gU2F2ZSBmb3JtYXQ6IGAxYAogICAgLSBWaXN1YWxpemF0aW9uczogYE5gCiAgICAtIFBhcmFtZXRlciBmaWxlIHNhdmUgbmFtZTogYGRlZmF1bHRgCgojIyBGaXNoL1NoYXJrCgoxLiBVc2VyIElucHV0cwogICAgLSBFbnRlciB0aGUgcGF0aCB0byB0aGUgZm9sZGVyIGNvbnRhaW5pbmcgdGhlIGRhdGFzZXQuCiAgICBBbGwgRVJQIGZpbGVzIGFyZSBzdG9yZWQgb24gdGhlIGxhYiBkcml2ZSAoYFxcbGMtcnMtc3RvcmUyNC5ocGMudWlvd2EuZWR1XGxzc19pdHBldGVyc2VuXExhYlxTdHVkaWVzXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcRGF0YVxMVjJcRVJQYCkKICAgIC0gU2VsZWN0IGByYXdgCiAgICAtIExvYWQgcHJlLWV4aXN0aW5nIHNldCBvZiBpbnB1dCBwYXJhbWV0ZXI6IAogICAgICAgIC0gYE5gIGlmIHRoaXMgaXMgeW91ciBmaXJzdCB0aW1lIHJ1bm5pbmcgZGF0YSB0aHJvdWdoIHRoZSBwaXBlbGluZS4KICAgICAgICAtIGBZYCBpZiB5b3UgaGF2ZSBkZWNpZGVkIG9uIGEgc2V0IG9mIHBhcmFtZXRlcnMuCiAgICAgICAgRW50ZXIgdGhlIHBhdGggdG8gdGhlIGZvbGRlciBjb250YWluaW5nIHRoZSBpbnB1dCBwYXJhbWV0ZXJzLgogICAgLSBMb3cgZGVuc2l0eSBkYXRhOiBgTmAKICAgIC0gRGF0YSB0eXBlOiBgdGFza2AKICAgIC0gUGVyZm9ybWluZyBldmVudC1yZWxhdGVkIHBvdGVudGlhbCAoRVJQKSBhbmFseXNpczogYFlgCiAgICAtIEVudGVyIHRoZSB0YXNrIG9uc2V0IHRhZ3MKICAgICAgICAtIENvcnJlY3QgR286IGBjR28rK2AKICAgICAgICAtIEluY29ycmVjdCBHbzogYHhHbysrYAogICAgICAgIC0gQ29ycmVjdCBOb0dvOiBgY05vR28rK2AKICAgICAgICAtIEluY29ycmVjdCBOb0dvOiBgeE5vR28rK2AKICAgICAgICAtIGBkb25lYAogICAgLSBEbyBtdWx0aXBsZSBvbnNldCB0YWdzIGJlbG9uZyB0byBhIHNpbmdsZSBjb25kaXRpb24/IGBOYAogICAgLSBGaWxlIGZvcm1hdDogYDVgCiAgICAtIEFjcXVpc2l0aW9uIGxheW91dCB0eXBlOiBgMmAKICAgIC0gTnVtYmVyIG9mIGNoYW5uZWxzOiBgMTI4YAogICAgLSBEbyB5b3UgaGF2ZSBhZGRpdGlvYWwgdHlwZSBmaWVsZHMgYmVzaWRlcyAiY29kZSI/IGBOYAogICAgLSBTZWxlY3QgY2hhbm5lbHMgb2YgaW50ZXJlc3Q6IGBhbGxgCiAgICAtIEZyZXF1ZW5jeSBvZiBlbGVjdHJpY2FsIG5vaWNlIGluIEh6OiBgNjBgCiAgICAtIEFyZSB0aGVyZSBhbnkgYWRkaXRpb25hbCBmcmVxdWVuY2llcywgKGUuZy4sIGhhcm1vbmljcykgdG8gcmVkdWNlPyBgTmAKICAgIC0gTGluZSBOb2lzZSByZWR1Y3Rpb24gbWV0aG9kOiBgbm90Y2hgCiAgICAgICAgLSBMb3cgY3V0b2ZmOiBgNTlgCiAgICAgICAgLSBoaWdoIGN1dG9mZjogYDYxYAogICAgLSBSZXNhbXBsZTogYE5gCiAgICAtIEZpbHRlcgogICAgICAgIC0gTG93IFBhc3MgQ3V0b2ZmOiBgMzBgCiAgICAgICAgLSBIaWdoIFBhc3MgQ3V0b2ZmOiBgLjFgCiAgICAtIENob29zZSBhIGZpbHRlcjogYGZpcmAKICAgIC0gQmFkIENoYW5uZWwgRGV0ZWN0aW9uOiBgWWAKICAgICAgICAtIGBhZnRlcmAgd2F2ZWxldCB0aHJlc2hvbGRpbmcKICAgIC0gRUNHb25lOiBgTmAKICAgIC0gV2F2ZWxldCBUaHJlc2hvbGRpbmcKICAgICAgICAtIGBkZWZhdWx0YAogICAgICAgIC0gVGhyZXNob2xkIHJ1bGU6IGBoYXJkYAogICAgLSBNdXNjSUw6IGBOYAogICAgLSBTZWdtZW50YXRpb246IGBZYAogICAgICAgIC0gU3RhcnRpbmcgcGFyYW1ldGVyIGZvciBzdGltdWx1czogYC0yMDBgCiAgICAgICAgLSBFbmRpbmcgcGFyYW1ldGVyIGZvciBzdGltdWx1czogYDEwMDBgCiAgICAgICAgLSBUYXNrIG9mZnNldDogYDE3YAogICAgLSBCYXNlbGluZSBDb3JyZWN0aW9uOiBgWWAKICAgICAgICAtIEJhc2VsaW5lIENvcnJlY3Rpb24gc3RhcnQ6IGAtMjAwYAogICAgICAgIC0gQmFzZWxpbmUgQ29ycmVjdGlvbiBlbmQ6IGAwYAogICAgLSBJbnRlcnBvbGF0aW9uOiBgWWAKICAgIC0gU2VnbWVudCBSZWplY3Rpb246IGBZYAogICAgICAgIC0gU2VnbWVudCBSZWplY3Rpb24gTWV0aG9kOiBgYW1wbGl0dWRlYAogICAgICAgICAgICAtIG1pbmltdW0gc2VnbWVudCByZWplY3Rpb24gdGhyZXNob2xkOiBgLTE1MGAKICAgICAgICAgICAgLSBtYXhpbXVtIHNlZ21lbnQgcmVqZWN0aW9uIHRocmVzaG9sZDogYDE1MGAKICAgICAgICAgICAgLSBzZWdtZW50IHJlamVjdGlvbiBiYXNlZCBvbiBhbGwgY2hhbm5lbHMgb3IgUk9JOiBgYWxsYAogICAgLSBSZS1yZWZlcmVuY2luZzogYFlgCiAgICAgICAgLSBEb2VzIHlvdXIgZGF0YSBjb250YWluIGEgZmxhdGxpbmUgb3IgYWxsIHplcm8gcmVmZXJlbmNlIGNoYW5uZWw/IGBOYAogICAgICAgIC0gcmUtcmVmZXJlbmNpbmcgbWV0aG9kOiBgYXZlcmFnZWAKICAgIC0gU2F2ZSBmb3JtYXQ6IGAxYAogICAgLSBWaXN1YWxpemF0aW9uczogYE5gCiAgICAtIFBhcmFtZXRlciBmaWxlIHNhdmUgbmFtZTogYGRlZmF1bHRgCgojIyBTdG9wLVNpZ25hbAoKIyBFUlAgUENBIChFUCkgVG9vbGtpdAoKIyMgUmVhZGluZyBUZXh0IEZpbGVzIGludG8gRVAgVG9vbGtpdAoKMS4gT3BlbiBNQVRMQUIgd2l0aCAiUnVuIGFzIEFkbWluaXN0cmF0b3IiCjEuIE9wZW4gRVJQIFBDQSBUb29sa2l0IGluIE1BVExBQgogICAgLSBUeXBlIGBlcGAgaW4gY29tbWFuZCBwcm9tcHQKMS4gQ2xpY2sgYFJlYWRgIHRvIGltcG9ydCBmaWxlcwoxLiBVc2UgdGhlIGZvbGxvd2luZyBvcHRpb25zCiAgICAtIEZvcm1hdCA9IGB0ZXh0ICgudHh0KWAKICAgIC0gVHlwZSA9IGBhdmVyYWdlYAogICAgLSBNb250ID0gYEFkdWx0IEh5ZHJvY2VsIDEyOC1jaGFubmVsIDEuMGAKMS4gU2VsZWN0IGBTaW5nbGUgRmlsZSBNb2RlYC4KICAgIC0gU2luZ2xlIGZpbGUgbW9kZSB3aWxsIHVzZSB0aGUgZmlsZW5hbWUgdG8gYXNzaWduIHRoZSB0YXNrIGNvbmRpdGlvbiBhbmQgcGFydGljaXBhbnQgSUQgZm9yIGVhY2ggZmlsZS4KICAgICAgICAtIE5vdGU6IGBSYCBjYW4gcmVuYW1lIGZpbGVzIGluIGJhdGNoZXMKICAgIFRodXMsICoqaXQgaXMgY3JpdGljYWwgdG8gdXNlIGEgc3RhbmRhcmQgbmFtaW5nIGNvbnZlbnRpb24gdG8gbmFtZSB0aGUgZmlsZXMqKi4KICAgIEZvciBleGFtcGxlLCBhbiBvZGRiYWxsIGZpbGUgY291bGQgYmUgbmFtZWQ6IAogICAgICAgIC0gYGZycV8xMDAxXzM2YCBhbmQgYHRndF8xMDAxXzM2YAogICAgLSBBIEZpc2hTaGFya3MgZmlsZSBtZWFud2hpbGUgY291bGQgYmUgbmFtZWQ6IGBjZ29fMTAwMV8zNmAgYW5kIGBjbmdfMTAwMV8zNmAKMS4gSW4gdGhlIGBTaW5nbGUgRmlsZSBNb2RlYCBtZW51IHVzZSB0aGUgYFN1YmplY3RgIGZpZWxkIHRvIGRlbm90ZSB3aGljaCBjaGFyYWN0ZXJzIGluIHRoZSBmaWxlbmFtZSBuYW1lIHdpbGwgZGV0ZXJtaW5lIHRoZSBwYXJ0aWNpcGFudCBJRC4KICAgIC0gRm9yIHRoZSBhYm92ZSBleGFtcGxlIGAxOjdgIHdvdWxkIGNvcnJlc3BvbmQgdG8gYDEwMDFfMzZgCjEuIE5leHQsIEluIHRoZSBgU2luZ2xlIEZpbGUgTW9kZWAgbWVudSB1c2UgdGhlIGBDZWxsYCBmaWVsZCB0byBkZW5vdGUgd2hpY2ggY2hhcmFjdGVycyBpbiB0aGUgZmlsZSBuYW1lIHdpbGwgZGV0ZXJtaW5lIHRoZSB0YXNrIGNvbmRpdGlvbi4KICAgIC0gRm9yIHRoZSBiZWxvdyBleGFtcGxlIGA0MTo0M2Agd291bGQgY29ycmVzcG9uZCB0byBgZnJxYCBvciBgdGd0YC4gCiAgICAtIEZvciBGaXNoU2hhcmtzIGZpbGVzLCBpdCBtaWdodCBiZSBgNDc6NDlgIHRoYXQgY29ycmVzcG9uZCB0byBgY2dvYCBvciBgY25nYC4KICAgIC0gIVtpbWFnZV0oaW1hZ2VzL3JlYWRUZXh0RmlsZTIwMjQucG5nKQoxLiBTZWxlY3QgYFJlYWRgIGFuZCBzZWxlY3QgdGhlIGBHU04tSHlkcm9jZWwtMTI5LmNlZGAgd2hlbiBwcm9tcHRlZAoxLiBUaGUgbmV3IGZpbGUgd2lsbCBoYXZlIHRoZSBwYXJ0aWNpcGFudCBJRCBhbmQgd2lsbCBjb21iaW5lIHRoZSBjb25kaXRpb25zIGZvciBlYWNoIHBhcnRpY2lwYW50LgogICAgLSBTdWJqZWN0IE5hbWVzOiAKICAgICAgICAtICFbaW1hZ2VdKGltYWdlcy9zdWJqZWN0Q29tYmluZWROYW1lcy5wbmcpCiAgICAtIFRhc2sgQ29uZGl0aW9ucwogICAgICAgIC0gIVtpbWFnZV0oaW1hZ2VzL2NvbmRpdGlvbkNvbWJpbmVkTmFtZXMucG5nKQoKIyMgVXBkYXRlIEZpbGUgd2l0aCBFeHBlcmltZW50IEluZm9ybWF0aW9uCgoxLiBHbyB0byBgTWFpbmAgYW5kIGNsaWNrIGBFZGl0YAoxLiBDbGljayBvbiB0aGUgZmlsZSB5b3UgaW1wb3J0ZWQKMS4gSW4gYE92ZXJ2aWV3YCwgYWRkIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246CiAgICAtIEV4cGVyaW1lbnQgTmFtZTogYE9kZGJhbGxgLCBgRmlzaFNoYXJrYCwgb3IgYFN0b3BTaWduYWxgCiAgICAtIFJlZmVyZW5jZSBUeXBlOiBjaGFuZ2UgdG8gYGF2ZXJhZ2UgcmVmZXJlbmNlYAogICAgLSBQcmVzdGltdWx1cyBwZXJpb2Q6IGNoYW5nZSB0byBgMjAwYAogICAgLSBOb21pbmFsIHNhbXBsaW5nIHJhdGU6IGNoYW5nZSB0byBgMTAwMGAKMS4gQ2xpY2sgYERvbmVgCjEuIEdvIHRvIGBNYWluYCBhbmQgY2xpY2sgYFNhdmVgCiAgICAtIFNhdmUgdGhlIGNvbWJpbmVkIGZpbGUgYXMgYW4gYC5lcHRgIGZpbGUgaW4gdGhlIGA0LUVQVCBBdmVyYWdlc2AgZm9sZGVyIHVzaW5nIHRoZSBmb2xsb3dpbmcgbmFtaW5nIGNvbnZlbnRpb246ICJ0YXNrX2NvbmRpdGlvbl9hZ2UiLgogICAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3ZXJlIHdvcmtpbmcgb24gdGhlIHRhcmdldCBjb25kaXRpb24gb2Ygb2RkYmFsbCBmb3IgYWxsIGFnZSBncm91cHMsIHlvdSB3b3VsZCBzYXZlIHRoZSBmaWxlIGFzIGBvYl90Z3RfYWxsYAoKIyMgVGVtcG9yYWwgUENBCgoxLiBHbyB0byBgTWFpbmAgYW5kIGNsaWNrIGBQQ0FgCjEuIElucHV0IHRoZSBmb2xsb3dpbmc6CiAgICAtIE1vZGU6IGB0ZW1wb3JhbGAKICAgIC0gUm90YXRpb246IGBwcm9tYXhgCiAgICAtIEZhY3RvcnM6IGAwYAogICAgLSBUaXRsZTogdFBDQV9leHBlcmltZW50bmFtZSAoZXhhbXBsZTogYHRQQ0Ffb2JfdGd0X2FsbGApCjEuIENsaWNrIHRoZSBhcHByb3ByaWF0ZSBmaWxlIChlLmcuLCBgb2JfdGd0X2FsbGApCjEuIERldGVybWluZSBob3cgbWFueSBmYWN0b3JzIHRvIHJldGFpbiB1c2luZyB0aGUgc2NyZWUgcGxvdCAoa2VlcCB0aGUgbnVtYmVyIG9mIGZhY3RvcnMgd2hlcmUgdGhlIGJsdWUgbGluZSBpcyBhYm92ZSB0aGUgcmVkIGxpbmUpCjEuIERldGVybWluZSB0aGUgcGVyY2VudCB2YXJpYW5jZSBhY2NvdW50ZWQgZm9yIGJ5IHRoZSBudW1iZXIgb2YgZmFjdG9ycyByZXRhaW5lZCBieSBjaGFuZ2luZyB0aGUgIm1pbmltdW0gJSBhZ2UgYWNjb3VudGVkIGZvciBjcml0ZXJpb24iLgpSZWNvcmQgdGhlIG51bWJlciBvZiBmYWN0b3JzIHJldGFpbmVkIGFuZCAlIHZhcmlhbmNlIGFjY291bnRlZCBmb3IgYnkgdGhhdCBudW1iZXIgb2YgZmFjdG9ycy4KMS4gUmUtcnVuIHRoZSB0ZW1wb3JhbCBQQ0EgdXNpbmcgdGhlIGFib3ZlIGlucHV0cywgKipidXQgY2hhbmdlIHRoZSBudW1iZXIgb2YgZmFjdG9ycyB0byB0aGUgbnVtYmVyIG9mIGZhY3RvcnMgcmV0YWluZWQgZnJvbSB0aGUgYWJvdmUgc3RlcCoqCjEuIFJldHVybiB0byBgTWFpbmAgYW5kIGNsaWNrIGBTYXZlYC4gU2F2ZSB0aGUgdFBDQSBmaWxlIGluIHRoZSBgNS1QQ0FgIGZvbGRlcgoKIyMgU3BhdGlhbCBQQ0EKCjEuIEdvIHRvIGBNYWluYCBhbmQgY2xpY2sgYFBDQWAKMS4gQ2hhbmdlIHRoZSBQQ0EgdHlwZSwgdXNpbmcgdGhlIGZvbGxvd2luZyBpbnB1dHM6CiAgICAtIE1vZGU6IGBzcGF0aWFsYAogICAgLSBSb3RhdGlvbjogYGluZm9tYXhgCiAgICAtIEZhY3RvcnM6IGAwYAogICAgLSBUaXRsZTogc1BDQV9leHBlcmltZW50bmFtZSAoZS5nLiwgYHNQQ0Ffb2JfdGd0X2FsbGApCjEuIENsaWNrIHRoZSBhcHByb3ByaWF0ZSBmaWxlIChlLmcuLCBgb2JfdGd0X2FsbGApCjEuIERldGVybWluZSBob3cgbWFueSBmYWN0b3JzIHRvIHJldGFpbiB1c2luZyB0aGUgc2NyZWUgcGxvdCAoa2VlcCB0aGUgbnVtYmVyIG9mIGZhY3RvcnMgd2hlcmUgdGhlIGJsdWUgbGluZSBpcyBhYm92ZSB0aGUgcmVkIGxpbmUpCjEuIERldGVybWluZSB0aGUgcGVyY2VudCB2YXJpYW5jZSBhY2NvdW50ZWQgZm9yIGJ5IHRoZSBudW1iZXIgb2YgZmFjdG9ycyByZXRhaW5lZCBieSBjaGFuZ2luZyB0aGUgIm1pbmltdW0gJSBhZ2UgYWNjb3VudGVkIGZvciBjcml0ZXJpb24iLgpSZWNvcmQgdGhlIG51bWJlciBvZiBmYWN0b3JzIHJldGFpbmVkIGFuZCAlIHZhcmlhbmNlIGFjY291bnRlZCBmb3IgYnkgdGhhdCBudW1iZXIgb2YgZmFjdG9ycy4KMS4gUmUtcnVuIHRoZSBzcGF0aWFsIFBDQSB1c2luZyB0aGUgYWJvdmUgaW5wdXRzLCAqKmJ1dCBjaGFuZ2UgdGhlIG51bWJlciBvZiBmYWN0b3JzIHRvIHRoZSBudW1iZXIgb2YgZmFjdG9ycyByZXRhaW5lZCBmcm9tIHRoZSBhYm92ZSBzdGVwKioKMS4gUmV0dXJuIHRvIGBNYWluYCBhbmQgY2xpY2sgYFNhdmVgLgpTYXZlIHRoZSBzUENBIGZpbGUgaW4gdGhlIGA1LVBDQWAgZm9sZGVyCgojIyBUZW1wb3Jvc3BhdGlhbCBQQ0EKCjEuIEdvIHRvIGBNYWluYCBhbmQgY2xpY2sgYFBDQWAKMS4gQ2hhbmdlIHRoZSBQQ0EgdHlwZSwgdXNpbmcgdGhlIGZvbGxvd2luZyBpbnB1dHM6CiAgICAtIE1vZGU6IGBzcGF0aWFsYAogICAgLSBSb3RhdGlvbjogYGluZm9tYXhgCiAgICAtIEZhY3RvcnM6IGAwYAogICAgLSBUaXRsZTogdHNQQ0FfZXhwZXJpbWVudG5hbWUgKGUuZy4sIGB0c1BDQV9vYl90Z3RfYWxsYCkKMS4gQ2xpY2sgdGhlIGB0UENBYCBmaWxlIChjcmVhdGVkIGluIHRoZSBwcmV2aW91cyBzdGVwKQoxLiBEZXRlcm1pbmUgaG93IG1hbnkgZmFjdG9ycyB0byByZXRhaW4gdXNpbmcgdGhlIHNjcmVlIHBsb3QgKGtlZXAgdGhlIG51bWJlciBvZiBmYWN0b3JzIHdoZXJlIHRoZSBibHVlIGxpbmUgaXMgYWJvdmUgdGhlIHJlZCBsaW5lKQoxLiBEZXRlcm1pbmUgdGhlIHBlcmNlbnQgdmFyaWFuY2UgYWNjb3VudGVkIGZvciBieSB0aGUgbnVtYmVyIG9mIGZhY3RvcnMgcmV0YWluZWQgYnkgY2hhbmdpbmcgdGhlICJtaW5pbXVtICUgYWdlIGFjY291bnRlZCBmb3IgY3JpdGVyaW9uIi4KUmVjb3JkIHRoZSBudW1iZXIgb2YgZmFjdG9ycyByZXRhaW5lZCBhbmQgJSB2YXJpYW5jZSBhY2NvdW50ZWQgZm9yIGJ5IHRoYXQgbnVtYmVyIG9mIGZhY3RvcnMuCjEuIFJlLXJ1biB0aGUgc3BhdGlhbCBQQ0EgdXNpbmcgdGhlIGFib3ZlIGlucHV0cywgKipidXQgY2hhbmdlIHRoZSBudW1iZXIgb2YgZmFjdG9ycyB0byB0aGUgbnVtYmVyIG9mIGZhY3RvcnMgcmV0YWluZWQgZnJvbSB0aGUgYWJvdmUgc3RlcCoqCjEuIFJldHVybiB0byBgTWFpbmAgYW5kIGNsaWNrIGBTYXZlYC4KU2F2ZSB0aGUgdHNQQ0EgZmlsZSBpbiB0aGUgYDUtUENBYCBmb2xkZXIuCgojIyBQQ0EgQ29tcG9uZW50IFNlbGVjdGlvbgoKSGVyZSwgdGhlIGdvYWwgaXMgdG8gc2VsZWN0IHRoZSBQQ0EgY29tcG9uZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIEVSUCBjb21wb25lbnQgb2YgaW50ZXJlc3QuCgoxLiBHbyB0byBgVmlld2AgdG8gYmVnaW4gdGhlIHByb2Nlc3Mgb2Ygc2VsZWN0aW5nIHRoZSBQQ0EgY29tcG9uZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIEVSUCBvZiBpbnRlcmVzdC4KICAgIC0gSXRlcmF0aXZlbHkgc2VsZWN0IGFuZCB2aWV3IGVhY2ggdGVtcG9yb3NwYXRpYWwgUENBIGNvbXBvbmVudCB0byBpZGVudGlmeSB0aGUgUENBIGNvbXBvbmVudCAoImZhY3RvciIpIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIEVSUCBvZiBpbnRlcmVzdCAoZS5nLiwgTjIgb3IgUDMpLgogICAgU2VsZWN0IHRoZSB0ZW1wb3Jvc3BhdGlhbCBQQ0EgY29tcG9uZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIEVSUCBvZiBpbnRlcmVzdCBiYXNlZCBvbiB0aGUgdGltaW5nLCBzcGF0aWFsIGxvY2F0aW9uLCBtb3JwaG9sb2d5LCBhbmQgKGFzIHJlbGV2YW50KSBhbnkgY29uZGl0aW9uLSBvciBhZ2UtcmVsYXRlZCBkaWZmZXJlbmNlcyBvZiB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHByaW9yIHdvcmsuCjEuIEdlbmVyYXRlIHRzUENBIGNvbXBvbmVudHMuCkdvIHRvIGBXaW5kb3dgIGFuZCBpbnB1dCB0aGUgZm9sbG93aW5nOgogICAgLSBzZWxlY3QgdGhlIHRzUENBIGZpbGUKICAgIC0gc2VsZWN0IGFtb25nIGBtZWFuYCwgYG1heFBlYWtgLCBvciBvdGhlciBvcHRpb25zCiAgICAgIChBY2NvcmRpbmcgdG8gSm9lIERpZW4pLCBhbGwgdGhlIGRpZmZlcmVudCBtZXRob2RzIHJlc3VsdCBpbiBjb21wYXJhYmxlICpwKi12YWx1ZXMgd2hlbiBkZWFsaW5nIHdpdGggUENBIGNvbXBvbmVudHMgKGhvd2V2ZXIsIHRoZXkgZG8gbm90IGdpdmUgdGhlIHJlc3VsdHMgd2hlbiB3aW5kb3dpbmcgdGhlIHJhdyB3YXZlZm9ybXMpLCBzbyBzZWxlY3QgYSBtZXRob2QgdGhhdCBtYWtlcyBzZW5zZSBmb3IgdGhlIHN0b3J5IHlvdSB3YW50IHRvIHRlbGwKICAgIC0gc2VsZWN0IGBBdXRvUENBYCBvciBgV2luZG93YCB0byBzZWxlY3QgY2hhbm5lbHMKICAgICAgSWYgdGhlIHBlYWsgYW1wbGl0dWRlIGlzIHdoZXJlIHlvdSBleHBlY3QgdGVtcG9yYWxseSBhbmQgc3BhdGlhbGx5LCB0aGVuIHVzZSB0aGUgYXV0b1BDQSBmdW5jdGlvbiwgYW5kIGlmIGl0IGlzIG5vdCwgdGhlbiB3aW5kb3cgdG8gd2hlcmUgeW91IGV4cGVjdCBpdCB0byBiZQogICAgICAgIFRoaXMgd2lsbCBhbGxvdyB5b3UgdG8gcmVwb3J0IHJlc3VsdHMgdGhhdCBhcmUgbW9yZSBpbnRlcnByZXRhYmxlCiAgICAtIFNhdmUgdGhlIGZpbGVzIGdlbmVyYXRlZCBmcm9tIHRoZSBBdXRvUENBIGluIHRoZSBgNi1QQ0EgQ29tcG9uZW50c2AgZm9sZGVyIHVzaW5nIHRoZSBmb2xsb3dpbmcgbmFtaW5nIGNvbnZlbnRpb246ICJ0YXNrX2NvbmRpdGlvbl9hZ2UiIChlLmcuLGBvYl90Z3RfYWxsYCkuCjEuIFRvIHZpZXcgYWxsIG9mIHRoZSB0c1BDQSBjb21wb25lbnRzLCBjbGljayBgVmlld2AgYW5kIGlucHV0IHRoZSBmb2xsb3dpbmcKICAgIC0gc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBmaWxlIChlLmcuLCBgb2JfdGd0X2FsbGApCiAgICAtIHNlbGVjdCBgZ2F2ZWAKICAgIC0gc2VsZWN0IGBub25lYAogICAgLSBjbGljayBgV2F2ZXNgCjEuIEl0IGlzIGdvb2QgcHJhY3RpY2UgdG8gY2hlY2sgdG8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50cyBhcmUgY29tcGFyYWJsZSBhY3Jvc3MgZGlmZmVyZW50IGFnZSByYW5nZXMKICAgIC0gWW91IGNhbiBjaGVjayB0aGlzIGluIG9uZSBvZiB0d28gd2F5czoKICAgICAgLSBWaXN1YWxseSBleGFtaW5lIGdyYW5kIGF2ZXJhZ2VzIGJldHdlZW4gYWdlIHJhbmdlcwogICAgICAtIEFwcGx5IHRoZSBQQ0EgZnJvbSBvbmUgYWdlIGdyb3VwIGFuZCBhcHBseSBpdCB0byBhbm90aGVyIGFnZSBncm91cCBhbmQgZXhhbWluZSB3aGV0aGVyIHRoZSByZXN1bHRzIGhvbGQgdXAgdXNpbmcgY3Jvc3MtdmFsaWRhdGlvbiBpbiBFUFRvb2xraXQKCgojIEFwcGVuZGl4IAoKIyMgVHJvdWJsZXNob290aW5nCjEuIFJ1bm5pbmcgb3V0IG9mIHNwYWNlIG9uIEVQIFRvb2xraXQ/IFlvdSBjYW4gbmF2aWdhdGUgdG8geW91ciBmb2xkZXIgKG1heWJlIHVuZGVyIERvY3VtZW50cy9NQVRMQUIvRVB3b3JrKSBhbmQgZGVsZXRlIGV2ZXJ5dGhpbmcgZXhjZXB0IGZvciBFUHByZWZzIHRvIHJlZnJlc2ggeW91ciB3b3Jrc3BhY2UuIE5PVEU6IFRoaXMgd2lsbCBkZWxldGUgZXZlcnl0aGluZyBzdG9yZWQgaW4gRVAgVG9vbGtpdCwgc28gcmVtZW1iZXIgdG8gYmFjayB1cCBmaWxlcyB0aGF0IHlvdSBuZWVkIHRvIHNhdmUuCgojIyBUby1kbwoKLSBCZXR0ZXIgZGVzY3JpYmUgdGhlIG1pc3NpbmduZXNzIGZvciBmaWxlcwogICAgIC0gV2UgbmVlZCBhIHN5c3RlbWF0aWMgd2F5IHRvIGlkZW50aWZ5IG5ldyB3YXlzIHRvIHByb2Nlc3MgdGhlIG1pc3NpbmduZXNzCiAgICAgLSBGaW5kIGEgd2F5IHRvIGJlc3QgZGVzY3JpYmUgYW5kIHJlcG9ydCB0aGUgd2F5cyBvZiBtaXNzaW5nbmVzcwotIEdvIHRocm91Z2ggdGhlIG1heG1lbSBlZGl0cyBvbiB0aGUgY2xlYW5fcmF3RGF0YSBxdWVzdGlvbi4KV2Ugd2FudCBhIHN0YW5kYXJkaXplZCB2YWx1ZSBvbiB0aGUgbWFjaGluZXMKLSBMb29rIGF0IHRoZSB3YXJuaW5nIG1lc3NhZ2VzIGZvciB0aGUgYXV0b21hdGljIHNjcmlwdCB1cGRhdGVzCiAgICAgLSBhdXRvbWF0aWMgY2xlYW5pbmcgb2YgZmlsZXMgcHJvYmxlbXMKLSBJbnRlZ3JhdGUgRVJQTEFCIHdpdGggb3VyIGV4aXN0aW5nIEVFR0xhYiBGdW5jdGlvbnMgaW5jbHVkaW5nOiAKICAgIC0gQWRkaW5nIGFuIGV2ZW50IGxpc3Q6IAogICAgICAgICAtIEN1cnJlbnRseSwgc29tZSBjb2RlIGZvciB0aGlzIGlzIHVwZGF0ZWQgaW4gdGhlIHNjcmlwdCBvbiB0aGUgbGFiIGRyaXZlCiAgICAgICAgIC0gRG9jdW1lbnRhdGlvbiBpcyBbaGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL2x1Y2tsYWIvZXJwbGFiL3dpa2kvQ3JlYXRpbmctYW4tRXZlbnRMaXN0Oi1FUlBMQUItRnVuY3Rpb25zOi1UdXRvcmlhbCkKICAgIC0gRmlndXJlIG91dCBob3cgdG8gYXZlcmFnZSBlcG9jaHMgYW5kIGV4cG9ydCB0byB0aGUgRVAgVG9vbGtpdAogLSBFdmFsdWF0ZSB0aGUgc2VtaS1hdXRvbWF0ZWQgcGlwZWxpbmVzIGZyb206CiAgICAtIFtEZWJuYXRoIGV0IGFsLiAoMjAyMCldKGh0dHBzOi8vb25saW5lbGlicmFyeS53aWxleS5jb20vZG9pL2Z1bGwvMTAuMTExMS9wc3lwLjEzNTgwKQogICAgLSBbRGVzamFyZGlucyBldCBhbC4gKDIwMjEpXShodHRwczovL3d3dy5zY2llbmNlZGlyZWN0LmNvbS9zY2llbmNlL2FydGljbGUvcGlpL1MwMTY1MDI3MDIwMzAzODQ4KQogICAgLSBbRmxvIGV0IGFsLiAoMjAyMildKGh0dHBzOi8vd3d3LnNjaWVuY2VkaXJlY3QuY29tL3NjaWVuY2UvYXJ0aWNsZS9waWkvUzE4Nzg5MjkzMjIwMDAyMTQpCiAgICAtIFtHYWJhci1EdXJuYW0gZXQgYWwuICgyMDE4KV0oaHR0cHM6Ly93d3cuZnJvbnRpZXJzaW4ub3JnL2FydGljbGVzLzEwLjMzODkvZm5pbnMuMjAxOC4wMDA5Ny9mdWxsKQogICAgLSBbSGFyZXNpZ24gZXQgYWwuICgyMDIxKV0oaHR0cHM6Ly93d3cuc2NpZW5jZWRpcmVjdC5jb20vc2NpZW5jZS9hcnRpY2xlL3BpaS9TMTg3ODkyOTMyMTAwMTE0NikKICAgIC0gW0t1bWFyYXZlbCBldCBhbC4gKDIwMjIpXShodHRwczovL3d3dy5zY2llbmNlZGlyZWN0LmNvbS9zY2llbmNlL2FydGljbGUvcGlpL1MxODc4OTI5MzIyMDAwMTIzKQoKIyMgRUVHTGFiIFByb2Nlc3NpbmcgU3RlcHMKCmh0dHBzOi8vZWVnbGFiLm9yZy90dXRvcmlhbHMvCgoxLiBGaWx0ZXJpbmcKMS4gQXZlcmFnZSBSZWZlcmVuY2luZwoxLiBBcnRpZmFjdCBSZWplY3Rpb24KICAgIDEuIEF1dG9tYXRlZCBhcnRpZmFjdCByZWplY3Rpb24gKHNhdmUgaW50ZXJtZWRpYXRlIGZpbGUpCiAgICAxLiBNYW51YWwgc2VsZWN0aW9uIG9mIGJhZCBjaGFubmVscwogICAgMS4gTWFudWFsIHNlbGVjdGlvbiBvZiBiYWQgdGltZSBwZXJpb2RzIChzYXZlIGludGVybWVkaWF0ZSBmaWxlKQogICAgMS4gUmVtb3ZhbCBvZiBtYW51YWxseSBzZWxlY3RlZCBiYWQgY2hhbm5lbHMKICAgIDEuIFJlbW92YWwgb2YgbWFudWFsbHkgc2VsZWN0ZWQgYmFkIHRpbWUgcGVyaW9kcyAoc2F2ZSBpbnRlcm1lZGlhdGUgZmlsZSkKICAgIDEuIFtJbmRlcGVuZGVudCBDb21wb25lbnQgQW5hbHlzaXNdKCNpY2EpIChJQ0EpCiAgICAgICAgMS4gUnVuIElDQQogICAgICAgIDEuIEF1dG9tYXRlZCByZW1vdmFsIG9mIGJhZCBJQ0EgY29tcG9uZW50cwogICAgICAgIDEuIFJlLXJ1biBJQ0EgKHNhdmUgaW50ZXJtZWRpYXRlIGZpbGUpCiAgICAgICAgMS4gTWFudWFsIHNlbGVjdGlvbiBvZiBiYWQgSUNBIGNvbXBvbmVudHMgKHNhdmUgaW50ZXJtZWRpYXRlIGZpbGUpCiAgICAgICAgMS4gUmVtb3ZhbCBvZiBtYW51YWxseSBzZWxlY3RlZCBiYWQgSUNBIGNvbXBvbmVudHMKMS4gSW50ZXJwb2xhdGlvbiBvZiBCYWQgQ2hhbm5lbHMKMS4gQXZlcmFnZSBSZWZlcmVuY2luZwoxLiBTZWdtZW50YXRpb24KMS4gQmFzZWxpbmUgQ29ycmVjdGlvbiAoc2F2ZSBmaW5hbCBmaWxlKQoKIyMgRUVHTEFCCgojIyMgSW5zdGFsbCBQbHVnaW5zCgpNRkZNYXRsYWJJTyBwbHVnaW4KCiMjIyBJbXBvcnQgRGF0YQoKRmlsZSDihpIgSW1wb3J0IERhdGEg4oaSIFVzaW5nIEVFR0xBQiBmdW5jdGlvbnMgYW5kIHBsdWdpbnMg4oaSIEltcG9ydCBNYWdzdGltL0VHSSAubWZmIGZpbGUKCmBgYG1hdGxhYgpFRUcgPSBwb3BfbWZmaW1wb3J0KHsnXFxcXGxjLXJzLXN0b3JlMjQuaHBjLnVpb3dhLmVkdVxcbHNzX2l0cGV0ZXJzZW5cXExhYlxcU3R1ZGllc1xcU2Nob29sIFJlYWRpbmVzcyBTdHVkeVxcRGF0YVxcTFYyXFxFUlBcXE9kZGJhbGxcXDAtUmF3IERhdGEgKG1mZilcXDE2MTNfOTBfb2RkYmFsbC5tZmYnfSx7J2NvZGUnfSwwLDApOwoKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCAxLCdvdmVyd3JpdGUnLCdvbicsJ2d1aScsJ29mZicpOwpgYGAKClNlbGVjdCBgLm1mZmAgZmlsZShzKQoKRXZlbnQgdHlwZSBmaWVsZCAobWF5IHNlbGVjdCBtdWx0aXBsZSk6IGBjb2RlYAoKIyMjIEZpbHRlciBEYXRhCgpGaWx0ZXIg4oaSIEJhc2ljIEZJUiBGaWx0ZXIKCjAuMSAtLSAzMCBIegoKc2F2ZSBhcyBuZXcgbmFtZQoKYGBgbWF0bGFiCkVFRyA9IHBvcF9lZWdmaWx0bmV3KEVFRywgJ2xvY3V0b2ZmJywwLjEsJ2hpY3V0b2ZmJywzMCwncGxvdGZyZXF6JywxKTsKYGBgCgojIyMgQXZlcmFnZSBSZWZlcmVuY2luZwoKVG9vbHMg4oaSIFJlLXJlZmVyZW5jZSB0aGUgZGF0YSDihpIgQ29tcHV0ZSBhdmVyYWdlIHJlZmVyZW5jZQoKYGBgbWF0bGFiCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9yZXJlZiggRUVHLCBbXSk7CltBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgMSwnc2V0bmFtZScsJzE2MTNfOTBfb2RkYmFsbF9maWxfcmVmJywnb3ZlcndyaXRlJywnb24nLCdndWknLCdvZmYnKTsgCmVlZ2xhYiByZWRyYXc7CmBgYAoKIyMjIEFydGlmYWN0IFJlamVjdGlvbgoKIyMjIyBBdXRvbWF0ZWQgQXJ0aWZhY3QgUmVqZWN0aW9uCgpUb29scyDihpIgUmVqZWN0IGRhdGEgdXNpbmcgQ2xlYW4gUmF3ZGF0YSBhbmQgQVNSCgpgYGBtYXRsYWIKRUVHID0gZWVnX2NoZWNrc2V0KCBFRUcgKTsKRUVHID0gcG9wX2NsZWFuX3Jhd2RhdGEoRUVHLCAnRmxhdGxpbmVDcml0ZXJpb24nLDUsJ0NoYW5uZWxDcml0ZXJpb24nLDAuOCwnTGluZU5vaXNlQ3JpdGVyaW9uJyw0LCdIaWdocGFzcycsJ29mZicsJ0J1cnN0Q3JpdGVyaW9uJywyMCwnV2luZG93Q3JpdGVyaW9uJywwLjI1LCdCdXJzdFJlamVjdGlvbicsJ29uJywnRGlzdGFuY2UnLCdFdWNsaWRpYW4nLCdXaW5kb3dDcml0ZXJpb25Ub2xlcmFuY2VzJyxbLUluZiA3XSApOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDEsJ2d1aScsJ29mZicpOyAKZWVnbGFiIHJlZHJhdzsKYGBgCgpDdXJyZW50bHksIHdlIHJ1biBpbnRvIGEgYnVnIHRoYXQgeWllbGRzIHRoZSBmb2xsb3dpbmcgZXJyb3I6CgpgYGAKTm90IGVub3VnaCBtZW1vcnksIFRoaXMgaXMgbm90IGEgYnVnIChFcnJvciBvY2N1cnJlZCBpbiBmdW5jdGlvbiBhc3JfcHJvY2VzcygpIGF0IGxpbmUgMTMyKQpgYGAKCkFzIGEgd29ya2Fyb3VuZCwgdHlwZSB0aGUgZm9sbG93aW5nIGNvZGUgaW4gTUFUTEFCIHRvIGVkaXQgdGhlIGZ1bmN0aW9uOgoKYGBgbWF0bGFiCmVkaXQgY2xlYW5fYXJ0aWZhY3RzCmBgYAoKVGhlbiwgY2hhbmdlIHRoZSBudW1iZXIgaW4gdGhlIGZvbGxvd2luZyBsaW5lIHRvIGEgbGFyZ2VyIG51bWJlciAoZS5nLiwgMjU2KSBhbmQgY2xpY2sgc2F2ZToKCmBgYG1hdGxhYgp7J21heF9tZW0nLCdNYXhNZW0nfSwgMjU2LCAuLi4KYGBgCgojIyMjIFNlbGVjdGlvbiBvZiBCYWQgQ2hhbm5lbHMKClZpZXcgZGF0YSB0byBpZGVudGlmeSBiYWQgY2hhbm5lbHMgdG8gcmVqZWN0LgoKRWRpdCDihpIgU2VsZWN0IGRhdGEKClNwZWNpZnkgY2hhbm5lbHMgdG8gcmVqZWN0CgpTcGVjaWZ5ICJvbiAtPiByZW1vdmUgdGhlc2UiCgpgYGBtYXRsYWIKRUVHID0gZWVnX2NoZWNrc2V0KCBFRUcgKTsKRUVHID0gcG9wX3NlbGVjdCggRUVHLCAnbm9jaGFubmVsJyx7J0U0NCcsJ0U1NicsJ0U1NycsJ0UxMTMnfSk7CltBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgMSwnc2V0bmFtZScsJzE2MTNfOTBfb2RkYmFsbF9maWxfcmVmX2NobicsJ292ZXJ3cml0ZScsJ29uJywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwpgYGAKCiMjIyMgU2VsZWN0aW9uIG9mIEJhZCBUaW1lIFBlcmlvZHMKClBsb3Qg4oaSIENoYW5uZWwgZGF0YSAoc2Nyb2xsKQoKQ2hhbmdlIHZvbHRhZ2Ugc2NhbGUgdG8gNTAKClNldHRpbmdzIOKGkiBUaW1lIHJhbmdlIHRvIGRpc3BsYXkKCkNoYW5nZSB0byAxMCBzZWNvbmRzCgpTZXR0aW5ncyDihpIgTnVtYmVyIG9mIGNoYW5uZWxzIHRvIGRpc3BsYXkKCkNoYW5nZSB0byBudW1iZXIgb2YgY2hhbm5lbHMgdG8gdmlldyBhdCBvbmUgdGltZSAoZS5nLiwgNjQpCgpUbyBlcmFzZSBhIHNlbGVjdGVkIHBvcnRpb24gb2YgdGhlIGRhdGEsIGZpcnN0IGRyYWcgdGhlIG1vdXNlIChob2xkaW5nIGRvd24gdGhlIGxlZnQgbW91c2UgYnV0dG9uKSBob3Jpem9udGFsbHkgYWNyb3NzIHRoZSB0aW1lIHJlZ2lvbiBvZiBpbnRlcmVzdCB0byBtYXJrIGl0IGZvciByZWplY3Rpb24uClRvIGRlc2VsZWN0IGEgcG9ydGlvbiBvZiB0aGUgZGF0YSwgc2ltcGx5IGNsaWNrIG9uIHRoZSBzZWxlY3RlZCByZWdpb24uCgpBZnRlciBtYXJraW5nIHNvbWUgcG9ydGlvbnMgb2YgdGhlIGRhdGEgZm9yIHJlamVjdGlvbiwgcHJlc3MgUkVKRUNUIGFuZCBhIG5ldyBkYXRhIHNldCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB0aGUgcmVqZWN0ZWQgZGF0YSBvbWl0dGVkLgpBIG5ldyBkYXRhc2V0IHdpbGwgYmUgY3JlYXRlZCB3aXRoIHRoZSBtYXJrZWQgcmVnaW9ucyByZW1vdmVkLgpZb3VyIGdvYWwgaXMgdG8gcmVqZWN0IG5vbi1zdGVyZW90eXBpYyBhcnRpZmFjdHMuCkRvIG5vdCByZWplY3QgYmxpbmtzL3NhY2NhZGVzLCBiZWNhdXNlIFtpbmRlcGVuZGVudCBjb21wb25lbnQgYW5hbHlzaXNdKCNpY2EpIHdpbGwgcmVtb3ZlIHRob3NlLgoKQ2xpY2tpbmcgIlN0YWNrIiBzdGFja3MgYWxsIGVsZWN0cm9kZXMgb24gdG9wIG9mIGVhY2ggb3RoZXIgdG8gbW9yZSBlYXNpbHkgaWRlbnRpZnkgbm9pc3kgZGF0YS4KCkNsaWNrICJSRUpFQ1QiIHRvIHJlbW92ZSB0aGUgYmFkIHRpbWUgcGVyaW9kcyBmcm9tIHRoZSBkYXRhIGZpbGUuCgojIyMjIEluZGVwZW5kZW50IENvbXBvbmVudCBBbmFseXNpcyB7I2ljYX0KCmh0dHBzOi8vZWVnbGFiLm9yZy90dXRvcmlhbHMvMDZfUmVqZWN0QXJ0aWZhY3RzL1J1bklDQS5odG1sIChhcmNoaXZlZCBhdCBodHRwczovL3Blcm1hLmNjL0FFVTktR0IzQikKCmh0dHBzOi8vc29jaWFsc2NpLmxpYnJldGV4dHMub3JnL0Jvb2tzaGVsdmVzL1BzeWNob2xvZ3kvQm9vayUzQV9BcHBsaWVkX0V2ZW50LVJlbGF0ZWRfUG90ZW50aWFsX0RhdGFfQW5hbHlzaXNfKEx1Y2spLzE0JTNBX0FwcGVuZGl4XzMlM0FfRXhhbXBsZV9Qcm9jZXNzaW5nX1BpcGVsaW5lIChhcmNoaXZlZCBhdCBodHRwczovL3Blcm1hLmNjLzlRWVEtQk5GRSkKClRoZSBjb21wb25lbnQgb3JkZXIgcmV0dXJuZWQgYnkgYHJ1bmljYS5tYCBpcyBpbiBkZWNyZWFzaW5nIG9yZGVyIG9mIHRoZSBFRUcgdmFyaWFuY2UgYWNjb3VudGVkIGZvciBieSBlYWNoIGNvbXBvbmVudC4KClRvb2xzIOKGkiBEZWNvbXBvc2UgZGF0YSBieSBJQ0EKCmBgYG1hdGxhYgpFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfcnVuaWNhKEVFRywgJ2ljYXR5cGUnLCAncnVuaWNhJywgJ2V4dGVuZGVkJywxLCdpbnRlcnJ1cHQnLCdvbicpOwpbQUxMRUVHIEVFR10gPSBlZWdfc3RvcmUoQUxMRUVHLCBFRUcsIENVUlJFTlRTRVQpOwplZWdsYWIgcmVkcmF3OwpgYGAKClBsb3Qg4oaSIENvbXBvbmVudCBtYXBzIOKGkiAyRAoKVmlzdWFsbHkgaWRlbnRpZnkgaW5kZXBlbmRlbnQgY29tcG9uZW50cyB0byByZW1vdmUKClRvb2xzIOKGkiBJbnNwZWN0L2xhYmVsIGNvbXBvbmVudHMgYnkgbWFwCgpFeGFtcGxlIElDQSBBcnRpZmFjdCBDb21wb25lbnRzCgohW0lDQSBFeWUgQmxpbmsgQXJ0aWZhY3RdKGltYWdlcy9JQ0FfRXllQmxpbmsucG5nKQohW0lDQSBMYXRlcmFsIEV5ZSBNb3ZlbWVudCBBcnRpZmFjdF0oaW1hZ2VzL0lDQV9MYXRlcmFsRXllTW92ZW1lbnQucG5nKQohW0lDQSBNdXNjbGUgQXJ0aWZhY3RdKGltYWdlcy9JQ0FfTXVzY2xlQXJ0aWZhY3QucG5nKQohW0lDQSBDYXJkaWFjIEFydGlmYWN0XShpbWFnZXMvSUNBX0NhcmRpYWNBcnRpZmFjdC5wbmcpCiFbSUNBIEJhZCBDaGFubmVsXShpbWFnZXMvSUNBX0JhZENoYW5uZWwucG5nKQoKRXhhbXBsZSBJQ0EgQnJhaW4gQ29tcG9uZW50cwohW0lDQSBCcmFpbiBBY3Rpdml0eSBFeGFtcGxlIDFdKGltYWdlcy9JQ0FfQnJhaW5BY3Rpdml0eUV4MS5wbmcpCiFbSUNBIEJyYWluIEFjdGl2aXR5IEV4YW1wbGUgMl0oaW1hZ2VzL0lDQV9CcmFpbkFjdGl2aXR5RXgyLnBuZykKIVtJQ0EgQnJhaW4gQWN0aXZpdHkgRXhhbXBsZSAzXShpbWFnZXMvSUNBX0JyYWluQWN0aXZpdHlFeDMucG5nKQoKT3ZlcnZpZXcgb2YgSUNBIENvbXBvbmVudHMKIVtJQ0EgT3ZlcnZpZXddKGltYWdlcy9JQ0FfT3ZlcnZpZXcucG5nKQoKVG9nZ2xlIHRoZSAiQWNjZXB0IiBidXR0b24gdG8gcmVqZWN0IGFuIGluZGVwZW5kZW50IGNvbXBvbmVudCwgcHJlc3MgIk9LIiB0byBzcGVjaWZ5IGl0IGZvciByZWplY3Rpb24KCkF1dG9tYXRlZCBkZXRlY3Rpb24gb2YgYXJ0aWZhY3R1YWwgSUNBIGNvbXBvbmVudHM6CgpodHRwczovL2VlZ2xhYi5vcmcvdHV0b3JpYWxzLzA2X1JlamVjdEFydGlmYWN0cy9SdW5JQ0EuaHRtbCNhdXRvbWF0ZWQtZGV0ZWN0aW9uLW9mLWFydGlmYWN0dWFsLWljYS1jb21wb25lbnRzIChhcmNoaXZlZCBhdCBodHRwczovL3Blcm1hLmNjLzVSUTctOVdCVCkKCmBgYG1hdGxhYgpFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfaWNsYWJlbChFRUcsICdkZWZhdWx0Jyk7CltBTExFRUcgRUVHXSA9IGVlZ19zdG9yZShBTExFRUcsIEVFRywgQ1VSUkVOVFNFVCk7CkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9pY2ZsYWcoRUVHLCBbTmFOIE5hTjswLjkgMTswLjkgMTtOYU4gTmFOO05hTiBOYU47TmFOIE5hTjtOYU4gTmFOXSk7CltBTExFRUcgRUVHXSA9IGVlZ19zdG9yZShBTExFRUcsIEVFRywgQ1VSUkVOVFNFVCk7CmVlZ2xhYiByZWRyYXc7CmBgYAoKVGhlcmUgYXJlIHNpeCBjYXRlZ29yaWVzIG9mIGNvbXBvbmVudHM6IEJyYWluLCBNdXNjbGUsIEV5ZSwgSGVhcnQsIExpbmUgTm9pc2UsIENoYW5uZWwgTm9pc2UsIGFuZCBPdGhlcgoKT3VyIGdvYWwgaXMgdG8ga2VlcCB0aGUgYnJhaW4gY29tcG9uZW50cyBhbmQgdG8gcmVtb3ZlIGV2ZXJ5dGhpbmcgZWxzZSAoaS5lLiwgYXJ0aWZhY3RzKS4KClRvb2xzIOKGkiBDbGFzc2lmeSBjb21wb25lbnRzIHVzaW5nIElDTGFiZWwg4oaSIExhYmVsIGNvbXBvbmVudHMKClRvb2xzIOKGkiBDbGFzc2lmeSBjb21wb25lbnRzIHVzaW5nIElDTGFiZWwg4oaSIEZsYWcgY29tcG9uZW50cyBhcyBhcnRpZmFjdHMKClN1YnN0cmFjdGluZyByZWplY3RlZCBJQ0EgY29tcG9uZW50czoKCmh0dHBzOi8vZWVnbGFiLm9yZy90dXRvcmlhbHMvMDZfUmVqZWN0QXJ0aWZhY3RzL1J1bklDQS5odG1sI3N1YnRyYWN0aW5nLWljYS1jb21wb25lbnRzLWZyb20tZGF0YSAoYXJjaGl2ZWQgYXQgaHR0cHM6Ly9wZXJtYS5jYy9IVkg0LVo0U0EpCgpUb29scyDihpIgUmVtb3ZlIGNvbXBvbmVudHMKCmBgYG1hdGxhYgpFRUcgPSBwb3Bfc3ViY29tcCggRUVHLCBbMSAgICAyICAgIDYgICAgNyAgIDEwICAgMTMgICAyMSAgIDI0ICAgMjYgICAzMSAgIDMyICAgMzMgICAzNiAgIDQzICAgNDQgICA1MSAgIDU0ICAgNTUgICA1OSAgIDYxICAgNjcgICA2OCAgIDc0ICAgODMgICA5MCAgIDkxICAgOTMgICA5OSAgMTAzICAxMTIgIDExMyAgMTE2ICAxMTggIDEyMV0sIDApOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDYsJ2d1aScsJ29mZicpOyAKZWVnbGFiIHJlZHJhdzsKYGBgCgojIyMgSW50ZXJwb2xhdGUgQmFkIENoYW5uZWxzCgpodHRwczovL3NjY24udWNzZC5lZHUvcGlwZXJtYWlsL2VlZ2xhYmxpc3QvMjAxNi8wMTExOTkuaHRtbCAoYXJjaGl2ZWQgYXQgaHR0cHM6Ly9wZXJtYS5jYy85N05ILThMQVIpCgpUbyBpbnRlcnBvbGF0ZSBjaGFubmVscyB5b3Ugd291bGQgbG9hZCB1cCBvbmUgZmlsZSB0aGF0IGhhcyBvbmx5IHRoZSBnb29kIGNoYW5uZWxzLCB0aGVuIGxvYWQgdXAgYSBzZWNvbmQgZmlsZSB0aGF0IGhhcyB0aGUgZnVsbCBjaGFubmVsIGxpc3QsIGFuZCB0aGVuIHJ1biB0aGUgY2hhbm5lbCBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIGZyb20gdGhlIGVlZ2xhYiBndWkuCgpUb29scyDihpIgSW50ZXJwb2xhdGUgRWxlY3Ryb2RlcyDihpIgVXNlIGFsbCBjaGFubmVscyAob3Igc3BlY2lmaWMgY2hhbm5lbHM/KSBvZiBvdGhlciBkYXRhc2V0CgpVc2luZyBhbGwgY2hhbm5lbHMgb2Ygb3RoZXIgZGF0YXNldDoKCioqSW1wb3J0YW50IE5vdGU6KiogSW50ZXJwb2xhdGluZyBmaWxlcyB3aWxsIHJlLXJlZmVyZW5jZSB0aGUgZGF0YS4KQXZlcmFnZSByZWZlcmVuY2UgdGhlIGRhdGEgYWZ0ZXIgaW50ZXJwb2xhdGluZyBjaGFubmVscy4KCmBgYG1hdGxhYgpFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfaW50ZXJwKEVFRywgQUxMRUVHKDMpLmNoYW5sb2NzLCAnc3BoZXJpY2FsJyk7CltBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgNCwnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwpgYGAKClVzaW5nIHNwZWNpZmljIGNoYW5uZWxzIG9mIG90aGVyIGRhdGFzZXQ6CgpgYGBtYXRsYWIKRUVHID0gZWVnX2NoZWNrc2V0KCBFRUcgKTsKRUVHID0gcG9wX2ludGVycChFRUcsIEFMTEVFRygzKS5jaGFubG9jcyhbNDQgICA1NiAgIDU3ICAxMTNdKSwgJ3NwaGVyaWNhbCcpOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDEsJ2d1aScsJ29mZicpOyAKZWVnbGFiIHJlZHJhdzsKYGBgCgpSZW1vdmVkIGNoYW5uZWxzOgoKYGBgbWF0bGFiCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9pbnRlcnAoRUVHLCBFRUcuY2hhbmluZm8ubm9kYXRjaGFucyhbNDQgIDU2ICA1NyAgMTEzXSksICdzcGhlcmljYWwnKTsKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCAzLCdndWknLCdvZmYnKTsgCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CmVlZ2xhYiByZWRyYXc7CmBgYAoKRGF0YSBjaGFubmVsczoKCmBgYG1hdGxhYgpFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfaW50ZXJwKEVFRywgWzQ0ICA1NiAgNTcgIDExM10sICdzcGhlcmljYWwnKTsKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCAxLCdndWknLCdvZmYnKTsgCmVlZ2xhYiByZWRyYXc7CmBgYAoKIyMjIEF2ZXJhZ2UgUmVmZXJlbmNpbmcKClRvb2xzIOKGkiBSZS1yZWZlcmVuY2UgdGhlIGRhdGEg4oaSIENvbXB1dGUgYXZlcmFnZSByZWZlcmVuY2UKCmBgYG1hdGxhYgpFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfcmVyZWYoIEVFRywgW10pOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDEsJ3NldG5hbWUnLCcxNjEzXzkwX29kZGJhbGxfZmlsX3JlZicsJ292ZXJ3cml0ZScsJ29uJywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwpgYGAKCiMjIyBTZWdtZW50YXRpb24KClRvb2xzIOKGkiBFeHRyYWN0IEVwb2NocwoKYGBgbWF0bGFiCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9lcG9jaCggRUVHLCB7ICAnZnJxKycgICd0Z3QrJyAgfSwgWy0wLjIgICAgICAgICAgIDFdLCAnbmV3bmFtZScsICcxNjEzXzkwX29kZGJhbGxfZmlsX3JlZiBlcG9jaHMnLCAnZXBvY2hpbmZvJywgJ3llcycpOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDEsJ292ZXJ3cml0ZScsJ29uJywnZ3VpJywnb2ZmJyk7IApgYGAKCiMjIyBCYXNlbGluZSBDb3JyZWN0aW9uCgpgYGBtYXRsYWIKRUVHID0gZWVnX2NoZWNrc2V0KCBFRUcgKTsKRUVHID0gcG9wX3JtYmFzZSggRUVHLCBbLTIwMCAwXSAsW10pOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDEsJ292ZXJ3cml0ZScsJ29uJywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwpgYGAKCiMjIEF1dG9tYXRpYyBTY3JpcHQgZXhhbXBsZSAKCmBgYG1hdGxhYgolIFN0YXJ0aW5nIEVFRyBMYWIgCltBTExFRUcgRUVHIENVUlJFTlRTRVQgQUxMQ09NXSA9IGVlZ2xhYjsKCiUlIEhlbHBmdWwgZG9jdW1lbnRhdGlvbiBpcyBsb2NhdGVkIGhlcmUKJSBodHRwczovL2VlZ2xhYi5vcmcvdHV0b3JpYWxzLzExX1NjcmlwdGluZy9Vc2luZ19FRUdMQUJfaGlzdG9yeS5odG1sIChhcmNoaXZlZCBhdCBodHRwczovL3Blcm1hLmNjL1k2ODctNUdLRSkKJSBodHRwczovL2VlZ2xhYi5vcmcvdHV0b3JpYWxzL0NvbmNlcHRzR3VpZGUvRGF0YV9TdHJ1Y3R1cmVzLmh0bWwgKGFyY2hpdmVkIGF0IGh0dHBzOi8vcGVybWEuY2MvNUYzOS01UzMyKQoKJUxvYWRpbmcgaW4gdGhlIERhdGFzZXQKRUVHID0gcG9wX21mZmltcG9ydCh7J1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFwwLVJhdyBEYXRhIChtZmYpXFwxNjEzXzkwX29kZGJhbGwubWZmJ30seydjb2RlJ30sMCwwKTsKRUVHLnNldG5hbWU9J3Jhdyc7CkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CiVTdG9yaW5nIHRoZSBjdXJyZW50IGRhdGFzZXQKW0FMTEVFRywgRUVHXSA9IGVlZ19zdG9yZSggQUxMRUVHLCBFRUcsIDEpOwolIHJlZnJlc2hpbmcgdGhlIGdyYXBoaWNhbCBpbnRlcmZhY2UKZWVnbGFiIHJlZHJhdzsKCiVGaWx0ZXIgdGhlIGRhdGEKRUVHID0gcG9wX2VlZ2ZpbHRuZXcoQUxMRUVHKDEpLCAnbG9jdXRvZmYnLDAuMSwnaGljdXRvZmYnLDMwLCdwbG90ZnJlcXonLDEpOwolU2F2ZSB0aGUgRmlsdGVyZWQgZGF0YXNldCAKJUFMTEVFRyBFRUcgQ1VSUkVOVFNFVCBzZWVtcyB0byBqdXN0IGJlIGEgbmFtZSBmb3IgYWxsIG9mIHRoZSBjdXJyZW50IGRhdGEKJXNldHMgCiVwb3BfbmV3c2V0IHNlZW1zIHRvIHNhdmUgdGhlIGRhdGFzZXQgaW4gYm90aCBtZW1vcnkgYW5kIGluIHRoZSB0b29sa2l0CltBTExFRUcsIEVFRywgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCAyLCdzZXRuYW1lJywnZmlsJywnc2F2ZW5ldycsJ1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFxNQVRMQUJcXDEtRmlsdGVyaW5nIChmaWwpXFx0Y2lkX3dhdmUuc2V0JywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwoKJSBBdmVyYWdlIHJlZmVyZW5jaW5nCiVFRUcgPSBlZWdfY2hlY2tzZXQoIEVFRyApOwpFRUcgPSBwb3BfcmVyZWYoIEFMTEVFRygyKSwgW10pOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDMsJ3NldG5hbWUnLCdBdmcgUmVmJywnc2F2ZW5ldycsJ1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFxNQVRMQUJcXDktQXZlcmFnZSBSZWZlcmVuY2UgKHJlZilcXHRjaWRfd2F2ZV9hdmcuc2V0JywnZ3VpJywnb2ZmJyk7CmVlZ2xhYiByZWRyYXc7CgolIFJlamVjdGluZyB0aGUgYXJ0aWZhY3RzCiUgdGVzdGluZyBidW1waW5nIHRoZSAKRUVHID0gcG9wX2NsZWFuX3Jhd2RhdGEoQUxMRUVHKDMpLCAnRmxhdGxpbmVDcml0ZXJpb24nLDUsJ0NoYW5uZWxDcml0ZXJpb24nLDAuOCwnTGluZU5vaXNlQ3JpdGVyaW9uJyw0LCdIaWdocGFzcycsJ29mZicsJ0J1cnN0Q3JpdGVyaW9uJywzMCwnV2luZG93Q3JpdGVyaW9uJywwLjI1LCdCdXJzdFJlamVjdGlvbicsJ29uJywnRGlzdGFuY2UnLCdFdWNsaWRpYW4nLCdXaW5kb3dDcml0ZXJpb25Ub2xlcmFuY2VzJyxbLUluZiA3XSApOwolU2F2aW5nIGNsZWFuZWQgZGF0YXNldApbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDQsJ3NldG5hbWUnLCdjbGVhbiBkYXRhJywnc2F2ZW5ldycsJ1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFxNQVRMQUJcXDEwLUNsZWFuIEFydGlmaWNhdHMgKGNsZWFuKVxcdGNpZF93YXZlX2NsZWFuLnNldCcsJ2d1aScsJ29mZicpOyAKZWVnbGFiIHJlZHJhdzsKCiUgUGxhY2Vob2xkZXIgdG8gbWFudWFsbHkgcmVtb3ZlIGJhZCBjaGFubmVscwoKCiUgSUNBIGNvbXBvbmVudHMKRUVHID0gcG9wX3J1bmljYShBTExFRUcoNCksICdpY2F0eXBlJywgJ3J1bmljYScsICdleHRlbmRlZCcsIDEsJ2ludGVycnVwdCcsJ29uJyk7CltBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgNSwnc2V0bmFtZScsJ0lDQSB0ZXN0Jywnc2F2ZW5ldycsJ1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFxNQVRMQUJcXDExLUlDQVxcdGNpZF93YXZlX0lDQS5zZXQnLCdndWknLCdvZmYnKTsgCmVlZ2xhYiByZWRyYXc7CgolTWFudWFsbHkgcmVqZWN0IElDQSBjb21wb25lbnRzCkVFRyA9IHBvcF9zdWJjb21wKCBFRUcsIFsxICAgIDIgICAgNiAgICA3ICAgMTAgICAxMyAgIDIxICAgMjQgICAyNiAgIDMxICAgMzIgICAzMyAgIDM2ICAgNDMgICA0NCAgIDUxICAgNTQgICA1NSAgIDU5ICAgNjEgICA2NyAgIDY4ICAgNzQgICA4MyAgIDkwICAgOTEgICA5MyAgIDk5ICAxMDMgIDExMiAgMTEzICAxMTYgIDExOCAgMTIxXSwgMCk7CltBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgNiwnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwoKJSBQbGFjZSBob2xkZXIgdG8gcmVtaW5kIHRvIG1hbnVhbGx5IHJlbW92ZSB0aGUgY2hhbm5lbHMgdGhhdCB3ZSB3b3VsZAolIGxpa2UgdG8gcmVqZWN0CiUgdGFraW5nIHRoZSBFRUcgY2hhbm5lbCBsb2NrIG9mIHRoZSBmaXJzdCAocmF3KSBkYXRhc2V0CkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9pbnRlcnAoQUxMRUVHKDUpLCBBTExFRUcoMSkuY2hhbmxvY3MsICdzcGhlcmljYWwnKTsKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCA2LCdzZXRuYW1lJywnSW50ZXJwb2xhdGVkJywnc2F2ZW5ldycsJ1I6XFxMYWJcXFN0dWRpZXNcXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcXERhdGFcXExWMlxcRVJQXFxPZGRiYWxsXFxNQVRMQUJcXDEyLUludGVycG9sYXRlXFx0Y2lkX3dhdmVfSW50ZXJwb2xhdGUuc2V0JywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwoKJSBTZWdtZW50aW5nIHRoZSBEYXRhCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9lcG9jaCggQUxMRUVHKDYpLCB7ICAnZnJxKycgICd0Z3QrJyAgfSwgWy0wLjIgMV0sICduZXduYW1lJywgJ3RjaWRfd2F2ZV9zZWdtZW50ZWQnLCAnZXBvY2hpbmZvJywgJ3llcycpOwpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIDcsJ3NldG5hbWUnLCdTZWdtZW50ZWQnLCdzYXZlbmV3JywnUjpcXExhYlxcU3R1ZGllc1xcU2Nob29sIFJlYWRpbmVzcyBTdHVkeVxcRGF0YVxcTFYyXFxFUlBcXE9kZGJhbGxcXE1BVExBQlxcMTMtU2VnbWVudFxcdGNpZF93YXZlX1NlZ21lbnQuc2V0JywnZ3VpJywnb2ZmJyk7IAplZWdsYWIgcmVkcmF3OwoKJSBCYXNlbGluZSBDb3JyZWN0aW5nIHRoZSBEYXRhCkVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CkVFRyA9IHBvcF9ybWJhc2UoIEFMTEVFRyg3KSwgWy0yMDAgMF0gLFtdKTsKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCA4LCdzZXRuYW1lJywnQmFzZWxpbmUgQ29ycmVjdCcsJ3NhdmVuZXcnLCdSOlxcTGFiXFxTdHVkaWVzXFxTY2hvb2wgUmVhZGluZXNzIFN0dWR5XFxEYXRhXFxMVjJcXEVSUFxcT2RkYmFsbFxcTUFUTEFCXFwxNC1CYXNlbGluZS1Db3JyZWN0XFx0Y2lkX3dhdmVfYmFzZWxpbmUtY29ycmVjdC5zZXQnLCdndWknLCdvZmYnKTsgCmVlZ2xhYiByZWRyYXc7CgpgYGAKCiMjIEF1dG9tYXRpYyBzY3JpcHQgdGhhdCBsb29wcyBmaWxlcwoKIyMjIFdhcm5pbmcgbWVzc2FnZXMgd2l0aCBzY3JpcHQKCldhcm5pbmcgbWVzc2FnZXMgYXBwZWFyZWQgd2hlbiB1c2luZyB0aGUgYXV0b21hdGljIGNsZWFuaW5nIG9mIGRhdGEuCldlIG1heSBoYXZlIHRvIHNlbmQgYSBkYXRhc2V0IHRvIHNvbWVvbmUgc28gdGhleSBjYW4gY2hlY2sgb24gaXQuClNvbWUgZG9jdW1lbnRhdGlvbiBpcyBmb3VuZCBoZXJlOgoKLSBodHRwczovL3NjY24udWNzZC5lZHUvcGlwZXJtYWlsL2VlZ2xhYmxpc3QvMjAyMS8wMTYyMjIuaHRtbCAoYXJjaGl2ZWQgYXQgaHR0cHM6Ly9wZXJtYS5jYy85U0RHLU5HWEQpCi0gaHR0cHM6Ly9zY2NuLnVjc2QuZWR1L3dpa2kvRUVHTEFCX2J1ZzE5NzEgKGFyY2hpdmVkIGF0IGh0dHBzOi8vcGVybWEuY2MvSDdQQS1UUFRaKQoKIyMjIEZpbHRlcmluZywgYXZlcmFnZSByZWZlcmVuY2luZywgYW5kIGF1dG9tYXRpY2FsbHkgY2xlYW5pbmcgdGhlIGRhdGEuCgpUaGlzIHNjcmlwdCBiYXRjaCByZWFkcyBpbiBmaWxlcywgZmlsdGVycyB0aGVtLCBhdmVyYWdlIHJlZmVyZW5jZXMsIGFuZCBhdXRvbWF0aWNhbGx5IGNsZWFucyB0aGVtLgpBZnRlciB0aGF0LCB0aGlzIHNjcmlwdCByZWFkcyBpbiB0aGUgY2xlYW5lZCBmaWxlcyBmb3IgbWFudWFsbHkgcHJvY2Vzc2luZyB0byByZW1vdmUgYmFkIHRpbWUgcGVyaW9kcyBhbmQgYmFkIGNoYW5uZWxzCgpgYGBtYXRsYWIKJTEwLzIwLzIyIFdvcmtpbmcgc2NyaXB0IHRoYXQgcmVhZHMgZXZlcnl0aGluZyBpbnRvIG1hdGxhYgoKCiUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUKJUxvY2F0aW9uIG9mIFJhdyBvZGRiYWxsIGZpbGVzCnJhd09kZGJhbGxGaWxlcyA9ICdcXGxjLXJzLXN0b3JlMjQuaHBjLnVpb3dhLmVkdVxsc3NfaXRwZXRlcnNlblxMYWJcU3R1ZGllc1xTY2hvb2wgUmVhZGluZXNzIFN0dWR5XERhdGFcTFYyXEVSUFxPZGRiYWxsXE1BVExBQlwwLVJhd1wnOwolTG9jYXRpb24gb2YgcGF0aCB0byBzYXZlIGNsZWFuZWQgZmlsZXMKY2xlYW5BdXRvUGF0aCA9ICdcXGxjLXJzLXN0b3JlMjQuaHBjLnVpb3dhLmVkdVxsc3NfaXRwZXRlcnNlblxMYWJcU3R1ZGllc1xTY2hvb2wgUmVhZGluZXNzIFN0dWR5XERhdGFcTFYyXEVSUFxPZGRiYWxsXE1BVExBQlwxMC1DbGVhbiBBcnRpZmljYXRzIChjbGVhbilcJzsKCiVhbGwgb2RkYmFsbCBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5IHRvIGJlIHByb2Nlc3NlZApmaWxlc0luRGlyZWN0b3J5ID0gZGlyKGZ1bGxmaWxlKHJhd09kZGJhbGxGaWxlcywgJyoubWZmJykpOyAlUmVhZGluZyB0aGUgZmlsZXMgaW4gdGhlIGRpcmVjdG9yeQoKJUxpc3RpbmcgdGhlIG51bWJlciBvZiBzdWJqZWN0cyBmb3IgdGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wCm51bWJlck9mU3ViamVjdCA9IGhlaWdodChmaWxlc0luRGlyZWN0b3J5KTsKCiVOYW1lcyBvZiBhbGwgdGhlIGZpbGVzIGluIHRoZSBkaXJlY3RvcnkKbGlzdE9mU3ViamVjdHM9e2ZpbGVzSW5EaXJlY3RvcnkubmFtZX07IAoKJXNwbGl0dGluZyB0aGUgZmlsZW5hbWUgdXAKZmlsZW5hbWVTcGxpdCA9IHJlZ2V4cChsaXN0T2ZTdWJqZWN0cywgJ18nLCAnc3BsaXQnKTsgIAppZCA9IGNlbGxmdW4oQCh4KSB4ezF9LGZpbGVuYW1lU3BsaXQsJ3VuJywwKTsgICVnZXR0aW5nIHRoZSBpZCdzCndhdmUgPSBjZWxsZnVuKEAoeCkgeHsyfSxmaWxlbmFtZVNwbGl0LCd1bicsMCk7ICVnZXR0aW5nIHRoZSB3YXZlcwoKCgpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUIEFMTENPTV0gPSBlZWdsYWI7Cgpmb3IgaT0xOm51bWJlck9mU3ViamVjdAoKICAgICUlJSUgSW1wb3J0aW5nIERhdGEKICAgIHBhdGggPSBbcmF3T2RkYmFsbEZpbGVzLGZpbGVzSW5EaXJlY3RvcnkoaSkubmFtZV07CiAgICB0Y2lkID0gY2hhcihzdHJjYXQoaWQoaSksJ18nLCB3YXZlKGkpKSk7ICVjb21iaW5pbmcgdGhlIFRDSUQgYW5kIHdhdmUKCiAgICBFRUcgPSBwb3BfbWZmaW1wb3J0KHtwYXRofSx7J2NvZGUnfSwwLDApOwogICAgJSBTYXZpbmcgdGhlIGRhdGEgaW4gbWVtb3J5CiAgIFtBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgaSwnc2V0bmFtZScsIHRjaWQsJ2d1aScsJ29mZicpOwoKICAgICUgRmlsdGVyaW5nIHRoZSBkYXRhCiAgICBFRUcgPSBwb3BfZWVnZmlsdG5ldyhBTExFRUcoaSksICdsb2N1dG9mZicsMC4xLCdoaWN1dG9mZicsMzAsJ3Bsb3RmcmVxeicsMSk7CiAgICBbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIGksJ292ZXJ3cml0ZScsJ29uJywnZ3VpJywnb2ZmJyk7CiAgICAKICAgICUgQXZlcmFnZSBSZWZlcmVuY2luZwogICAgRUVHID0gcG9wX3JlcmVmKCBBTExFRUcoaSksIFtdKTsKICAgIFtBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgaSwnb3ZlcndyaXRlJywnb24nLCdndWknLCdvZmYnKTsKCiAgICAlIFRoZXkgc3Ryb25nbHkgYWR2aXNlIGltcG9ydGluZyBjaGFubmVsIGxvY2F0aW9ucyBiZWZvcmUgdXNpbmcgdGhpcwogICAgJSBmdW5jdGlvbi4KICAgICVDbGVhbmluZyB0aGUgRGF0YQogICAgRUVHID0gcG9wX2NsZWFuX3Jhd2RhdGEoQUxMRUVHKGkpLCAnRmxhdGxpbmVDcml0ZXJpb24nLDUsJ0NoYW5uZWxDcml0ZXJpb24nLDAuOCwnTGluZU5vaXNlQ3JpdGVyaW9uJyw0LCdIaWdocGFzcycsJ29mZicsJ0J1cnN0Q3JpdGVyaW9uJywzMCwnV2luZG93Q3JpdGVyaW9uJywwLjI1LCdCdXJzdFJlamVjdGlvbicsJ29uJywnRGlzdGFuY2UnLCdFdWNsaWRpYW4nLCdXaW5kb3dDcml0ZXJpb25Ub2xlcmFuY2VzJyxbLUluZiA3XSk7CiAgICBuYW1lQ2xlYW4gPSBbdGNpZCwnX2F1dG9DbGVhbi5zZXQnXTsKICAgIHNhdmVQYXRoQ2xlYW4gPSBbY2xlYW5BdXRvUGF0aCxuYW1lQ2xlYW5dOwogICAgW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVF0gPSBwb3BfbmV3c2V0KEFMTEVFRywgRUVHLCBpLCdzZXRuYW1lJywgbmFtZUNsZWFuLCAnc2F2ZW5ldycsIHNhdmVQYXRoQ2xlYW4sICdndWknLCdvZmYnLCAnb3ZlcndyaXRlJywgJ29uJyk7CgoKZW5kCmVlZ2xhYiByZWRyYXc6CgolJSBSZWFkaW5nIGluIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCBkYXRhc2V0cwoKJSUlJSUlJSUlJSUlJSUKJSBDbGVhciBEYXRhIGJlY2FzdWUgdG8gb3ZlcndyaXRlIGFueXRoaW5nIGluIG1lbW9yeQolJSUlJSUlJSUlJSUlJQpBTExFRUcgPSBbXTsKRUVHID0gW107CgolIEFkZGluZyB0aGUgcGF0aCBmb3IgY2xlYW5lZCBmaWxlcwpjbGVhbkF1dG9QYXRoID0gJ1xcbGMtcnMtc3RvcmUyNC5ocGMudWlvd2EuZWR1XGxzc19pdHBldGVyc2VuXExhYlxTdHVkaWVzXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcRGF0YVxMVjJcRVJQXE9kZGJhbGxcTUFUTEFCXDEwLUNsZWFuIEFydGlmaWNhdHMgKGNsZWFuKVwnOwoKJVN0YXJ0aW5nIEVFR0xBQgpbQUxMRUVHIEVFRyBDVVJSRU5UU0VUIEFMTENPTV0gPSBlZWdsYWI7CgoKJUxvY2F0aW9uIG9mIGNsZWFuZWQgb2RkYmFsbCBkYXRhCmZpbGVzSW5EaXJlY3RvcnlDbGVhbiA9IGRpcihmdWxsZmlsZShjbGVhbkF1dG9QYXRoLCAnKi5zZXQnKSk7ICVSZWFkaW5nIHRoZSBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5CgoKJUxpc3RpbmcgdGhlIG51bWJlciBvZiBzdWJqZWN0cyBmb3IgdGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wCm51bWJlck9mU3ViamVjdENsZWFuID0gaGVpZ2h0KGZpbGVzSW5EaXJlY3RvcnlDbGVhbik7CgolTmFtZXMgb2YgYWxsIHRoZSBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5Cmxpc3RPZlN1YmplY3RzQ2xlYW4gPSB7ZmlsZXNJbkRpcmVjdG9yeUNsZWFuLm5hbWV9OyAKCiVzcGxpdHRpbmcgdGhlIGZpbGVuYW1lIHVwCmZpbGVuYW1lU3BsaXRDbGVhbiA9IHJlZ2V4cChsaXN0T2ZTdWJqZWN0c0NsZWFuLCAnXycsICdzcGxpdCcpOyAgCmlkID0gY2VsbGZ1bihAKHgpIHh7MX0sZmlsZW5hbWVTcGxpdENsZWFuLCd1bicsMCk7ICAlZ2V0dGluZyB0aGUgaWQncwp3YXZlID0gY2VsbGZ1bihAKHgpIHh7Mn0sZmlsZW5hbWVTcGxpdENsZWFuLCd1bicsMCk7ICVnZXR0aW5nIHRoZSB3YXZlcwoKCmZvciBpPTE6bnVtYmVyT2ZTdWJqZWN0Q2xlYW4KCiAgICAlJSUlIEltcG9ydGluZyBEYXRhCiAgICB0Y2lkQ2xlYW4gPSBjaGFyKHN0cmNhdChpZChpKSwnXycsIHdhdmUoaSksICdfYXV0b0NsZWFuLnNldCcpKTsgJWNvbWJpbmluZyB0aGUgVENJRCBhbmQgd2F2ZSB0byBuYW1lIHRoZSBmaWxlCiAgICBFRUcgPSBwb3BfbG9hZHNldCgnZmlsZW5hbWUnLCB0Y2lkQ2xlYW4sICdmaWxlcGF0aCcsIGNsZWFuQXV0b1BhdGgpOyAKICAgIFtBTExFRUcgRUVHIENVUlJFTlRTRVRdID0gcG9wX25ld3NldChBTExFRUcsIEVFRywgaSwnc2V0bmFtZScsIHRjaWRDbGVhbiwnZ3VpJywnb2ZmJyk7CgplbmQKZWVnbGFiIHJlZHJhdzsKYGBgCgojIyMgUmVtb3ZpbmcgYmFkIHRpbWUgcGVyaW9kcyBhbmQgY2hhbm5lbHMKCjEuIEluIHRoZSBub3cgb3BlbiBFRUdMQUIgaW50ZXJmYWNlLCBzZWxlY3QgYSBkYXRhc2V0LgpHbyB0byBgVG9vbHNgID4gYEluc3BlY3QvcmVqZWN0IGRhdGEgYnkgZXllYCAKCiFbdmlzdWFsbHkgcmVqZWN0IGFydGlmYWN0c10oaW1hZ2VzL3Zpc3VhbF9yZWplY3RfYXJ0aWZhY3RzLnBuZykKCjEuIEdvIHRocm91Z2ggdGhlIHJhdyBzaWduYWwgYW5kIG1hbnVhbGx5IHJlamVjdCBiYWQgdGltZSBwZXJpb2RzCgohW3Zpc3VhbGx5IHJlamVjdCBhcnRpZmFjdHNdKGltYWdlcy9yZWplY3RfdGltZV9wZXJpb2RzLnBuZykKCjEuIFNlbGVjdCBgUkVKRUNUYCBhbmQgb3ZlcndyaXRlIHRoZSBmaWxlIGluIG1lbW9yeQogICAtIHNlbGVjdCBgT3ZlcndyaXRlIGl0IGluIG1lbW9yeSAoc2V0PXllczsgdW5zZXQ9Y3JlYXRlIGEgbmV3IGRhdGFzZXQpYAoxLiBWaXN1YWxseSBpbnNwZWN0IHRoZSBkYXRhIGFuZCBzZWxlY3QgYW55IGJhZCBjaGFubmVscywgYW5kIHdyaXRlIHRoZW0gZG93bgoxLiBOZXh0LCBtYW51YWxseSByZWplY3QgdGhlIGNoYW5uZWxzIGJ5IHNlbGVjdGluZyBgRWRpdGAgdGhlbiBgU2VsZWN0IERhdGFgCgohW3Zpc3VhbGx5IHJlamVjdCBhcnRpZmFjdHNdKGltYWdlcy9kcm9wX2NoYW5uZWxzLnBuZykKCjEuIE1hbnVhbGx5IGVudGVyIHRoZSBjaGFubmVscyB0byBiZSByZW1vdmVkIGluIHRoZSBgQ2hhbm5lbCByYW5nZWAgZmllbGQgYW5kIHNlbGVjdCB0aGUgY2hlY2tib3ggdW5kZXIgYG9uLT5yZW1vdmUgdGhlc2VgIGFuZCBzZWxlY3QgYE9rYAoxLiBTYXZlIHRoZSBmaWxlIGFzIGB0Y2lkX3dhdmVfbWFudWFsQ2xlYW4uc2V0YCBpbiB0aGUgZm9sbG93aW5nIGRyaXZlIHBhdGggCiAgICAtIGBcXGxjLXJzLXN0b3JlMjQuaHBjLnVpb3dhLmVkdVxsc3NfaXRwZXRlcnNlblxMYWJcU3R1ZGllc1xTY2hvb2wgUmVhZGluZXNzIFN0dWR5XERhdGFcTFYyXEVSUFxPZGRiYWxsXE1BVExBQlwxMS1NYW51YWxseSBDbGVhbmVkYAogICAgLSBUaGlzIHNjcmVlbnNob3QgcmVwcmVzZW50cyByZW1vdmluZyBjaGFubmVscyBgMjMgNTYgNTcgOTdgCiFbdmlzdWFsbHkgcmVqZWN0IGFydGlmYWN0c10oaW1hZ2VzL3JlbW92ZV9jaGFubmVsc19zcGVjaWZpYy5wbmcpCjEuIFJlcGVhdCBzdGVwIGZvciBlYWNoIGNsZWFuZWQgZGF0YXNldAoKIyMjIFJ1bm5pbmcgdGhlIElDQQoKVGhpcyBzY3JpcHQgcnVucyB0aGUgSUNBLgpXZSdsbCB3YW50IHRvIHRoaW5rIGFib3V0IGhvdyB0byBhdXRvbWF0aWNhbGx5IHJlamVjdCB0aGUgY29tcG9uZW50cyBoZXJlLgpPbmNlIHRoaXMgcnVucywgc2VlIHRoZSBbSUNBIHNlY3Rpb25dKCNpY2EpIHRvIHJlamVjdCBjb21wb25lbnRzLgpUb29scyDihpIgSW5zcGVjdC9sYWJlbCBjb21wb25lbnRzIGJ5IG1hcCBpcyBob3cgdG8gcmVqZWN0IGNvbXBvbmVudHMuCgpgYGBtYXRsYWIKJSBSdW5uaW5nIHRoZSBJQ0EKCiUlIFJlYWRpbmcgaW4gdGhlIG1hbnVhbGx5IGNsZWFuZWQgZGF0YXNldHMKCiUlJSUlJSUlJSUlJSUlCiUgQ2xlYXIgRGF0YSBiZWNhc3VlIHRvIG92ZXJ3cml0ZSBhbnl0aGluZyBpbiBtZW1vcnkKJSUlJSUlJSUlJSUlJSUKQUxMRUVHID0gW107CkVFRyA9IFtdOwoKJSBBZGRpbmcgdGhlIHBhdGggZm9yIGNsZWFuZWQgZmlsZXMKbWFudWFsQ2xlYW5QYXRoID0gJ1xcbGMtcnMtc3RvcmUyNC5ocGMudWlvd2EuZWR1XGxzc19pdHBldGVyc2VuXExhYlxTdHVkaWVzXFNjaG9vbCBSZWFkaW5lc3MgU3R1ZHlcRGF0YVxMVjJcRVJQXE9kZGJhbGxcTUFUTEFCXDExLU1hbnVhbGx5IENsZWFuZWRcJzsKCiVTdGFydGluZyBFRUdMQUIKW0FMTEVFRyBFRUcgQ1VSUkVOVFNFVCBBTExDT01dID0gZWVnbGFiOwoKCiVMb2NhdGlvbiBvZiBjbGVhbmVkIG9kZGJhbGwgZGF0YQpmaWxlc0luRGlyZWN0b3J5TWFudWFsQ2xlYW4gPSBkaXIoZnVsbGZpbGUobWFudWFsQ2xlYW5QYXRoLCAnKi5zZXQnKSk7ICVSZWFkaW5nIHRoZSBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5CgoKJUxpc3RpbmcgdGhlIG51bWJlciBvZiBzdWJqZWN0cyBmb3IgdGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wCm51bWJlck9mU3ViamVjdE1hbnVhbENsZWFuID0gaGVpZ2h0KGZpbGVzSW5EaXJlY3RvcnlNYW51YWxDbGVhbik7CgolTmFtZXMgb2YgYWxsIHRoZSBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5Cmxpc3RPZlN1YmplY3RzTWFudWFsQ2xlYW4gPSB7ZmlsZXNJbkRpcmVjdG9yeU1hbnVhbENsZWFuLm5hbWV9OyAKCiVzcGxpdHRpbmcgdGhlIGZpbGVuYW1lIHVwCmZpbGVuYW1lU3BsaXRNYW51YWxDbGVhbiA9IHJlZ2V4cChsaXN0T2ZTdWJqZWN0c01hbnVhbENsZWFuLCAnXycsICdzcGxpdCcpOyAgCmlkID0gY2VsbGZ1bihAKHgpIHh7MX0sZmlsZW5hbWVTcGxpdE1hbnVhbENsZWFuLCd1bicsMCk7ICAlZ2V0dGluZyB0aGUgaWQncwp3YXZlID0gY2VsbGZ1bihAKHgpIHh7Mn0sZmlsZW5hbWVTcGxpdE1hbnVhbENsZWFuLCd1bicsMCk7ICVnZXR0aW5nIHRoZSB3YXZlcwoKCmZvciBpPTE6bnVtYmVyT2ZTdWJqZWN0TWFudWFsQ2xlYW4KCiAgICAlJSUlIEltcG9ydGluZyBEYXRhCiAgICB0Y2lkQ2xlYW4gPSBjaGFyKHN0cmNhdChpZChpKSwnXycsIHdhdmUoaSksICdfbWFudWFsQ2xlYW4uc2V0JykpOyAlY29tYmluaW5nIHRoZSBUQ0lEIGFuZCB3YXZlIHRvIG5hbWUgdGhlIGZpbGUKICAgIEVFRyA9IHBvcF9sb2Fkc2V0KCdmaWxlbmFtZScsIHRjaWRDbGVhbiwgJ2ZpbGVwYXRoJywgbWFudWFsQ2xlYW5QYXRoKTsgCiAgICBbQUxMRUVHIEVFRyBDVVJSRU5UU0VUXSA9IHBvcF9uZXdzZXQoQUxMRUVHLCBFRUcsIGksJ3NldG5hbWUnLCB0Y2lkQ2xlYW4sJ2d1aScsJ29mZicpOwoKICAgICUlJSBSdW5uaW5nIHRoZSBJQ0EKICAgIEVFRyA9IGVlZ19jaGVja3NldCggRUVHICk7CiAgICBFRUcgPSBwb3BfcnVuaWNhKEVFRywgJ2ljYXR5cGUnLCAncnVuaWNhJywgJ2V4dGVuZGVkJywxLCdpbnRlcnJ1cHQnLCdvbicpOwogICAgW0FMTEVFRyBFRUddID0gZWVnX3N0b3JlKEFMTEVFRywgRUVHLCBDVVJSRU5UU0VUKTsKICAgIGVlZ2xhYiByZWRyYXc7CgplbmQKZWVnbGFiIHJlZHJhdzsKYGBg</div>
<script type="text/javascript" src="includes/external-links.js"></script>

<br>
<hr>
<br>

<!-- Add lab logo -->
<p style="text-align: center;">
    <a href="https://developmental-psychopathology.lab.uiowa.edu" target="_blank">
        <img alt="Developmental Psychopathology Lab" src="images/formalLogo.png" width="60%">
    </a>
</p>

<br>
<hr>
<br>

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Add font awesome icons -->
<p style="text-align: center;">
    <a href="https://github.com/DevPsyLab" target="_blank" class="fa fa-github fa-fw fa-3x"></a>
    <a href="https://twitter.com/devpsylab" target="_blank" class="fa fa-twitter fa-fw fa-3x"></a>
    <a href="https://www.facebook.com/DevPsyLab" target="_blank" class="fa fa-facebook fa-fw fa-3x"></a>
	<a href="https://www.instagram.com/dev_psy_lab" target="_blank" class="fa fa-instagram fa-fw fa-3x"></a>
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("eegERP.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
