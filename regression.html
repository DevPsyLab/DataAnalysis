<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Regression</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TYR0QMREEW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TYR0QMREEW');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="includes/custom.css" type="text/css" />
<link rel="stylesheet" href="font/css/roboto.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Analysis Guides for the Developmental Psychopathology Lab</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="adobe.html">Adobe</a>
    </li>
    <li>
      <a href="bayesian.html">Bayesian Analysis</a>
    </li>
    <li>
      <a href="dataManagement.html">Data Management</a>
    </li>
    <li>
      <a href="developmentalScaling.html">Developmental Scaling</a>
    </li>
    <li>
      <a href="eegERP.html">Electroencaphalography/Event-Related Potentials</a>
    </li>
    <li>
      <a href="eda.html">Exploratory Data Analysis</a>
    </li>
    <li>
      <a href="factorAnalysis.html">Factor Analysis</a>
    </li>
    <li>
      <a href="figures.html">Figures</a>
    </li>
    <li>
      <a href="git.html">Git, GitLab, and GitHub</a>
    </li>
    <li>
      <a href="hlm.html">Hierarchical Linear Modeling</a>
    </li>
    <li>
      <a href="hpc.html">High-Performance Computing</a>
    </li>
    <li>
      <a href="irt.html">Item Response Theory</a>
    </li>
    <li>
      <a href="jamovi.html">jamovi</a>
    </li>
    <li>
      <a href="jsPsych.html">jsPsych</a>
    </li>
    <li>
      <a href="lamp.html">LAMP (Linux, Apache, MySQL, PHP)</a>
    </li>
    <li>
      <a href="lda.html">Longitudinal Data Analysis</a>
    </li>
    <li>
      <a href="markdown.html">Markdown</a>
    </li>
    <li>
      <a href="sem.html#mediation">Mediation</a>
    </li>
    <li>
      <a href="regression.html#moderation">Moderation/Interaction</a>
    </li>
    <li>
      <a href="multipleImputation.html">Multiple Imputation</a>
    </li>
    <li>
      <a href="osf.html">Open Science Framework</a>
    </li>
    <li>
      <a href="pca.html">Principal Component Analysis</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="regression.html">Regression</a>
    </li>
    <li>
      <a href="SPSS.html">SPSS</a>
    </li>
    <li>
      <a href="sem.html">Structural Equation Modeling</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://devpsylab.github.io/LabWiki">Lab Wiki</a>
</li>
<li>
  <a href="https://developmental-psychopathology.lab.uiowa.edu">Lab Website</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Regression</h1>

</div>


<div id="preamble" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Preamble</h1>
<div id="install-libraries" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Install
Libraries</h2>
<pre class="r fold-hide"><code>#install.packages(&quot;remotes&quot;)
#remotes::install_github(&quot;DevPsyLab/petersenlab&quot;)</code></pre>
</div>
<div id="load-libraries" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Load Libraries</h2>
<pre class="r fold-hide"><code>library(&quot;petersenlab&quot;)
library(&quot;MASS&quot;)
library(&quot;tidyverse&quot;)
library(&quot;psych&quot;)
library(&quot;rms&quot;)
library(&quot;robustbase&quot;)
library(&quot;brms&quot;)
library(&quot;cvTools&quot;)
library(&quot;car&quot;)
library(&quot;mgcv&quot;)
library(&quot;AER&quot;)
library(&quot;foreign&quot;)
library(&quot;olsrr&quot;)
library(&quot;quantreg&quot;)
library(&quot;mblm&quot;)
library(&quot;effects&quot;)
library(&quot;correlation&quot;)
library(&quot;interactions&quot;)
library(&quot;lavaan&quot;)
library(&quot;regtools&quot;)
library(&quot;mice&quot;)</code></pre>
</div>
</div>
<div id="import-data" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Import Data</h1>
<pre class="r fold-hide"><code>mydata &lt;- read.csv(&quot;https://osf.io/8syp5/download&quot;)</code></pre>
<pre><code>Warning in file(file, &quot;rt&quot;): URL &#39;https://osf.io/8syp5/download&#39;: status was
&#39;SSL connect error&#39;</code></pre>
<pre><code>Error in file(file, &quot;rt&quot;): cannot open the connection to &#39;https://osf.io/8syp5/download&#39;</code></pre>
</div>
<div id="data-preparation" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Data Preparation</h1>
<pre class="r fold-hide"><code>mydata$countVariable &lt;- as.integer(mydata$bpi_antisocialT2Sum)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-hide"><code>mydata$orderedVariable &lt;- factor(mydata$countVariable, ordered = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-hide"><code>mydata$female &lt;- NA</code></pre>
<pre><code>Error: object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-hide"><code>mydata$female[which(mydata$sex == &quot;male&quot;)] &lt;- 0</code></pre>
<pre><code>Error: object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-hide"><code>mydata$female[which(mydata$sex == &quot;female&quot;)] &lt;- 1</code></pre>
<pre><code>Error: object &#39;mydata&#39; not found</code></pre>
</div>
<div id="linear-regression" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Linear Regression</h1>
<div id="linear-regression-model" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Linear regression
model</h2>
<pre class="r fold-show"><code>multipleRegressionModel &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                              data = mydata,
                              na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<div id="remove-missing-data" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Remove missing
data</h3>
<pre class="r fold-show"><code>multipleRegressionModelNoMissing &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                       data = mydata,
                                       na.action = na.omit)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModelNoMissing &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                       data = mydata %&gt;% select(bpi_antisocialT2Sum, bpi_antisocialT1Sum, bpi_anxiousDepressedSum) %&gt;% na.omit)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
</div>
</div>
<div
id="linear-regression-model-on-correlationcovariance-matrix-for-pairwise-deletion"
class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Linear regression
model on correlation/covariance matrix (for pairwise deletion)</h2>
<pre class="r fold-show"><code>multipleRegressionModelPairwise &lt;- setCor(
  y = &quot;bpi_antisocialT2Sum&quot;,
  x = c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_anxiousDepressedSum&quot;),
  data = cov(mydata[,c(&quot;bpi_antisocialT2Sum&quot;,&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_anxiousDepressedSum&quot;)], use = &quot;pairwise.complete.obs&quot;),
  n.obs = nrow(mydata))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModelPairwise)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModelPairwise&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModelPairwise[c(&quot;coefficients&quot;,&quot;se&quot;,&quot;Probability&quot;,&quot;R2&quot;,&quot;shrunkenR2&quot;)]</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelPairwise&#39; not found</code></pre>
</div>
<div id="linear-regression-model-with-robust-covariance-matrix-rms"
class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Linear regression
model with robust covariance matrix (rms)</h2>
<pre class="r fold-show"><code>rmsMultipleRegressionModel &lt;- robcov(ols(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                         data = mydata,
                                         x = TRUE,
                                         y = TRUE))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>rmsMultipleRegressionModel</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsMultipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(rmsMultipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsMultipleRegressionModel&#39; not found</code></pre>
</div>
<div
id="robust-linear-regression-mm-type-iteratively-reweighted-least-squares-regression"
class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Robust linear
regression (MM-type iteratively reweighted least squares
regression)</h2>
<pre class="r fold-show"><code>robustLinearRegression &lt;- lmrob(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(robustLinearRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;robustLinearRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(robustLinearRegression)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;robustLinearRegression&#39; not found</code></pre>
</div>
<div id="least-trimmed-squares-regression-for-removing-outliers"
class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Least trimmed squares
regression (for removing outliers)</h2>
<pre class="r fold-show"><code>ltsRegression &lt;- ltsReg(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                        data = mydata,
                        na.action = na.exclude)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(ltsRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;ltsRegression&#39; not found</code></pre>
</div>
<div id="bayesian-linear-regression" class="section level2"
number="4.6">
<h2><span class="header-section-number">4.6</span> Bayesian linear
regression</h2>
<pre class="r fold-show"><code>bayesianRegularizedRegression &lt;- brm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                     data = mydata,
                                     chains = 4,
                                     iter = 2000,
                                     seed = 52242)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(bayesianRegularizedRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;bayesianRegularizedRegression&#39; not found</code></pre>
</div>
</div>
<div id="generalized-linear-regression" class="section level1"
number="5">
<h1><span class="header-section-number">5</span> Generalized Linear
Regression</h1>
<div id="generalized-regression-model" class="section level2"
number="5.1">
<h2><span class="header-section-number">5.1</span> Generalized
regression model</h2>
<p>In this example, we predict a count variable that has a poisson
distribution. We could change the distribution.</p>
<pre class="r fold-show"><code>generalizedRegressionModel &lt;- glm(countVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                  data = mydata,
                                  family = &quot;poisson&quot;,
                                  na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(generalizedRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;generalizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(generalizedRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;generalizedRegressionModel&#39; not found</code></pre>
</div>
<div id="generalized-regression-model-rms" class="section level2"
number="5.2">
<h2><span class="header-section-number">5.2</span> Generalized
regression model (rms)</h2>
<p>In this example, we predict a count variable that has a poisson
distribution. We could change the distribution.</p>
<pre class="r fold-show"><code>rmsGeneralizedRegressionModel &lt;- Glm(countVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                     data = mydata,
                                     x = TRUE,
                                     y = TRUE,
                                     family = &quot;poisson&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>rmsGeneralizedRegressionModel</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsGeneralizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(rmsGeneralizedRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsGeneralizedRegressionModel&#39; not found</code></pre>
</div>
<div id="bayesian-generalized-linear-model" class="section level2"
number="5.3">
<h2><span class="header-section-number">5.3</span> Bayesian generalized
linear model</h2>
<p>In this example, we predict a count variable that has a poisson
distribution. We could change the distribution. For example, we could
use Gamma regression, <code>family = Gamma</code>, when the response
variable is continuous and positive, and the coefficient of
variation–rather than the variance–is constant.</p>
<pre class="r fold-show"><code>bayesianGeneralizedLinearRegression &lt;- brm(countVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                           data = mydata,
                                           family = poisson,
                                           chains = 4,
                                           seed = 52242,
                                           iter = 2000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(bayesianGeneralizedLinearRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;bayesianGeneralizedLinearRegression&#39; not found</code></pre>
</div>
<div id="robust-generalized-regression" class="section level2"
number="5.4">
<h2><span class="header-section-number">5.4</span> Robust generalized
regression</h2>
<pre class="r fold-show"><code>robustGeneralizedRegression &lt;- glmrob(countVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                      data = mydata,
                                      family = &quot;poisson&quot;,
                                      na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(robustGeneralizedRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;robustGeneralizedRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(robustGeneralizedRegression)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;robustGeneralizedRegression&#39; not found</code></pre>
</div>
<div id="ordinal-regression-model" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Ordinal regression
model</h2>
<pre class="r fold-show"><code>ordinalRegressionModel1 &lt;- polr(
  orderedVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
  data = mydata)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>ordinalRegressionModel2 &lt;- lrm(
  orderedVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
  data = mydata,
  x = TRUE,
  y = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>ordinalRegressionModel3 &lt;- orm(
  orderedVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
  data = mydata,
  x = TRUE,
  y = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(ordinalRegressionModel1)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;ordinalRegressionModel1&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(ordinalRegressionModel1)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;ordinalRegressionModel1&#39; not found</code></pre>
<pre class="r fold-show"><code>ordinalRegressionModel2</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;ordinalRegressionModel2&#39; not found</code></pre>
<pre class="r fold-show"><code>ordinalRegressionModel3</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;ordinalRegressionModel3&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(ordinalRegressionModel3)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;ordinalRegressionModel3&#39; not found</code></pre>
</div>
<div id="bayesian-ordinal-regression-model" class="section level2"
number="5.6">
<h2><span class="header-section-number">5.6</span> Bayesian ordinal
regression model</h2>
<pre class="r fold-show"><code>bayesianOrdinalRegression &lt;- brm(orderedVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                 data = mydata,
                                 family = cumulative(),
                                 chains = 4,
                                 seed = 52242,
                                 iter = 2000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(bayesianOrdinalRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;bayesianOrdinalRegression&#39; not found</code></pre>
</div>
<div id="bayesian-count-regression-model" class="section level2"
number="5.7">
<h2><span class="header-section-number">5.7</span> Bayesian count
regression model</h2>
<pre class="r fold-show"><code>bayesianCountRegression &lt;- brm(countVariable ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                               data = mydata,
                               family = &quot;poisson&quot;,
                               chains = 4,
                               seed = 52242,
                               iter = 2000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(bayesianCountRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;bayesianCountRegression&#39; not found</code></pre>
</div>
<div id="logistic-regression-model-rms" class="section level2"
number="5.8">
<h2><span class="header-section-number">5.8</span> Logistic regression
model (rms)</h2>
<pre class="r fold-show"><code>logisticRegressionModel &lt;- robcov(lrm(female ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                      data = mydata,
                                      x = TRUE,
                                      y = TRUE))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>logisticRegressionModel</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;logisticRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(logisticRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;logisticRegressionModel&#39; not found</code></pre>
</div>
<div id="bayesian-logistic-regression-model" class="section level2"
number="5.9">
<h2><span class="header-section-number">5.9</span> Bayesian logistic
regression model</h2>
<pre class="r fold-show"><code>bayesianLogisticRegression &lt;- brm(female ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                  data = mydata,
                                  family = bernoulli,
                                  chains = 4,
                                  seed = 52242,
                                  iter = 2000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(bayesianLogisticRegression)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;bayesianLogisticRegression&#39; not found</code></pre>
</div>
</div>
<div id="hierarchical-linear-regression" class="section level1"
number="6">
<h1><span class="header-section-number">6</span> Hierarchical Linear
Regression</h1>
<pre class="r fold-show"><code>model1 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum,
             data = mydata %&gt;% select(bpi_antisocialT2Sum, bpi_antisocialT1Sum, bpi_anxiousDepressedSum) %&gt;% na.omit,
             na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>model2 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
             data = mydata %&gt;% select(bpi_antisocialT2Sum, bpi_antisocialT1Sum, bpi_anxiousDepressedSum) %&gt;% na.omit,
             na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(model2)$adj.r.squared</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;model2&#39; not found</code></pre>
<pre class="r fold-show"><code>anova(model1, model2)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;anova&#39;: object &#39;model1&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(model2)$adj.r.squared - summary(model1)$adj.r.squared</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;model2&#39; not found</code></pre>
</div>
<div id="moderation" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Moderated Multiple
Regression</h1>
<p><a
href="https://cran.r-project.org/web/packages/interactions/vignettes/interactions.html"
class="uri">https://cran.r-project.org/web/packages/interactions/vignettes/interactions.html</a></p>
<pre class="r fold-show"><code>states &lt;- as.data.frame(state.x77)</code></pre>
<div id="mean-center-predictors" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Mean Center
Predictors</h2>
<p>Make sure to mean-center or orthogonalize predictors before computing
the interaction term.</p>
<pre class="r fold-show"><code>states$Illiteracy_centered &lt;- scale(states$Illiteracy, scale = FALSE)
states$Murder_centered &lt;- scale(states$Murder, scale = FALSE)</code></pre>
</div>
<div id="model" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Model</h2>
<pre class="r fold-show"><code>interactionModel &lt;- lm(
  Income ~ Illiteracy_centered + Murder_centered + Illiteracy_centered:Murder_centered + `HS Grad`,
  data = states)</code></pre>
</div>
<div id="plots" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Plots</h2>
<pre class="r fold-show"><code>interact_plot(interactionModel, pred = Illiteracy_centered, modx = Murder_centered)</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<pre class="r fold-show"><code>interact_plot(interactionModel, pred = Illiteracy_centered, modx = Murder_centered, plot.points = TRUE)</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-30-2.png" width="672" /></p>
<pre class="r fold-show"><code>interact_plot(interactionModel, pred = Illiteracy_centered, modx = Murder_centered, interval = TRUE)</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-30-3.png" width="672" /></p>
<pre class="r fold-show"><code>johnson_neyman(interactionModel, pred = Illiteracy_centered, modx = Murder_centered, alpha = .05)</code></pre>
<pre><code>JOHNSON-NEYMAN INTERVAL 

When Murder_centered is OUTSIDE the interval [-8.13, 4.37], the slope of
Illiteracy_centered is p &lt; .05.

Note: The range of observed values of Murder_centered is [-5.98, 7.72]</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-30-4.png" width="672" /></p>
</div>
<div id="simple-slopes-analysis" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Simple Slopes
Analysis</h2>
<pre class="r fold-show"><code>sim_slopes(interactionModel, pred = Illiteracy_centered, modx = Murder_centered, johnson_neyman = FALSE)</code></pre>
<pre><code>SIMPLE SLOPES ANALYSIS 

Slope of Illiteracy_centered when Murder_centered = -3.69154e+00 (- 1 SD): 

    Est.     S.E.   t val.      p
-------- -------- -------- ------
  395.34   274.84     1.44   0.16

Slope of Illiteracy_centered when Murder_centered = -1.24345e-16 (Mean): 

   Est.     S.E.   t val.      p
------- -------- -------- ------
  37.12   192.56     0.19   0.85

Slope of Illiteracy_centered when Murder_centered =  3.69154e+00 (+ 1 SD): 

     Est.     S.E.   t val.      p
--------- -------- -------- ------
  -321.10   183.49    -1.75   0.09</code></pre>
<pre class="r fold-show"><code>sim_slopes(interactionModel,
           pred = Illiteracy_centered,
           modx = Murder_centered,
           modx.values = c(0, 5, 10),
           johnson_neyman = FALSE)</code></pre>
<pre><code>SIMPLE SLOPES ANALYSIS 

Slope of Illiteracy_centered when Murder_centered =  0.00: 

   Est.     S.E.   t val.      p
------- -------- -------- ------
  37.12   192.56     0.19   0.85

Slope of Illiteracy_centered when Murder_centered =  5.00: 

     Est.     S.E.   t val.      p
--------- -------- -------- ------
  -448.07   202.17    -2.22   0.03

Slope of Illiteracy_centered when Murder_centered = 10.00: 

     Est.     S.E.   t val.      p
--------- -------- -------- ------
  -933.27   330.10    -2.83   0.01</code></pre>
</div>
<div id="johnson-neyman-intervals" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Johnson-Neyman
intervals</h2>
<p>Indicates all the values of the moderator for which the slope of the
predictor is statistically significant.</p>
<pre class="r fold-show"><code>sim_slopes(interactionModel, pred = Illiteracy_centered, modx = Murder_centered, johnson_neyman = TRUE)</code></pre>
<pre><code>JOHNSON-NEYMAN INTERVAL 

When Murder_centered is OUTSIDE the interval [-8.13, 4.37], the slope of
Illiteracy_centered is p &lt; .05.

Note: The range of observed values of Murder_centered is [-5.98, 7.72]

SIMPLE SLOPES ANALYSIS 

Slope of Illiteracy_centered when Murder_centered = -3.69154e+00 (- 1 SD): 

    Est.     S.E.   t val.      p
-------- -------- -------- ------
  395.34   274.84     1.44   0.16

Slope of Illiteracy_centered when Murder_centered = -1.24345e-16 (Mean): 

   Est.     S.E.   t val.      p
------- -------- -------- ------
  37.12   192.56     0.19   0.85

Slope of Illiteracy_centered when Murder_centered =  3.69154e+00 (+ 1 SD): 

     Est.     S.E.   t val.      p
--------- -------- -------- ------
  -321.10   183.49    -1.75   0.09</code></pre>
<pre class="r fold-show"><code>probe_interaction(interactionModel,
                  pred = Illiteracy_centered,
                  modx = Murder_centered,
                  cond.int = TRUE,
                  interval = TRUE,
                  jnplot = TRUE)</code></pre>
<pre><code>JOHNSON-NEYMAN INTERVAL 

When Murder_centered is OUTSIDE the interval [-8.13, 4.37], the slope of
Illiteracy_centered is p &lt; .05.

Note: The range of observed values of Murder_centered is [-5.98, 7.72]</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<pre><code>SIMPLE SLOPES ANALYSIS 

When Murder_centered = -3.69154e+00 (- 1 SD): 

                                        Est.     S.E.   t val.      p
---------------------------------- --------- -------- -------- ------
Slope of Illiteracy_centered          395.34   274.84     1.44   0.16
Conditional intercept                4523.23   134.99    33.51   0.00

When Murder_centered = -1.24345e-16 (Mean): 

                                        Est.     S.E.   t val.      p
---------------------------------- --------- -------- -------- ------
Slope of Illiteracy_centered           37.12   192.56     0.19   0.85
Conditional intercept                4586.22    85.52    53.63   0.00

When Murder_centered =  3.69154e+00 (+ 1 SD): 

                                        Est.     S.E.   t val.      p
---------------------------------- --------- -------- -------- ------
Slope of Illiteracy_centered         -321.10   183.49    -1.75   0.09
Conditional intercept                4649.22   118.97    39.08   0.00</code></pre>
<p><img src="regression_files/figure-html/unnamed-chunk-32-2.png" width="672" /></p>
</div>
</div>
<div id="missingness" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Approaches to Handling
Missingness</h1>
<div id="listwiseDeletion" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Listwise
deletion</h2>
<p>Listwise deletion deletes every row in the data file that has a
missing value for one of the model variables.</p>
<pre class="r fold-show"><code>listwiseDeletionModel &lt;- lm(
  bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
  data = mydata,
  na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(listwiseDeletionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;listwiseDeletionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(listwiseDeletionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;listwiseDeletionModel&#39; not found</code></pre>
</div>
<div id="pairwiseDeletion" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Pairwise
deletion</h2>
<p>Also see here:</p>
<ul>
<li><a
href="https://stats.stackexchange.com/questions/158366/fit-multiple-regression-model-with-pairwise-deletion-or-on-a-correlation-covari/173002#173002"
class="uri">https://stats.stackexchange.com/questions/158366/fit-multiple-regression-model-with-pairwise-deletion-or-on-a-correlation-covari/173002#173002</a></li>
<li><a
href="https://stats.stackexchange.com/questions/299792/r-lm-covariance-matrix-manual-calculation-failure"
class="uri">https://stats.stackexchange.com/questions/299792/r-lm-covariance-matrix-manual-calculation-failure</a></li>
<li><a
href="https://stats.stackexchange.com/questions/107597/is-there-a-way-to-use-the-covariance-matrix-to-find-coefficients-for-multiple-re"
class="uri">https://stats.stackexchange.com/questions/107597/is-there-a-way-to-use-the-covariance-matrix-to-find-coefficients-for-multiple-re</a></li>
<li><a
href="https://stats.stackexchange.com/questions/105006/how-to-perform-a-bivariate-regression-using-pairwise-deletion-of-missing-values"
class="uri">https://stats.stackexchange.com/questions/105006/how-to-perform-a-bivariate-regression-using-pairwise-deletion-of-missing-values</a></li>
<li><a
href="https://dl.dropboxusercontent.com/s/4sf0et3p47ykctx/MissingPairwise.sps"
class="uri">https://dl.dropboxusercontent.com/s/4sf0et3p47ykctx/MissingPairwise.sps</a></li>
</ul>
<p>Adapted from here: <a
href="https://stefvanbuuren.name/fimd/sec-simplesolutions.html#sec:pairwise"
class="uri">https://stefvanbuuren.name/fimd/sec-simplesolutions.html#sec:pairwise</a></p>
<pre class="r fold-show"><code>modelData &lt;- mydata[,c(&quot;bpi_antisocialT2Sum&quot;,&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_anxiousDepressedSum&quot;)]</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>varMeans &lt;- colMeans(modelData, na.rm = TRUE)</code></pre>
<pre><code>Error in colMeans(modelData, na.rm = TRUE): &#39;x&#39; must be an array of at least two dimensions</code></pre>
<pre class="r fold-show"><code>varCovariances &lt;- cov(modelData, use = &quot;pairwise&quot;)</code></pre>
<pre><code>Error in cov(modelData, use = &quot;pairwise&quot;): supply both &#39;x&#39; and &#39;y&#39; or a matrix-like &#39;x&#39;</code></pre>
<pre class="r fold-show"><code>pairwiseRegression_syntax &lt;- &#39;
  bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum
  bpi_antisocialT2Sum ~~ bpi_antisocialT2Sum
  bpi_antisocialT2Sum ~ 1
&#39;

pairwiseRegression_fit &lt;- lavaan(
  pairwiseRegression_syntax,
  sample.mean = varMeans,
  sample.cov = varCovariances,
  sample.nobs = sum(complete.cases(modelData))
)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;varCovariances&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(
  pairwiseRegression_fit,
  standardized = TRUE,
  rsquare = TRUE)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;pairwiseRegression_fit&#39; not found</code></pre>
</div>
<div id="fiml" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Full-information
maximum likelihood (FIML)</h2>
<pre class="r fold-show"><code>fimlRegression_syntax &lt;- &#39;
  bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum
  bpi_antisocialT2Sum ~~ bpi_antisocialT2Sum
  bpi_antisocialT2Sum ~ 1
&#39;

fimlRegression_fit &lt;- lavaan(
  fimlRegression_syntax,
  data = mydata,
  missing = &quot;ML&quot;,
)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(
  fimlRegression_fit,
  standardized = TRUE,
  rsquare = TRUE)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;fimlRegression_fit&#39; not found</code></pre>
</div>
<div id="imputation" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Multiple
imputation</h2>
<pre class="r fold-show"><code>modelData_imputed &lt;- mice(
  modelData,
  m = 5,
  method = &quot;pmm&quot;) # predictive mean matching; can choose among many methods</code></pre>
<pre><code>Error: Data should be a matrix or data frame</code></pre>
<pre class="r fold-show"><code>imputedData_fit &lt;- with(
  modelData_imputed,
  lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;modelData_imputed&#39; not found</code></pre>
<pre class="r fold-show"><code>imputedData_pooledEstimates &lt;- pool(imputedData_fit)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;imputedData_fit&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(imputedData_pooledEstimates)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;imputedData_pooledEstimates&#39; not found</code></pre>
</div>
</div>
<div id="model-building-steps" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Model Building
Steps</h1>
<ol style="list-style-type: decimal">
<li>Examine extent and type of missing data, consider <a
href="#missingness">how to handle missing values</a> (<a
href="#imputation">multiple imputation</a>, <a href="#fiml">FIML</a>, <a
href="#pairwiseDeletion">pairwise deletion</a>, <a
href="#listwiseDeletion">listwise deletion</a>)
<ul>
<li>Little’s MCAR test from <code>mcar_test()</code> function of the
<code>njtierney/naniar</code> package</li>
<li>Bayesian handling of missing data: <a
href="https://cran.r-project.org/web/packages/brms/vignettes/brms_missings.html"
class="uri">https://cran.r-project.org/web/packages/brms/vignettes/brms_missings.html</a></li>
</ul></li>
<li>Examine descriptive statistics, consider variable
transformations</li>
<li>Examine scatterplot matrix to examine whether associations between
predictor and outcomes are linear or nonlinear</li>
<li>Model building: theory and empiricism (stepwise regression,
likelihood ratio tests, k-fold cross validation to check for
over-fitting compared to simpler model)</li>
<li>Test assumptions
<ul>
<li>Examine whether predictors have linear association with outcome
(Residual Plots, Marginal Model Plots, Added-Variable Plots—check for
non-horizontal lines)</li>
<li>Examine whether residuals have constant variance across levels of
outcome and predictors Residual Plots, Spread-Level Plots—check for
fan-shaped plot or other increasing/decreasing structure)</li>
<li>Examine whether predictors show multicollinearity (VIF)</li>
<li>Examine whether residuals are normally distributed (QQ plot and
density plot)</li>
<li>Examine influence of influential observations (high outlyingness and
leverage) on parameter stimates by iteratively removing influential
observations and refitting (Added-Variable Plots)</li>
</ul></li>
<li>Handle violated assumptions, select final set of predictors/outcomes
and transformation of each</li>
<li>Use k-fold cross validation to identify the best estimation
procedure (OLS, MM, or LTS) on the final model</li>
<li>Use identified estimation procedure to fit final model and determine
the best parameter point estimates</li>
<li>Calculate bootstrapped estimates to determine the confidence
intervals around the parameter estimates of the final model</li>
</ol>
</div>
<div id="bootstrapped-estimates" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Bootstrapped
Estimates</h1>
<p>To determine the confidence intervals of parameter estimates</p>
<div id="linear-regression-1" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Linear
Regression</h2>
<pre class="r fold-show"><code>multipleRegressionModelBootstrapped &lt;- Boot(multipleRegressionModelNoMissing, R = 1000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelNoMissing&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModelBootstrapped)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModelBootstrapped&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(multipleRegressionModelBootstrapped, level = .95, type = &quot;bca&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelBootstrapped&#39; not found</code></pre>
<pre class="r fold-show"><code>hist(multipleRegressionModelBootstrapped)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelBootstrapped&#39; not found</code></pre>
</div>
<div id="generalized-regression" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Generalized
Regression</h2>
<pre class="r fold-show"><code>generalizedRegressionModelBootstrapped &lt;- Boot(multipleRegressionModelNoMissing, R = 1000)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelNoMissing&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(generalizedRegressionModelBootstrapped)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;generalizedRegressionModelBootstrapped&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(generalizedRegressionModelBootstrapped, level = .95, type = &quot;bca&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;generalizedRegressionModelBootstrapped&#39; not found</code></pre>
<pre class="r fold-show"><code>hist(generalizedRegressionModelBootstrapped)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;generalizedRegressionModelBootstrapped&#39; not found</code></pre>
</div>
</div>
<div id="cross-validation" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Cross Validation</h1>
<p>To examine degree of prediction error and over-fitting to determine
best model <a
href="https://stats.stackexchange.com/questions/103459/how-do-i-know-which-method-of-cross-validation-is-best"
class="uri">https://stats.stackexchange.com/questions/103459/how-do-i-know-which-method-of-cross-validation-is-best</a></p>
<div id="k-fold-cross-validation" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> K-fold cross
validation</h2>
<pre class="r fold-show"><code>kFolds &lt;- 10
replications &lt;- 20

folds &lt;- cvFolds(nrow(mydata), K = kFolds, R = replications)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>fitLm &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
            data = mydata,
            na.action = &quot;na.exclude&quot;)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>fitLmrob &lt;- lmrob(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                  data = mydata,
                  na.action = &quot;na.exclude&quot;)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>fitLts &lt;- ltsReg(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                 data = mydata,
                 na.action = &quot;na.exclude&quot;)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>cvFitLm &lt;- cvLm(fitLm, K = kFolds, R = replications)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;fitLm&#39; not found</code></pre>
<pre class="r fold-show"><code>cvFitLmrob &lt;- cvLmrob(fitLmrob, K = kFolds, R = replications)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;fitLmrob&#39; not found</code></pre>
<pre class="r fold-show"><code>cvFitLts &lt;- cvLts(fitLts, K = kFolds, R = replications)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;fitLts&#39; not found</code></pre>
<pre class="r fold-show"><code>cvFits &lt;- cvSelect(OLS = cvFitLm, MM = cvFitLmrob, LTS = cvFitLts)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;cvFitLm&#39; not found</code></pre>
<pre class="r fold-show"><code>cvFits</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;cvFits&#39; not found</code></pre>
<pre class="r fold-show"><code>bwplot(cvFits, xlab = &quot;Root Mean Square Error&quot;, xlim= c(0, max(cvFits$cv$CV) + 0.2))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;cvFits&#39; not found</code></pre>
</div>
</div>
<div id="examining-model-fits" class="section level1" number="12">
<h1><span class="header-section-number">12</span> Examining Model
Fits</h1>
<div id="effect-plots" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Effect Plots</h2>
<pre class="r fold-show"><code>allEffects(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(allEffects(multipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="confidence-ellipses" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Confidence
Ellipses</h2>
<pre class="r fold-show"><code>confidenceEllipse(multipleRegressionModel, levels = c(0.5, .95))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="data-ellipse" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Data Ellipse</h2>
<pre class="r fold-show"><code>mydata_nomissing &lt;- na.omit(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)])</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>dataEllipse(mydata_nomissing$bpi_antisocialT1Sum, mydata_nomissing$bpi_antisocialT2Sum, levels = c(0.5, .95))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata_nomissing&#39; not found</code></pre>
</div>
</div>
<div id="diagnostics" class="section level1" number="13">
<h1><span class="header-section-number">13</span> Diagnostics</h1>
<div id="assumptions" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Assumptions</h2>
<div id="linearAssociation" class="section level3" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> 1. Linear relation
between predictors and outcome</h3>
<div id="ways-to-test" class="section level4" number="13.1.1.1">
<h4><span class="header-section-number">13.1.1.1</span> Ways to
Test</h4>
<div id="before-model-fitting" class="section level5"
number="13.1.1.1.1">
<h5><span class="header-section-number">13.1.1.1.1</span> Before Model
Fitting</h5>
<ul>
<li>scatterplot matrix</li>
<li>distance correlation</li>
</ul>
<div id="scatterplot-matrix" class="section level6"
number="13.1.1.1.1.1">
<h6><span class="header-section-number">13.1.1.1.1.1</span> Scatterplot
Matrix</h6>
<pre class="r fold-show"><code>scatterplotMatrix(~ bpi_antisocialT2Sum + bpi_antisocialT1Sum + bpi_anxiousDepressedSum, data = mydata)</code></pre>
<pre><code>Error in eval(m$data, sys.frame(sys.parent())): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="distance-correlation" class="section level6"
number="13.1.1.1.1.2">
<h6><span class="header-section-number">13.1.1.1.1.2</span> Distance
correlation</h6>
<p>The distance correlation is an index of the degree of the linear and
non-linear association between two variables.</p>
<pre class="r fold-show"><code>correlation(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)], method = &quot;distance&quot;, p_adjust = &quot;none&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
</div>
<div id="after-model-fitting" class="section level5"
number="13.1.1.1.2">
<h5><span class="header-section-number">13.1.1.1.2</span> After Model
Fitting</h5>
<p>Check for nonlinearities (non-horizontal line) in plots of:</p>
<ul>
<li>Residuals versus fitted values (<a href="#residualPlots">Residual
Plots</a>)—best</li>
<li>Residuals versus predictors (<a href="#residualPlots">Residual
Plots</a>)</li>
<li>Outcome versus fitted values (<a href="#marginalModelPlots">Marginal
Model Plots</a>)</li>
<li>Outcome versus predictors, ignoring other predictors (<a
href="#marginalModelPlots">Marginal Model Plots</a>)</li>
<li>Outcome versus predictors, controlling for other predictors (<a
href="#addedVariablePlots">Added-Variable Plots</a>)</li>
</ul>
</div>
</div>
<div id="ways-to-handle" class="section level4" number="13.1.1.2">
<h4><span class="header-section-number">13.1.1.2</span> Ways to
Handle</h4>
<ul>
<li>Transform outcome/predictor variables (Box-Cox transformations)</li>
<li>Semi-parametric regression models: Generalized additive models
(GAM)</li>
<li>Non-parametric regression models: Nearest-Neighbor Kernel
Regression</li>
</ul>
<div id="semi-parametric-or-non-parametric-regression-models"
class="section level5" number="13.1.1.2.1">
<h5><span class="header-section-number">13.1.1.2.1</span>
Semi-parametric or non-parametric regression models</h5>
<p><a href="http://www.lisa.stat.vt.edu/?q=node/7517"
class="uri">http://www.lisa.stat.vt.edu/?q=node/7517</a></p>
<p>Note: using semi-parametric or non-parametric models increases fit in
context of nonlinearity at the expense of added complexity. Make sure to
avoid fitting an overly complex model (e.g., use k-fold cross
validation). Often, the simpler (generalized) linear model is preferable
to semi-paremetric or non-parametric approaches</p>
<div id="semi-parametric-generalized-additive-models"
class="section level6" number="13.1.1.2.1.1">
<h6><span class="header-section-number">13.1.1.2.1.1</span>
Semi-parametric: Generalized Additive Models</h6>
<p><a
href="http://documents.software.dell.com/Statistics/Textbook/Generalized-Additive-Models"
class="uri">http://documents.software.dell.com/Statistics/Textbook/Generalized-Additive-Models</a></p>
<pre class="r fold-show"><code>generalizedAdditiveModel &lt;- gam(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                family = gaussian(),
                                data = mydata, na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(generalizedAdditiveModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;generalizedAdditiveModel&#39; not found</code></pre>
<pre class="r fold-show"><code>confint(generalizedAdditiveModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;generalizedAdditiveModel&#39; not found</code></pre>
</div>
<div id="non-parametric-nearest-neighbor-kernel-regression"
class="section level6" number="13.1.1.2.1.2">
<h6><span class="header-section-number">13.1.1.2.1.2</span>
Non-parametric: Nearest-Neighbor Kernel Regression</h6>
</div>
</div>
</div>
</div>
<div id="exogeneity" class="section level3" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> 2. Exogeneity</h3>
<p>Exogeneity means that the association between predictors and outcome
is fully causal and unrelated to other variables.</p>
<div id="ways-to-test-1" class="section level4" number="13.1.2.1">
<h4><span class="header-section-number">13.1.2.1</span> Ways to
Test</h4>
<ul>
<li>Durbin-Wu-Hausman test of endogeneity</li>
</ul>
<div id="durbin-wu-hausman-test-of-endogeneity" class="section level5"
number="13.1.2.1.1">
<h5><span class="header-section-number">13.1.2.1.1</span>
Durbin-Wu-Hausman test of endogeneity</h5>
<p>The instrumental variables (2SLS) estimator is implemented in the
<code>R</code> package <code>AER</code> as command:</p>
<pre class="r fold-show"><code>ivreg(y ~ x1 + x2 + w1 + w2 | z1 + z2 + z3 + w1 + w2)</code></pre>
<p>where <code>x1</code> and <code>x2</code> are endogenous regressors,
<code>w1</code> and <code>w2</code> exogeneous regressors, and
<code>z1</code> to <code>z3</code> are excluded instruments.</p>
<p>Durbin-Wu-Hausman test:</p>
<pre class="r fold-show"><code>hsng2 &lt;- read.dta(&quot;http://www.stata-press.com/data/r11/hsng2.dta&quot;)

fiv &lt;- ivreg(rent ~ hsngval + pcturban | pcturban + faminc + reg2 + reg3 + reg4, data = hsng2) #Housing values are likely endogeneous and therefore instrumented by median family income (faminc) and 3 regional dummies (reg2, reg4, reg4)

summary(fiv, diagnostics = TRUE)</code></pre>
<pre><code>
Call:
ivreg(formula = rent ~ hsngval + pcturban | pcturban + faminc + 
    reg2 + reg3 + reg4, data = hsng2)

Residuals:
     Min       1Q   Median       3Q      Max 
-84.1948 -11.6023  -0.5239   8.6583  73.6130 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 1.207e+02  1.571e+01   7.685 7.55e-10 ***
hsngval     2.240e-03  3.388e-04   6.612 3.17e-08 ***
pcturban    8.152e-02  3.082e-01   0.265    0.793    

Diagnostic tests:
                 df1 df2 statistic  p-value    
Weak instruments   4  44     13.30  3.5e-07 ***
Wu-Hausman         1  46     15.91 0.000236 ***
Sargan             3  NA     11.29 0.010268 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 22.86 on 47 degrees of freedom
Multiple R-Squared: 0.5989, Adjusted R-squared: 0.5818 
Wald test: 42.66 on 2 and 47 DF,  p-value: 2.731e-11 </code></pre>
<p>The Eicker-Huber-White covariance estimator which is robust to
heteroscedastic error terms is reported after estimation with
<code>vcov = sandwich</code> in <code>coeftest()</code></p>
<p>First stage results are reported by explicitly estimating them. For
example:</p>
<pre class="r fold-show"><code>first &lt;- lm(hsngval ~ pcturban + faminc + reg2 + reg3 + reg4, data = hsng2)

summary(first)</code></pre>
<pre><code>
Call:
lm(formula = hsngval ~ pcturban + faminc + reg2 + reg3 + reg4, 
    data = hsng2)

Residuals:
   Min     1Q Median     3Q    Max 
-10504  -5223  -1162   2939  46756 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -1.867e+04  1.200e+04  -1.557 0.126736    
pcturban     1.822e+02  1.150e+02   1.584 0.120289    
faminc       2.731e+00  6.819e-01   4.006 0.000235 ***
reg2        -5.095e+03  4.122e+03  -1.236 0.223007    
reg3        -1.778e+03  4.073e+03  -0.437 0.664552    
reg4         1.341e+04  4.048e+03   3.314 0.001849 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 9253 on 44 degrees of freedom
Multiple R-squared:  0.6908,    Adjusted R-squared:  0.6557 
F-statistic: 19.66 on 5 and 44 DF,  p-value: 3.032e-10</code></pre>
<p>In case of a single endogenous variable (K = 1), the F-statistic to
assess weak instruments is reported after estimating the first stage
with, for example:</p>
<pre class="r fold-show"><code>waldtest(first, . ~ . - faminc - reg2 - reg3 - reg4)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Res.Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"44","2":"NA","3":"NA","4":"NA","_rn_":"1"},{"1":"48","2":"-4","3":"13.29778","4":"3.495112e-07","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>or in case of heteroscedatistic errors:</p>
<pre class="r fold-show"><code>waldtest(first, . ~ . - faminc - reg2 - reg3- reg4, vcov = sandwich)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Res.Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"44","2":"NA","3":"NA","4":"NA","_rn_":"1"},{"1":"48","2":"-4","3":"12.97475","4":"4.643466e-07","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="ways-to-handle-1" class="section level4" number="13.1.2.2">
<h4><span class="header-section-number">13.1.2.2</span> Ways to
Handle</h4>
<ul>
<li>Conduct an experiment/RCT with random assignment</li>
<li>Instrumental variables</li>
</ul>
</div>
</div>
<div id="homoscedasticity-of-residuals" class="section level3"
number="13.1.3">
<h3><span class="header-section-number">13.1.3</span> 3.
Homoscedasticity of residuals</h3>
<p>Homoscedasticity of the residuals means that the variance of the
residuals does not differ as a function of the outcome/predictors (i.e.,
the residuals show constant variance as a function of
outcome/predictors).</p>
<div id="ways-to-test-2" class="section level4" number="13.1.3.1">
<h4><span class="header-section-number">13.1.3.1</span> Ways to
Test</h4>
<ul>
<li>Plot residuals vs. outcome and predictor variables (<a
href="#residualPlots">Residual Plots</a>)</li>
<li>Plot residuals vs. fitted values (<a href="#residualPlots">Residual
Plots</a>)</li>
<li>Time Series data: Plot residuals vs. time</li>
<li>Spread-level plot</li>
<li>Breusch-Pagan test: <code>bptest()</code> function from
<code>lmtest</code> package</li>
<li>Goldfeld-Quandt Test</li>
</ul>
<div id="residuals-vs.-outcome-and-predictor-variables"
class="section level5" number="13.1.3.1.1">
<h5><span class="header-section-number">13.1.3.1.1</span> Residuals
vs. outcome and predictor variables</h5>
<p>Plot residuals, or perhaps their absolute values, versus the outcome
and predictor variables (<a href="#residualPlots">Residual Plots</a>).
Examine whether residual variance is constant at all levels of other
variables or whether it increases/decreases as a function of another
variable (or shows some others structure, e.g., small variance at low
and high levels of a predictor and high variance in the middle). Note
that this is <em>different than whether the residuals show
non-linearities</em>—i.e., a non-horizontal line, which would indicate a
<a href="#linearAssociation">nonlinear association between variables</a>
(see Assumption #1, above). Rather, here we are examining whether there
is change in the variance as a function of another variable (e.g., a
fan-shaped <a href="#residualPlots">Residual Plot</a>)</p>
</div>
<div id="spread-level-plot" class="section level5" number="13.1.3.1.2">
<h5><span class="header-section-number">13.1.3.1.2</span> Spread-level
plot</h5>
<p>Examining whether level (e.g., mean) depends on spread (e.g.,
variance)—plot of log of the absolute Studentized residuals against the
log of the fitted values</p>
<pre class="r fold-show"><code>spreadLevelPlot(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="breusch-pagan-test" class="section level5" number="13.1.3.1.3">
<h5><span class="header-section-number">13.1.3.1.3</span> Breusch-Pagan
test</h5>
<p><a href="http://www.inside-r.org/packages/cran/lmtest/docs/bptest"
class="uri">http://www.inside-r.org/packages/cran/lmtest/docs/bptest</a></p>
<pre class="r fold-show"><code>bptest(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="goldfeld-quandt-test" class="section level5"
number="13.1.3.1.4">
<h5><span class="header-section-number">13.1.3.1.4</span>
Goldfeld-Quandt Test</h5>
<pre class="r fold-show"><code>gqtest(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="test-of-dependence-of-spread-on-level" class="section level5"
number="13.1.3.1.5">
<h5><span class="header-section-number">13.1.3.1.5</span> Test of
dependence of spread on level</h5>
<pre class="r fold-show"><code>ncvTest(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="test-of-dependence-of-spread-on-predictors"
class="section level5" number="13.1.3.1.6">
<h5><span class="header-section-number">13.1.3.1.6</span> Test of
dependence of spread on predictors</h5>
<pre class="r fold-show"><code>ncvTest(multipleRegressionModel, ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
</div>
<div id="ways-to-handle-2" class="section level4" number="13.1.3.2">
<h4><span class="header-section-number">13.1.3.2</span> Ways to
Handle</h4>
<ul>
<li>If residual variance increases as a function of the fitted values,
consider a poisson regression model (especially for count data), for
which the variance does increase with the mean</li>
<li>If residual variance differs as a function of model predictors,
consider adding interactions/product terms (the effect of one variable
depends on the level of another variable)</li>
<li>Try transforming the outcome variable to be normally distributed
(log-transform if the errors seem consistent in percentage rather than
absolute terms)</li>
<li>If the error variance is proportional to a variable <span
class="math inline">\(z\)</span>, then fit the model using Weighted
Least Squares (WLS), with the weights given be <span
class="math inline">\(1/z\)</span></li>
<li>Weighted least squares (WLS) using the “weights” argument of the
<code>lm()</code> function; to get weights, see: <a
href="https://stats.stackexchange.com/a/100410/20338"
class="uri">https://stats.stackexchange.com/a/100410/20338</a></li>
<li>Huber-White standard errors (a.k.a. “Sandwich” estimates) from a
heteroscedasticity-corrected covariance matrix
<ul>
<li><code>coeftest()</code> function from the <code>sandwich</code>
package along with hccm sandwich estimates from the <code>car</code>
package</li>
<li><code>robcov()</code> function from the <code>rms</code>
package</li>
</ul></li>
<li>Time series data: ARCH (auto-regressive conditional
heteroscedasticity) models</li>
<li>Time series data: seasonal patterns can be addressed by applying log
transformation to outcome variable</li>
</ul>
<div id="huber-white-standard-errors" class="section level5"
number="13.1.3.2.1">
<h5><span class="header-section-number">13.1.3.2.1</span> Huber-White
standard errors</h5>
<p>Standard errors (SEs) on the diagonal increase</p>
<pre class="r fold-show"><code>vcov(multipleRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;vcov&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>hccm(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>coeftest(multipleRegressionModel, vcov = sandwich)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>coeftest(multipleRegressionModel, vcov = hccm)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>robcov(ols(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
           data = mydata,
           x = TRUE,
           y = TRUE))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>robcov(ols(t_ext ~ m_ext + age,
           data = mydata,
           x = TRUE,
           y = TRUE),
       cluster = mydata$tcid) #account for nested data within subject</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
</div>
</div>
<div id="errors-are-independent" class="section level3" number="13.1.4">
<h3><span class="header-section-number">13.1.4</span> 4. Errors are
independent</h3>
<p>Independent errors means that the errors are uncorrelated with each
other.</p>
<div id="ways-to-test-3" class="section level4" number="13.1.4.1">
<h4><span class="header-section-number">13.1.4.1</span> Ways to
Test</h4>
<ul>
<li>Plot residuals vs. predictors (<a href="#residualPlots">Residual
Plots</a>)</li>
<li>Time Series data: Residual time series plot (residuals vs. row
number)</li>
<li>Time Series data: Table or plot of residual autocorrelations</li>
<li>Time Series data: Durbin-Watson statistic for test of significant
residual autocorrelation at lag 1</li>
</ul>
</div>
<div id="ways-to-handle-3" class="section level4" number="13.1.4.2">
<h4><span class="header-section-number">13.1.4.2</span> Ways to
Handle</h4>
<ul>
<li>Generalized least squares (GLS) models are capable of handling
correlated errors: <a
href="https://stat.ethz.ch/R-manual/R-devel/library/nlme/html/gls.html"
class="uri">https://stat.ethz.ch/R-manual/R-devel/library/nlme/html/gls.html</a></li>
<li>Regression with cluster variable
<ul>
<li><code>robcov()</code> from <code>rms</code> package</li>
</ul></li>
<li><a href="hlm.html">Hierarchical linear modeling</a>
<ul>
<li><a href="hlm.html#linear">Linear mixed effects models</a></li>
<li><a href="hlm.html#generalized">Generalized linear mixed effects
models</a></li>
<li><a href="hlm.html#nonlinear">Nonlinear mixed effects models</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="no-multicollinearity" class="section level3" number="13.1.5">
<h3><span class="header-section-number">13.1.5</span> 5. No
multicollinearity</h3>
<p>Multicollinearity occurs when the predictors are correlated with each
other.</p>
<div id="ways-to-test-4" class="section level4" number="13.1.5.1">
<h4><span class="header-section-number">13.1.5.1</span> Ways to
Test</h4>
<ul>
<li>Variance Inflation Factor (VIF)</li>
<li>Generalized Variance Inflation Factor (GVIF)—when models have
related regressors (multiple polynomial terms or contrasts from same
predictor)</li>
<li>Correlation</li>
<li>Tolerance</li>
<li>Condition Index</li>
</ul>
<div id="variance-inflation-factor-vif" class="section level5"
number="13.1.5.1.1">
<h5><span class="header-section-number">13.1.5.1.1</span> Variance
Inflation Factor (VIF)</h5>
<p><span class="math display">\[
\text{VIF} = 1/\text{Tolerance}
\]</span></p>
<p>If the variance inflation factor of a predictor variable were 5.27
(<span class="math inline">\(\sqrt{5.27} = 2.3\)</span>), this means
that the standard error for the coefficient of that predictor variable
is 2.3 times as large (i.e., confidence interval is 2.3 times wider) as
it would be if that predictor variable were uncorrelated with the other
predictor variables.</p>
<p>VIF = 1: Not correlated<br />
1 &lt; VIF &lt; 5: Moderately correlated<br />
VIF &gt; 5 to 10: Highly correlated (multicollinearity present)</p>
<pre class="r fold-show"><code>vif(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="generalized-variance-inflation-factor-gvif"
class="section level5" number="13.1.5.1.2">
<h5><span class="header-section-number">13.1.5.1.2</span> Generalized
Variance Inflation Factor (GVIF)</h5>
<p>Useful when models have related regressors (multiple polynomial terms
or contrasts from same predictor)</p>
</div>
<div id="correlation" class="section level5" number="13.1.5.1.3">
<h5><span class="header-section-number">13.1.5.1.3</span>
Correlation</h5>
<p>correlation among all independent variables the correlation
coefficients should be smaller than .08</p>
<pre class="r fold-show"><code>cor(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_anxiousDepressedSum&quot;)], use = &quot;pairwise.complete.obs&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="tolerance" class="section level5" number="13.1.5.1.4">
<h5><span class="header-section-number">13.1.5.1.4</span> Tolerance</h5>
<p>The tolerance is an index of the influence of one independent
variable on all other independent variables.</p>
<p><span class="math display">\[
\text{tolerance} = 1/\text{VIF}
\]</span></p>
<p>T &lt; 0.2: there might be multicollinearity in the data<br />
T &lt; 0.01: there certainly is multicollinarity in the data</p>
</div>
<div id="condition-index" class="section level5" number="13.1.5.1.5">
<h5><span class="header-section-number">13.1.5.1.5</span> Condition
Index</h5>
<p>The condition index is calculated using a factor analysis on the
independent variables. Values of 10-30 indicate a mediocre
multicollinearity in the regression variables. Values &gt; 30 indicate
strong multicollinearity.</p>
<p>For how to interpret, see here: <a
href="https://stats.stackexchange.com/a/87610/20338"
class="uri">https://stats.stackexchange.com/a/87610/20338</a></p>
<pre class="r fold-show"><code>ols_eigen_cindex(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
</div>
<div id="ways-to-handle-4" class="section level4" number="13.1.5.2">
<h4><span class="header-section-number">13.1.5.2</span> Ways to
Handle</h4>
<ul>
<li>Remove highly correlated (i.e., redundant) predictors</li>
<li>Average the correlated predictors</li>
<li><a href="pca.html">Principal Component Analysis</a> for data
reduction</li>
<li>Standardize predictors</li>
<li>Center the data (deduct the mean)</li>
<li>Singular-value decomposition of the model matrix or the
mean-centered model matrix</li>
<li>Conduct a <a href="#factorAnalysis.html">factor analysis</a> and
rotate the factors to ensure independence of the factors</li>
</ul>
</div>
</div>
<div id="errors-are-normally-distributed" class="section level3"
number="13.1.6">
<h3><span class="header-section-number">13.1.6</span> 6. Errors are
normally distributed</h3>
<div id="ways-to-test-5" class="section level4" number="13.1.6.1">
<h4><span class="header-section-number">13.1.6.1</span> Ways to
Test</h4>
<ul>
<li>Probability Plots
<ul>
<li><a href="#qqPlot">Normal Quantile (QQ) Plots</a> (based on
non-cumulative distribution of residuals)</li>
<li><a href="#ppPlot">Normal Probability (PP) Plots</a> (based on
cumulative distribution of residuals)</li>
</ul></li>
<li><a href="#densityPlotResiduals">Density Plot of Residuals</a></li>
<li>Statistical Tests
<ul>
<li>Kolmogorov-Smirnov test</li>
<li>Shapiro-Wilk test</li>
<li>Jarque-Bera test</li>
<li>Anderson-Darling test (best test)</li>
</ul></li>
<li>Examine influence of outliers</li>
</ul>
</div>
<div id="ways-to-handle-5" class="section level4" number="13.1.6.2">
<h4><span class="header-section-number">13.1.6.2</span> Ways to
Handle</h4>
<ul>
<li>Apply a transformation to the predictor or outcome variable</li>
<li>Exclude outliers</li>
<li>Robust regression
<ul>
<li>Best when no outliers: MM-type regression estimator
<ul>
<li><code>lmrob()</code>/<code>glmrob()</code> function of
<code>robustbase</code> package</li>
<li>Iteratively reweighted least squares (IRLS):
<code>rlm(, method = "MM")</code> function of <code>MASS</code> package:
<a href="http://www.ats.ucla.edu/stat/r/dae/rreg.htm"
class="uri">http://www.ats.ucla.edu/stat/r/dae/rreg.htm</a></li>
</ul></li>
<li>Most resistant to outliers: Least trimmed squares (LTS)—but not good
as a standalone estimator, better for identifying outliers
<ul>
<li><code>ltsReg()</code> function of <code>robustbase</code> package
(best)</li>
</ul></li>
<li>Best when single predictor: Theil-Sen estimator
<ul>
<li><code>mblm(, repeated = FALSE)</code> function of <code>mblm</code>
package</li>
</ul></li>
<li>Robust correlation
<ul>
<li>Spearman’s rho: <code>cor(, method = "spearman")</code></li>
<li>Percentage bend correlation</li>
<li>Minimum vollume ellipsoid</li>
<li>Minimum covariance determinant:</li>
<li>Winsorized correlation</li>
<li>Biweight midcorrelation</li>
</ul></li>
<li>Not great options:
<ul>
<li>Quantile (L1) regression: <code>rq()</code> function of
<code>quantreg</code> package</li>
</ul></li>
</ul></li>
</ul>
<div id="transformations-of-outcome-variable" class="section level5"
number="13.1.6.2.1">
<h5><span class="header-section-number">13.1.6.2.1</span>
Transformations of Outcome Variable</h5>
<div id="box-cox-transformation" class="section level6"
number="13.1.6.2.1.1">
<h6><span class="header-section-number">13.1.6.2.1.1</span> Box-Cox
Transformation</h6>
<p>Useful if the outcome is strictly positive (or add a constant to
outcome to make it strictly positive)</p>
<p>lambda = -1: inverse transformation<br />
lambda = -0.5: 1/sqrt(Y)<br />
lambda = 0: log transformation<br />
lambda = 0.5: square root<br />
lambda = 0.333: cube root<br />
lambda = 1: no transformation<br />
lambda = 2: squared<br />
</p>
<div id="raw-distribution" class="section level7"
number="13.1.6.2.1.1.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.1</span> Raw distribution</p>
<pre class="r fold-show"><code>plot(density(na.omit(mydata$bpi_antisocialT2Sum)))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;mydata&#39; not found</code></pre>
</div>
<div id="add-constant-to-outcome-to-make-it-strictly-positive"
class="section level7" number="13.1.6.2.1.1.2">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.2</span> Add constant to
outcome to make it strictly positive</p>
<pre class="r fold-show"><code>strictlyPositiveDV &lt;- lm(bpi_antisocialT2Sum + 1 ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                         data = mydata,
                         na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="identify-best-power-transformation-lambda"
class="section level7" number="13.1.6.2.1.1.3">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.3</span> Identify best power
transformation (lambda)</p>
<p>Consider rounding the power to a common value (square root = .5; cube
root = .333; squared = 2)</p>
<pre class="r fold-show"><code>boxCox(strictlyPositiveDV)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;strictlyPositiveDV&#39; not found</code></pre>
<pre class="r fold-show"><code>powerTransform(strictlyPositiveDV) </code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;strictlyPositiveDV&#39; not found</code></pre>
<pre class="r fold-show"><code>transformedDV &lt;- powerTransform(strictlyPositiveDV)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;strictlyPositiveDV&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(transformedDV)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;transformedDV&#39; not found</code></pre>
</div>
<div id="transform-the-dv" class="section level7"
number="13.1.6.2.1.1.4">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.4</span> Transform the DV</p>
<pre class="r fold-show"><code>mydata$bpi_antisocialT2SumTransformed &lt;- bcPower(mydata$bpi_antisocialT2Sum + 1, coef(transformedDV))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(density(na.omit(mydata$bpi_antisocialT2SumTransformed)))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;mydata&#39; not found</code></pre>
</div>
<div id="compare-residuals-from-model-with-and-without-transformation"
class="section level7" number="13.1.6.2.1.1.5">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.5</span> Compare residuals
from model with and without transformation</p>
<div id="model-without-transformation" class="section level8"
number="13.1.6.2.1.1.5.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.5.1</span> Model without
transformation</p>
<pre class="r fold-show"><code>summary(modelWithoutTransformation &lt;- lm(bpi_antisocialT2Sum + 1 ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                         data = mydata,
                         na.action = na.exclude))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(density(na.omit(studres(modelWithoutTransformation))))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;modelWithoutTransformation&#39; not found</code></pre>
</div>
<div id="model-with-transformation" class="section level8"
number="13.1.6.2.1.1.5.2">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.5.2</span> Model with
transformation</p>
<pre class="r fold-show"><code>summary(modelWithTransformation &lt;- lm(bpi_antisocialT2SumTransformed ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                      data = mydata,
                                      na.action = na.exclude))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(density(na.omit(studres(modelWithTransformation))))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;modelWithTransformation&#39; not found</code></pre>
</div>
</div>
<div id="constructed-variable-test-plot" class="section level7"
number="13.1.6.2.1.1.6">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.6</span> Constructed Variable
Test &amp; Plot</p>
<p>A significant <em>p</em>-value indicates a strong need to transform
variable:</p>
<pre class="r fold-show"><code>multipleRegressionModel_constructedVariable &lt;- update(multipleRegressionModel, . ~ . + boxCoxVariable(bpi_antisocialT1Sum + 1))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;update&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel_constructedVariable)$coef[&quot;boxCoxVariable(bpi_antisocialT1Sum + 1)&quot;, , drop = FALSE]</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel_constructedVariable&#39; not found</code></pre>
<p>Plot allows us to see whether the need for transformation is spread
through data or whether it is just dependent on a small fraction of
observations:</p>
<pre class="r fold-show"><code>avPlots(multipleRegressionModel_constructedVariable, &quot;boxCoxVariable(bpi_antisocialT1Sum + 1)&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_constructedVariable&#39; not found</code></pre>
</div>
<div id="inverse-response-plot" class="section level7"
number="13.1.6.2.1.1.7">
<p class="heading"><span
class="header-section-number">13.1.6.2.1.1.7</span> Inverse Response
Plot</p>
<p>The black line is the best-fitting power transformation:</p>
<pre class="r fold-show"><code>inverseResponsePlot(strictlyPositiveDV, lambda = c(-1,-0.5,0,1/3,.5,1,2))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;strictlyPositiveDV&#39; not found</code></pre>
</div>
</div>
<div id="yeo-johnson-transformations" class="section level6"
number="13.1.6.2.1.2">
<h6><span class="header-section-number">13.1.6.2.1.2</span> Yeo-Johnson
Transformations</h6>
<p>Useful if the outcome is not strictly positive.</p>
<pre class="r fold-show"><code>yjPower(DV, lambda)</code></pre>
</div>
</div>
<div id="transformations-of-predictor-variable" class="section level5"
number="13.1.6.2.2">
<h5><span class="header-section-number">13.1.6.2.2</span>
Transformations of Predictor Variable</h5>
<div id="component-plus-residual-plots-partial-residual-plots"
class="section level6" number="13.1.6.2.2.1">
<h6><span class="header-section-number">13.1.6.2.2.1</span>
Component-Plus-Residual Plots (Partial Residual Plots)</h6>
<p>Linear model:</p>
<pre class="r fold-show"><code>crPlots(multipleRegressionModelNoMissing, order = 1)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelNoMissing&#39; not found</code></pre>
<p>Quadratic model:</p>
<pre class="r fold-show"><code>crPlots(multipleRegressionModelNoMissing, order = 2)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelNoMissing&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_quadratic &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + I(bpi_antisocialT1Sum^2) + bpi_anxiousDepressedSum,
                                        data = mydata,
                                        na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel_quadratic)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel_quadratic&#39; not found</code></pre>
<pre class="r fold-show"><code>anova(multipleRegressionModel_quadratic, multipleRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;anova&#39;: object &#39;multipleRegressionModel_quadratic&#39; not found</code></pre>
<pre class="r fold-show"><code>crPlots(multipleRegressionModel_quadratic, order = 1)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_quadratic&#39; not found</code></pre>
</div>
<div id="ceres-plot-combining-conditional-expectations-and-residuals"
class="section level6" number="13.1.6.2.2.2">
<h6><span class="header-section-number">13.1.6.2.2.2</span> CERES Plot
(Combining conditional Expectations and RESiduals)</h6>
<p>Useful when nonlinear associations among the predictors are very
strong (component-plus-residual plots may appear nonlinear even though
the true partial regression is linear, a phenonomen called leakage)</p>
<pre class="r fold-show"><code>ceresPlots(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>ceresPlots(multipleRegressionModel_quadratic)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_quadratic&#39; not found</code></pre>
</div>
<div id="box-tidwell-method-for-choosing-predictor-transformations"
class="section level6" number="13.1.6.2.2.3">
<h6><span class="header-section-number">13.1.6.2.2.3</span> Box-Tidwell
Method for Choosing Predictor Transformations</h6>
<p>predictors must be strictly positive (or add a constant to make it
strictly positive)</p>
<pre class="r fold-show"><code>boxTidwell(bpi_antisocialT2Sum ~ I(bpi_antisocialT1Sum + 1) + I(bpi_anxiousDepressedSum + 1),
           other.x = NULL, #list variables not to be transformed in other.x
           data = mydata,
           na.action = na.exclude)</code></pre>
<pre><code>Error in eval(m$data, sys.frame(sys.parent())): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="constructed-variables-plot" class="section level6"
number="13.1.6.2.2.4">
<h6><span class="header-section-number">13.1.6.2.2.4</span>
Constructed-Variables Plot</h6>
<pre class="r fold-show"><code>multipleRegressionModel_cv &lt;- lm(bpi_antisocialT2Sum ~ I(bpi_antisocialT1Sum + 1) + I(bpi_anxiousDepressedSum + 1) + I(bpi_antisocialT1Sum * log(bpi_antisocialT1Sum)) + I(bpi_anxiousDepressedSum * log(bpi_anxiousDepressedSum)),
                              data = mydata,
                              na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel_cv)$coef[&quot;I(bpi_antisocialT1Sum * log(bpi_antisocialT1Sum))&quot;, , drop = FALSE]</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel_cv&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(multipleRegressionModel_cv)$coef[&quot;I(bpi_anxiousDepressedSum * log(bpi_anxiousDepressedSum))&quot;, , drop = FALSE]</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;multipleRegressionModel_cv&#39; not found</code></pre>
<pre class="r fold-show"><code>avPlots(multipleRegressionModel_cv, &quot;I(bpi_antisocialT1Sum * log(bpi_antisocialT1Sum))&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_cv&#39; not found</code></pre>
<pre class="r fold-show"><code>avPlots(multipleRegressionModel_cv, &quot;I(bpi_anxiousDepressedSum * log(bpi_anxiousDepressedSum))&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_cv&#39; not found</code></pre>
</div>
</div>
<div id="robust-models" class="section level5" number="13.1.6.2.3">
<h5><span class="header-section-number">13.1.6.2.3</span> Robust
models</h5>
<p>Resources</p>
<ul>
<li>For comparison of methods, see Book: “Modern Methods for Robust
Regression”</li>
<li><a href="http://www.ats.ucla.edu/stat/r/dae/rreg.htm"
class="uri">http://www.ats.ucla.edu/stat/r/dae/rreg.htm</a></li>
<li><a href="http://stats.stackexchange.com/a/46234/20338"
class="uri">http://stats.stackexchange.com/a/46234/20338</a></li>
<li><a href="http://cran.r-project.org/web/views/Robust.html"
class="uri">http://cran.r-project.org/web/views/Robust.html</a></li>
</ul>
<div id="robust-correlation" class="section level6"
number="13.1.6.2.3.1">
<h6><span class="header-section-number">13.1.6.2.3.1</span> Robust
correlation</h6>
<div id="spearmans-rho" class="section level7" number="13.1.6.2.3.1.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.1</span> Spearman’s rho</p>
<p>Spearman’s rho is a non-parametric correlation.</p>
<pre class="r fold-show"><code>cor.test(mydata$bpi_antisocialT1Sum, mydata$bpi_antisocialT2Sum) #Pearson r, correlation that is sensitive to outliers</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>cor.test(mydata$bpi_antisocialT1Sum, mydata$bpi_antisocialT2Sum, method = &quot;spearman&quot;) #Spearman&#39;s rho, a rank correlation that is less sensitive to outliers</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="minimum-vollume-ellipsoid" class="section level7"
number="13.1.6.2.3.1.2">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.2</span> Minimum vollume
ellipsoid</p>
<pre class="r fold-show"><code>cov.mve(na.omit(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)]), cor = TRUE)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="minimum-covariance-determinant" class="section level7"
number="13.1.6.2.3.1.3">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.3</span> Minimum covariance
determinant</p>
<pre class="r fold-show"><code>cov.mcd(na.omit(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)]), cor = TRUE)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="winsorized-correlation" class="section level7"
number="13.1.6.2.3.1.4">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.4</span> Winsorized
correlation</p>
<pre class="r fold-show"><code>correlation(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)], winsorize = 0.2, p_adjust = &quot;none&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="percentage-bend-correlation" class="section level7"
number="13.1.6.2.3.1.5">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.5</span> Percentage bend
correlation</p>
<pre class="r fold-show"><code>correlation(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)], method = &quot;percentage&quot;, p_adjust = &quot;none&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="biweight-midcorrelation" class="section level7"
number="13.1.6.2.3.1.6">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.1.6</span> Biweight
midcorrelation</p>
<pre class="r fold-show"><code>correlation(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)], method = &quot;biweight&quot;, p_adjust = &quot;none&quot;)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
</div>
</div>
<div id="robust-regression-with-a-single-predictor"
class="section level6" number="13.1.6.2.3.2">
<h6><span class="header-section-number">13.1.6.2.3.2</span> Robust
regression with a single predictor</h6>
<div id="theil-sen-estimator" class="section level7"
number="13.1.6.2.3.2.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.2.1</span> Theil-Sen
estimator</p>
<p>The Theil-Sen single median estimator is robust to outliers; have to
remove missing values first</p>
<pre class="r fold-show"><code>mydata_subset &lt;- na.omit(mydata[,c(&quot;bpi_antisocialT1Sum&quot;,&quot;bpi_antisocialT2Sum&quot;)])[1:400,]</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>mblm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum, dataframe = mydata_subset, repeated = FALSE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata_subset&#39; not found</code></pre>
</div>
</div>
<div id="robust-multiple-regression" class="section level6"
number="13.1.6.2.3.3">
<h6><span class="header-section-number">13.1.6.2.3.3</span> Robust
multiple regression</h6>
<p>Best when no outliers: MM-type regression estimator</p>
<div id="robust-linear-regression" class="section level7"
number="13.1.6.2.3.3.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.3.1</span> Robust linear
regression</p>
<p>MM-type regression estimator (best):</p>
<pre class="r fold-show"><code>lmrob(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
   data = mydata,
   na.action = na.exclude)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<p>Iteratively reweighted least squares (IRLS): <a
href="http://www.ats.ucla.edu/stat/r/dae/rreg.htm"
class="uri">http://www.ats.ucla.edu/stat/r/dae/rreg.htm</a></p>
<pre class="r fold-show"><code>rlm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
    data = mydata,
    na.action = na.exclude)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
</div>
<div id="robust-generalized-regression-1" class="section level7"
number="13.1.6.2.3.3.2">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.3.2</span> Robust generalized
regression</p>
<pre class="r fold-show"><code>glmrob(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
    data = mydata,
    family = &quot;poisson&quot;,
    na.action = &quot;na.exclude&quot;)</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<p>Most resistant to outliers: Least trimmed squares (LTS)—but not good
as a standalone estimator, better for identifying outliers</p>
<pre class="r fold-show"><code>ltsReg(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
       data = mydata,
       na.action = na.exclude)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
<div id="not-great-options" class="section level8"
number="13.1.6.2.3.3.2.1">
<p class="heading"><span
class="header-section-number">13.1.6.2.3.3.2.1</span> Not great
options:</p>
<p>Quantile (L1) regression: <code>rq()</code> function of quantreg
package</p>
<p><a
href="https://data.library.virginia.edu/getting-started-with-quantile-regression/"
class="uri">https://data.library.virginia.edu/getting-started-with-quantile-regression/</a></p>
<pre class="r fold-show"><code>quantiles &lt;- 1:9/10

quantileRegressionModel &lt;- rq(
  bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
  data = mydata,
  tau = quantiles,
  na.action = na.exclude)</code></pre>
<pre><code>Error in eval(expr, p): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>quantileRegressionModel</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;quantileRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>summary(quantileRegressionModel)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;quantileRegressionModel&#39; not found</code></pre>
<p>Plot to examine the association between the predictor and the outcome
at different levels (i.e., quantiles) of the predictor:</p>
<pre class="r fold-show"><code>ggplot(
  mydata,
  aes(bpi_antisocialT1Sum, bpi_antisocialT2Sum)) + 
  geom_point() + 
  geom_quantile(
    quantiles = quantiles,
    aes(color = factor(after_stat(quantile))))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;mydata&#39; not found</code></pre>
<p>Below is a plot that examines the difference in quantile coefficients
(and associated confidence intervals) at different levels (i.e.,
quantiles) of the predictor. The x-axis is the quantile of the
predictor. The y-axis is the slope coefficient. Each black dot is the
slope coefficient for the given quantile of the predictor. The red lines
are the least squares estimate of the slope coefficient and its
confidence interval.</p>
<pre class="r fold-show"><code>plot(summary(quantileRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;quantileRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(
  summary(quantileRegressionModel),
  parm = &quot;bpi_antisocialT1Sum&quot;)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;summary&#39;: object &#39;quantileRegressionModel&#39; not found</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="examining-model-assumptions" class="section level2"
number="13.2">
<h2><span class="header-section-number">13.2</span> Examining Model
Assumptions</h2>
<div id="distribution-of-residuals" class="section level3"
number="13.2.1">
<h3><span class="header-section-number">13.2.1</span> Distribution of
Residuals</h3>
<div id="qqPlot" class="section level4" number="13.2.1.1">
<h4><span class="header-section-number">13.2.1.1</span> QQ plots</h4>
<p><a
href="http://www.ucd.ie/ecomodel/Resources/QQplots_WebVersion.html"
class="uri">http://www.ucd.ie/ecomodel/Resources/QQplots_WebVersion.html</a></p>
<pre class="r fold-show"><code>qqPlot(multipleRegressionModel, main = &quot;QQ Plot&quot;, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(multipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(rmsMultipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;rmsMultipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(robustLinearRegression))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;robustLinearRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(ltsRegression))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;ltsRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(generalizedRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;generalizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(rmsGeneralizedRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;rmsGeneralizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(robustGeneralizedRegression))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;robustGeneralizedRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>qqnorm(resid(multilevelRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;resid&#39;: object &#39;multilevelRegressionModel&#39; not found</code></pre>
</div>
<div id="ppPlot" class="section level4" number="13.2.1.2">
<h4><span class="header-section-number">13.2.1.2</span> PP plots</h4>
<pre class="r fold-show"><code>ppPlot(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(rmsMultipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsMultipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(robustLinearRegression)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;robustLinearRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(ltsRegression)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;ltsRegression&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(generalizedRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;generalizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(rmsGeneralizedRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;rmsGeneralizedRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>ppPlot(robustGeneralizedRegression)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;robustGeneralizedRegression&#39; not found</code></pre>
</div>
<div id="densityPlotResiduals" class="section level4" number="13.2.1.3">
<h4><span class="header-section-number">13.2.1.3</span> Density Plot of
Residuals</h4>
<pre class="r fold-show"><code>studentizedResiduals &lt;- na.omit(rstudent(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(density(studentizedResiduals), col=&quot;red&quot;)</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;studentizedResiduals&#39; not found</code></pre>
<pre class="r fold-show"><code>xfit &lt;- seq(min(studentizedResiduals, na.rm=TRUE), max(studentizedResiduals, na.rm=TRUE), length=40)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;studentizedResiduals&#39; not found</code></pre>
<pre class="r fold-show"><code>lines(xfit, dnorm(xfit), col=&quot;gray&quot;) #compare to normal distribution</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;xfit&#39; not found</code></pre>
</div>
</div>
<div id="residualPlots" class="section level3" number="13.2.2">
<h3><span class="header-section-number">13.2.2</span> Residual
Plots</h3>
<p>Residual plots are plots of the residuals versus observed/fitted
values.</p>
<p>Includes plots of a) model residuals versus observed values on
predictors and b) model residuals versus model fitted values.</p>
<p>Note: have to remove <code>na.action = na.exclude</code></p>
<p>Tests include:</p>
<ul>
<li>lack-of-fit test for every numeric predictor, t-test for the
regressor, added to the model, indicating no lack-of-fit for this
type</li>
<li>Tukey’s test for nonadditivity: adding the squares of the fitted
values to the model and refitting (evaluates adequacy of model fit)</li>
</ul>
<pre class="r fold-show"><code>residualPlots(multipleRegressionModelNoMissing, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModelNoMissing&#39; not found</code></pre>
</div>
<div id="marginalModelPlots" class="section level3" number="13.2.3">
<h3><span class="header-section-number">13.2.3</span> Marginal Model
Plots</h3>
<p>Marginal model plots are plots of the outcome versus
predictors/fitted values.</p>
<p>Includes plots of a) observed outcome values versus values on
predictors (ignoring the other predictors) and b) observed outcome
values versus model fitted values.</p>
<pre class="r fold-show"><code>marginalModelPlots(multipleRegressionModel, sd = TRUE, id = TRUE)</code></pre>
<pre><code>Warning in update(model, terms$vars, method = &quot;model.frame&quot;, data =
model.frame(model)): restarting interrupted promise evaluation

Warning in update(model, terms$vars, method = &quot;model.frame&quot;, data =
model.frame(model)): restarting interrupted promise evaluation

Warning in update(model, terms$vars, method = &quot;model.frame&quot;, data =
model.frame(model)): restarting interrupted promise evaluation</code></pre>
<pre><code>Error in termsToMf(model, terms): argument &#39;terms&#39; not interpretable.</code></pre>
</div>
<div id="addedVariablePlots" class="section level3" number="13.2.4">
<h3><span class="header-section-number">13.2.4</span> Added-Variable
Plots</h3>
<p>Added-variable plots are plots of the partial association between the
outcome and each predictor, controlling for all other predictors.</p>
<p>Useful for identifying jointly influential observations and studying
the impact of observations on the regression coefficients.</p>
<p>y-axis: residuals from model with all predictors excluding the
predictor of interest</p>
<p>x-axis: residuals from model regressing predictor of interest on all
other predictors</p>
<pre class="r fold-show"><code>avPlots(multipleRegressionModel, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<div id="refit-model-removing-jointly-influential-observations"
class="section level4" number="13.2.4.1">
<h4><span class="header-section-number">13.2.4.1</span> Refit model
removing jointly influential observations</h4>
<pre class="r fold-show"><code>multipleRegressionModel_removeJointlyInfluentialObs &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                                          data = mydata,
                                                          na.action = na.exclude,
                                                          subset = -c(6318,6023,4022,4040))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>avPlots(multipleRegressionModel_removeJointlyInfluentialObs, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel_removeJointlyInfluentialObs&#39; not found</code></pre>
<pre class="r fold-show"><code>compareCoefs(multipleRegressionModel, multipleRegressionModel_removeJointlyInfluentialObs)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
</div>
<div id="outlier-test" class="section level3" number="13.2.5">
<h3><span class="header-section-number">13.2.5</span> Outlier test</h3>
<p>Locates the largest Studentized residuals in absolute value and
computes the Bonferroni-corrected p-values based on a t-test for linear
models.</p>
<p>Test of outlyingness, i.e., how likely one would have a residual of a
given magnitude in a normal distribution with the same sample size</p>
<p>Note: it does not test how extreme an observation is relative to its
distribution (i.e., leverage)</p>
<pre class="r fold-show"><code>outlierTest(multipleRegressionModel)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="observations-with-high-leverage" class="section level3"
number="13.2.6">
<h3><span class="header-section-number">13.2.6</span> Observations with
high leverage</h3>
<p>Identifies observations with high leverage (i.e., high hat
values)</p>
<p>hat values are an index of leverage (observations that are far from
the center of the regressor space and have greater influence on OLS
regression coefficients)</p>
<pre class="r fold-show"><code>hist(hatvalues(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(hatvalues(multipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>influenceIndexPlot(multipleRegressionModel, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>influencePlot(multipleRegressionModel, id = TRUE) # circle size is proportional to Cook&#39;s Distance</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>leveragePlots(multipleRegressionModel, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div
id="observations-with-high-influence-on-ols-regression-coefficients"
class="section level3" number="13.2.7">
<h3><span class="header-section-number">13.2.7</span> Observations with
high influence (on OLS regression coefficients)</h3>
<p><a
href="https://cran.r-project.org/web/packages/olsrr/vignettes/influence_measures.html"
class="uri">https://cran.r-project.org/web/packages/olsrr/vignettes/influence_measures.html</a></p>
<pre class="r fold-show"><code>head(influence.measures(multipleRegressionModel)$infmat)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="dfbeta" class="section level3" number="13.2.8">
<h3><span class="header-section-number">13.2.8</span> DFBETA</h3>
<pre class="r fold-show"><code>head(dfbeta(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>hist(dfbeta(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>dfbetasPlots(multipleRegressionModel, id = TRUE)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="dffits" class="section level3" number="13.2.9">
<h3><span class="header-section-number">13.2.9</span> DFFITS</h3>
<pre class="r fold-show"><code>head(dffits(multipleRegressionModel)[order(dffits(multipleRegressionModel), decreasing = TRUE)])</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>hist(dffits(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(dffits(multipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(dffits(multipleRegressionModel)[order(dffits(multipleRegressionModel), decreasing = TRUE)])</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
<div id="cooksDistance" class="section level3" number="13.2.10">
<h3><span class="header-section-number">13.2.10</span> Cook’s
Distance</h3>
<p>Observations that are both outlying (have a high residual from the
regression line) and have high leverage (are far from the center of the
regressor space) have high influence on the OLS regression coefficients.
An observation will have less influence if it lies on the regression
line (not an outlier, i.e., has a low residual) or if it has low
leverage (i.e., has a value near the center of a predictor’s
distribution).</p>
<pre class="r fold-show"><code>head(cooks.distance(multipleRegressionModel)[order(cooks.distance(multipleRegressionModel), decreasing = TRUE)])</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>hist(cooks.distance(multipleRegressionModel))</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(cooks.distance(multipleRegressionModel))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<pre class="r fold-show"><code>plot(cooks.distance(multipleRegressionModel)[order(cooks.distance(multipleRegressionModel), decreasing = TRUE)])</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;plot&#39;: object &#39;multipleRegressionModel&#39; not found</code></pre>
<div id="refit-model-removing-values-with-high-cooks-distance"
class="section level4" number="13.2.10.1">
<h4><span class="header-section-number">13.2.10.1</span> Refit model
removing values with high cook’s distance</h4>
<pre class="r fold-show"><code>multipleRegressionModel_2 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_3 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371,2767))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_4 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371,2767,8472))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_5 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371,2767,8472,6170))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_6 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371,2767,8472,6170,6023))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>multipleRegressionModel_7 &lt;- lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
                                data = mydata,
                                na.action = na.exclude,
                                subset = -c(2765,1371,2767,8472,6170,6023,2766))</code></pre>
<pre><code>Error in eval(mf, parent.frame()): object &#39;mydata&#39; not found</code></pre>
<div
id="examine-how-much-regression-coefficients-change-when-excluding-influential-observations"
class="section level5" number="13.2.10.1.1">
<h5><span class="header-section-number">13.2.10.1.1</span> Examine how
much regression coefficients change when excluding influential
observations</h5>
<pre class="r fold-show"><code>compareCoefs(multipleRegressionModel, multipleRegressionModel_2, multipleRegressionModel_3, multipleRegressionModel_4, multipleRegressionModel_5, multipleRegressionModel_6, multipleRegressionModel_7)</code></pre>
<pre><code>Error in eval(expr, envir, enclos): object &#39;multipleRegressionModel&#39; not found</code></pre>
</div>
</div>
<div
id="examine-how-much-regression-coefficients-change-when-using-least-trimmed-squares-lts-that-is-resistant-to-outliers"
class="section level4" number="13.2.10.2">
<h4><span class="header-section-number">13.2.10.2</span> Examine how
much regression coefficients change when using least trimmed squares
(LTS) that is resistant to outliers</h4>
<pre class="r fold-show"><code>coef(lm(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
        data = mydata,
        na.action=&quot;na.exclude&quot;))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;coef&#39;: object &#39;mydata&#39; not found</code></pre>
<pre class="r fold-show"><code>coef(ltsReg(bpi_antisocialT2Sum ~ bpi_antisocialT1Sum + bpi_anxiousDepressedSum,
            data = mydata,
            na.action = &quot;na.exclude&quot;))</code></pre>
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument &#39;object&#39; in selecting a method for function &#39;coef&#39;: object &#39;mydata&#39; not found</code></pre>
</div>
</div>
<div id="resources" class="section level3" number="13.2.11">
<h3><span class="header-section-number">13.2.11</span> Resources</h3>
<p>Book: An R Companion to Applied Regression</p>
<p><a href="http://people.duke.edu/~rnau/testing.htm"
class="uri">http://people.duke.edu/~rnau/testing.htm</a></p>
<p><a href="http://www.statmethods.net/stats/rdiagnostics.html"
class="uri">http://www.statmethods.net/stats/rdiagnostics.html</a></p>
<p><a
href="http://socserv.socsci.mcmaster.ca/jfox/Courses/Brazil-2009/index.html"
class="uri">http://socserv.socsci.mcmaster.ca/jfox/Courses/Brazil-2009/index.html</a></p>
<p><a
href="https://en.wikipedia.org/wiki/Ordinary_least_squares#Assumptions"
class="uri">https://en.wikipedia.org/wiki/Ordinary_least_squares#Assumptions</a></p>
</div>
</div>
</div>
<div id="session-info" class="section level1" number="14">
<h1><span class="header-section-number">14</span> Session Info</h1>
<pre class="r fold-hide"><code>sessionInfo()</code></pre>
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 20.04.6 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0

locale:
 [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
 [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
 [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   

time zone: UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] mice_3.16.0            regtools_1.7.0         gtools_3.9.4          
 [4] FNN_1.1.3.2            lavaan_0.6-16          interactions_1.1.5    
 [7] correlation_0.8.4      effects_4.2-2          mblm_0.12.1           
[10] quantreg_5.96          SparseM_1.81           olsrr_0.5.3           
[13] foreign_0.8-84         AER_1.2-10             survival_3.5-5        
[16] sandwich_3.0-2         lmtest_0.9-40          zoo_1.8-12            
[19] mgcv_1.8-42            nlme_3.1-162           car_3.1-2             
[22] carData_3.0-5          cvTools_0.3.2          lattice_0.21-8        
[25] brms_2.19.0            Rcpp_1.0.11            robustbase_0.99-0     
[28] rms_6.7-0              Hmisc_5.1-0            psych_2.3.6           
[31] lubridate_1.9.2        forcats_1.0.0          stringr_1.5.0         
[34] dplyr_1.1.2            purrr_1.0.1            readr_2.1.4           
[37] tidyr_1.3.0            tibble_3.2.1           ggplot2_3.4.2         
[40] tidyverse_2.0.0        MASS_7.3-60            petersenlab_0.1.2-9018

loaded via a namespace (and not attached):
  [1] shinythemes_1.2.0    splines_4.3.1        later_1.3.1         
  [4] polspline_1.1.23     datawizard_0.8.0     xts_0.13.1          
  [7] rpart_4.1.19         lifecycle_1.0.3      StanHeaders_2.26.27 
 [10] processx_3.8.2       insight_0.19.3       crosstalk_1.2.0     
 [13] backports_1.4.1      survey_4.2-1         magrittr_2.0.3      
 [16] sass_0.4.7           rmarkdown_2.23       jquerylib_0.1.4     
 [19] yaml_2.3.7           httpuv_1.6.11        text2vec_0.6.3      
 [22] pkgbuild_1.4.2       DBI_1.1.3            minqa_1.2.5         
 [25] RColorBrewer_1.1-3   multcomp_1.4-25      abind_1.4-5         
 [28] quadprog_1.5-8       nnet_7.3-19          TH.data_1.1-2       
 [31] tensorA_0.36.2       float_0.3-1          jtools_2.2.2        
 [34] inline_0.3.19        nortest_1.0-4        MatrixModels_0.5-2  
 [37] goftest_1.2-3        bridgesampling_1.1-2 codetools_0.2-19    
 [40] DT_0.28              shape_1.4.6          tidyselect_1.2.0    
 [43] bayesplot_1.10.0     farver_2.1.1         lme4_1.1-34         
 [46] matrixStats_1.0.0    stats4_4.3.1         base64enc_0.1-3     
 [49] jsonlite_1.8.7       rsparse_0.5.1        mitml_0.4-5         
 [52] ellipsis_0.3.2       Formula_1.2-5        iterators_1.0.14    
 [55] foreach_1.5.2        tools_4.3.1          glue_1.6.2          
 [58] pan_1.8              mnormt_2.1.1         gridExtra_2.3       
 [61] xfun_0.39            distributional_0.3.2 rje_1.12.1          
 [64] loo_2.6.0            withr_2.5.0          fastmap_1.1.1       
 [67] mitools_2.4          boot_1.3-28.1        fansi_1.0.4         
 [70] shinyjs_2.1.0        callr_3.7.3          digest_0.6.33       
 [73] timechange_0.2.0     R6_2.5.1             mime_0.12           
 [76] colorspace_2.1-0     mix_1.0-11           markdown_1.7        
 [79] threejs_0.3.3        RhpcBLASctl_0.23-42  utf8_1.2.3          
 [82] generics_0.1.3       data.table_1.14.8    prettyunits_1.1.1   
 [85] htmlwidgets_1.6.2    pkgconfig_2.0.3      dygraphs_1.1.1.6    
 [88] gtable_0.3.3         htmltools_0.5.5      scales_1.2.1        
 [91] posterior_1.4.1      lgr_0.4.4            knitr_1.43          
 [94] rstudioapi_0.15.0    tzdb_0.4.0           reshape2_1.4.4      
 [97] coda_0.19-4          checkmate_2.2.0      curl_5.0.1          
[100] nloptr_2.0.3         cachem_1.0.8         parallel_4.3.1      
[103] miniUI_0.1.1.1       mlapi_0.1.1          pillar_1.9.0        
[106] grid_4.3.1           vctrs_0.6.3          shinystan_2.6.0     
[109] promises_1.2.0.1     jomo_2.7-6           xtable_1.8-4        
[112] cluster_2.1.4        htmlTable_2.4.1      evaluate_0.21       
[115] pbivnorm_0.6.0       mvtnorm_1.2-2        cli_3.6.1           
[118] compiler_4.3.1       rlang_1.1.1          crayon_1.5.2        
[121] rstantools_2.3.1.1   labeling_0.4.2       ps_1.7.5            
[124] plyr_1.8.8           pander_0.6.5         stringi_1.7.12      
[127] rstan_2.26.22        viridisLite_0.4.2    munsell_0.5.0       
[130] colourpicker_1.2.0   glmnet_4.1-7         bayestestR_0.13.1   
[133] Brobdingnag_1.2-9    V8_4.3.0             Matrix_1.6-0        
[136] hms_1.1.3            shiny_1.7.4.1        highr_0.10          
[139] broom_1.0.5          igraph_1.5.0.1       RcppParallel_5.1.7  
[142] bslib_0.5.0          DEoptimR_1.1-0      </code></pre>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiUmVncmVzc2lvbiIKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZSA9IEZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoCiAgZWNobyA9IFRSVUUsCiAgZXJyb3IgPSBUUlVFLAogIGNvbW1lbnQgPSAiIiwKICBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IikKYGBgCgojIFByZWFtYmxlCgojIyBJbnN0YWxsIExpYnJhcmllcwoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICJmb2xkLWhpZGUifQojaW5zdGFsbC5wYWNrYWdlcygicmVtb3RlcyIpCiNyZW1vdGVzOjppbnN0YWxsX2dpdGh1YigiRGV2UHN5TGFiL3BldGVyc2VubGFiIikKYGBgCgojIyBMb2FkIExpYnJhcmllcwoKYGBge3IsIG1lc3NhZ2UgPSBGQUxTRSwgd2FybmluZyA9IEZBTFNFLCBjbGFzcy5zb3VyY2UgPSAiZm9sZC1oaWRlIn0KbGlicmFyeSgicGV0ZXJzZW5sYWIiKQpsaWJyYXJ5KCJNQVNTIikKbGlicmFyeSgidGlkeXZlcnNlIikKbGlicmFyeSgicHN5Y2giKQpsaWJyYXJ5KCJybXMiKQpsaWJyYXJ5KCJyb2J1c3RiYXNlIikKbGlicmFyeSgiYnJtcyIpCmxpYnJhcnkoImN2VG9vbHMiKQpsaWJyYXJ5KCJjYXIiKQpsaWJyYXJ5KCJtZ2N2IikKbGlicmFyeSgiQUVSIikKbGlicmFyeSgiZm9yZWlnbiIpCmxpYnJhcnkoIm9sc3JyIikKbGlicmFyeSgicXVhbnRyZWciKQpsaWJyYXJ5KCJtYmxtIikKbGlicmFyeSgiZWZmZWN0cyIpCmxpYnJhcnkoImNvcnJlbGF0aW9uIikKbGlicmFyeSgiaW50ZXJhY3Rpb25zIikKbGlicmFyeSgibGF2YWFuIikKbGlicmFyeSgicmVndG9vbHMiKQpsaWJyYXJ5KCJtaWNlIikKYGBgCgojIEltcG9ydCBEYXRhCgpgYGB7ciwgY2xhc3Muc291cmNlID0gImZvbGQtaGlkZSJ9Cm15ZGF0YSA8LSByZWFkLmNzdigiaHR0cHM6Ly9vc2YuaW8vOHN5cDUvZG93bmxvYWQiKQpgYGAKCiMgRGF0YSBQcmVwYXJhdGlvbgoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICJmb2xkLWhpZGUifQpteWRhdGEkY291bnRWYXJpYWJsZSA8LSBhcy5pbnRlZ2VyKG15ZGF0YSRicGlfYW50aXNvY2lhbFQyU3VtKQpteWRhdGEkb3JkZXJlZFZhcmlhYmxlIDwtIGZhY3RvcihteWRhdGEkY291bnRWYXJpYWJsZSwgb3JkZXJlZCA9IFRSVUUpCgpteWRhdGEkZmVtYWxlIDwtIE5BCm15ZGF0YSRmZW1hbGVbd2hpY2gobXlkYXRhJHNleCA9PSAibWFsZSIpXSA8LSAwCm15ZGF0YSRmZW1hbGVbd2hpY2gobXlkYXRhJHNleCA9PSAiZmVtYWxlIildIDwtIDEKYGBgCgojIExpbmVhciBSZWdyZXNzaW9uCgojIyBMaW5lYXIgcmVncmVzc2lvbiBtb2RlbAoKYGBge3J9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsIDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpzdW1tYXJ5KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpjb25maW50KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpgYGAKCiMjIyBSZW1vdmUgbWlzc2luZyBkYXRhCgpgYGB7cn0KbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxOb01pc3NpbmcgPC0gbG0oYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEub21pdCkKCm11bHRpcGxlUmVncmVzc2lvbk1vZGVsTm9NaXNzaW5nIDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEgJT4lIHNlbGVjdChicGlfYW50aXNvY2lhbFQyU3VtLCBicGlfYW50aXNvY2lhbFQxU3VtLCBicGlfYW54aW91c0RlcHJlc3NlZFN1bSkgJT4lIG5hLm9taXQpCmBgYAoKIyMgTGluZWFyIHJlZ3Jlc3Npb24gbW9kZWwgb24gY29ycmVsYXRpb24vY292YXJpYW5jZSBtYXRyaXggKGZvciBwYWlyd2lzZSBkZWxldGlvbikKCmBgYHtyLCB3YXJuaW5nID0gRkFMU0V9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsUGFpcndpc2UgPC0gc2V0Q29yKAogIHkgPSAiYnBpX2FudGlzb2NpYWxUMlN1bSIsCiAgeCA9IGMoImJwaV9hbnRpc29jaWFsVDFTdW0iLCJicGlfYW54aW91c0RlcHJlc3NlZFN1bSIpLAogIGRhdGEgPSBjb3YobXlkYXRhWyxjKCJicGlfYW50aXNvY2lhbFQyU3VtIiwiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtIildLCB1c2UgPSAicGFpcndpc2UuY29tcGxldGUub2JzIiksCiAgbi5vYnMgPSBucm93KG15ZGF0YSkpCgpzdW1tYXJ5KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsUGFpcndpc2UpCm11bHRpcGxlUmVncmVzc2lvbk1vZGVsUGFpcndpc2VbYygiY29lZmZpY2llbnRzIiwic2UiLCJQcm9iYWJpbGl0eSIsIlIyIiwic2hydW5rZW5SMiIpXQpgYGAKCiMjIExpbmVhciByZWdyZXNzaW9uIG1vZGVsIHdpdGggcm9idXN0IGNvdmFyaWFuY2UgbWF0cml4IChybXMpCgpgYGB7cn0Kcm1zTXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwgPC0gcm9iY292KG9scyhicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IFRSVUUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFRSVUUpKQoKcm1zTXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwKY29uZmludChybXNNdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyBSb2J1c3QgbGluZWFyIHJlZ3Jlc3Npb24gKE1NLXR5cGUgaXRlcmF0aXZlbHkgcmV3ZWlnaHRlZCBsZWFzdCBzcXVhcmVzIHJlZ3Jlc3Npb24pCgpgYGB7cn0Kcm9idXN0TGluZWFyUmVncmVzc2lvbiA8LSBsbXJvYihicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSkKCnN1bW1hcnkocm9idXN0TGluZWFyUmVncmVzc2lvbikKY29uZmludChyb2J1c3RMaW5lYXJSZWdyZXNzaW9uKQpgYGAKCiMjIExlYXN0IHRyaW1tZWQgc3F1YXJlcyByZWdyZXNzaW9uIChmb3IgcmVtb3Zpbmcgb3V0bGllcnMpCgpgYGB7cn0KbHRzUmVncmVzc2lvbiA8LSBsdHNSZWcoYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSkKCnN1bW1hcnkobHRzUmVncmVzc2lvbikKYGBgCgojIyBCYXllc2lhbiBsaW5lYXIgcmVncmVzc2lvbgoKYGBge3IsIG1lc3NhZ2UgPSBGQUxTRSwgd2FybmluZyA9IEZBTFNFLCByZXN1bHRzID0gRkFMU0V9CmJheWVzaWFuUmVndWxhcml6ZWRSZWdyZXNzaW9uIDwtIGJybShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWlucyA9IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyID0gMjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWQgPSA1MjI0MikKYGBgCgpgYGB7cn0Kc3VtbWFyeShiYXllc2lhblJlZ3VsYXJpemVkUmVncmVzc2lvbikKYGBgCgojIEdlbmVyYWxpemVkIExpbmVhciBSZWdyZXNzaW9uCgojIyBHZW5lcmFsaXplZCByZWdyZXNzaW9uIG1vZGVsCgpJbiB0aGlzIGV4YW1wbGUsIHdlIHByZWRpY3QgYSBjb3VudCB2YXJpYWJsZSB0aGF0IGhhcyBhIHBvaXNzb24gZGlzdHJpYnV0aW9uLgpXZSBjb3VsZCBjaGFuZ2UgdGhlIGRpc3RyaWJ1dGlvbi4KCmBgYHtyfQpnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCA8LSBnbG0oY291bnRWYXJpYWJsZSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHkgPSAicG9pc3NvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKQoKc3VtbWFyeShnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkKY29uZmludChnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyBHZW5lcmFsaXplZCByZWdyZXNzaW9uIG1vZGVsIChybXMpCgpJbiB0aGlzIGV4YW1wbGUsIHdlIHByZWRpY3QgYSBjb3VudCB2YXJpYWJsZSB0aGF0IGhhcyBhIHBvaXNzb24gZGlzdHJpYnV0aW9uLgpXZSBjb3VsZCBjaGFuZ2UgdGhlIGRpc3RyaWJ1dGlvbi4KCmBgYHtyfQpybXNHZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCA8LSBHbG0oY291bnRWYXJpYWJsZSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gVFJVRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBUUlVFLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5ID0gInBvaXNzb24iKQoKcm1zR2VuZXJhbGl6ZWRSZWdyZXNzaW9uTW9kZWwKY29uZmludChybXNHZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyBCYXllc2lhbiBnZW5lcmFsaXplZCBsaW5lYXIgbW9kZWwKCkluIHRoaXMgZXhhbXBsZSwgd2UgcHJlZGljdCBhIGNvdW50IHZhcmlhYmxlIHRoYXQgaGFzIGEgcG9pc3NvbiBkaXN0cmlidXRpb24uCldlIGNvdWxkIGNoYW5nZSB0aGUgZGlzdHJpYnV0aW9uLgpGb3IgZXhhbXBsZSwgd2UgY291bGQgdXNlIEdhbW1hIHJlZ3Jlc3Npb24sIGBmYW1pbHkgPSBHYW1tYWAsIHdoZW4gdGhlIHJlc3BvbnNlIHZhcmlhYmxlIGlzIGNvbnRpbnVvdXMgYW5kIHBvc2l0aXZlLCBhbmQgdGhlIGNvZWZmaWNpZW50IG9mIHZhcmlhdGlvbi0tcmF0aGVyIHRoYW4gdGhlIHZhcmlhbmNlLS1pcyBjb25zdGFudC4KCmBgYHtyLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSwgcmVzdWx0cyA9IEZBTFNFfQpiYXllc2lhbkdlbmVyYWxpemVkTGluZWFyUmVncmVzc2lvbiA8LSBicm0oY291bnRWYXJpYWJsZSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHkgPSBwb2lzc29uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5zID0gNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWQgPSA1MjI0MiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXIgPSAyMDAwKQpgYGAKCmBgYHtyfQpzdW1tYXJ5KGJheWVzaWFuR2VuZXJhbGl6ZWRMaW5lYXJSZWdyZXNzaW9uKQpgYGAKCiMjIFJvYnVzdCBnZW5lcmFsaXplZCByZWdyZXNzaW9uCgpgYGB7cn0Kcm9idXN0R2VuZXJhbGl6ZWRSZWdyZXNzaW9uIDwtIGdsbXJvYihjb3VudFZhcmlhYmxlIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5ID0gInBvaXNzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpzdW1tYXJ5KHJvYnVzdEdlbmVyYWxpemVkUmVncmVzc2lvbikKY29uZmludChyb2J1c3RHZW5lcmFsaXplZFJlZ3Jlc3Npb24pCmBgYAoKIyMgT3JkaW5hbCByZWdyZXNzaW9uIG1vZGVsCgpgYGB7cn0Kb3JkaW5hbFJlZ3Jlc3Npb25Nb2RlbDEgPC0gcG9scigKICBvcmRlcmVkVmFyaWFibGUgfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgZGF0YSA9IG15ZGF0YSkKCm9yZGluYWxSZWdyZXNzaW9uTW9kZWwyIDwtIGxybSgKICBvcmRlcmVkVmFyaWFibGUgfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgZGF0YSA9IG15ZGF0YSwKICB4ID0gVFJVRSwKICB5ID0gVFJVRSkKCm9yZGluYWxSZWdyZXNzaW9uTW9kZWwzIDwtIG9ybSgKICBvcmRlcmVkVmFyaWFibGUgfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgZGF0YSA9IG15ZGF0YSwKICB4ID0gVFJVRSwKICB5ID0gVFJVRSkKCnN1bW1hcnkob3JkaW5hbFJlZ3Jlc3Npb25Nb2RlbDEpCmNvbmZpbnQob3JkaW5hbFJlZ3Jlc3Npb25Nb2RlbDEpCgpvcmRpbmFsUmVncmVzc2lvbk1vZGVsMgoKb3JkaW5hbFJlZ3Jlc3Npb25Nb2RlbDMKY29uZmludChvcmRpbmFsUmVncmVzc2lvbk1vZGVsMykKYGBgCgojIyBCYXllc2lhbiBvcmRpbmFsIHJlZ3Jlc3Npb24gbW9kZWwKCmBgYHtyLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSwgcmVzdWx0cyA9IEZBTFNFfQpiYXllc2lhbk9yZGluYWxSZWdyZXNzaW9uIDwtIGJybShvcmRlcmVkVmFyaWFibGUgfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseSA9IGN1bXVsYXRpdmUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5zID0gNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZCA9IDUyMjQyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyID0gMjAwMCkKYGBgCgpgYGB7cn0Kc3VtbWFyeShiYXllc2lhbk9yZGluYWxSZWdyZXNzaW9uKQpgYGAKCiMjIEJheWVzaWFuIGNvdW50IHJlZ3Jlc3Npb24gbW9kZWwKCmBgYHtyLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSwgcmVzdWx0cyA9IEZBTFNFfQpiYXllc2lhbkNvdW50UmVncmVzc2lvbiA8LSBicm0oY291bnRWYXJpYWJsZSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHkgPSAicG9pc3NvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbnMgPSA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZCA9IDUyMjQyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlciA9IDIwMDApCmBgYAoKYGBge3J9CnN1bW1hcnkoYmF5ZXNpYW5Db3VudFJlZ3Jlc3Npb24pCmBgYAoKIyMgTG9naXN0aWMgcmVncmVzc2lvbiBtb2RlbCAocm1zKQoKYGBge3J9CmxvZ2lzdGljUmVncmVzc2lvbk1vZGVsIDwtIHJvYmNvdihscm0oZmVtYWxlIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IFRSVUUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFRSVUUpKQoKbG9naXN0aWNSZWdyZXNzaW9uTW9kZWwKY29uZmludChsb2dpc3RpY1JlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyBCYXllc2lhbiBsb2dpc3RpYyByZWdyZXNzaW9uIG1vZGVsCgpgYGB7ciwgbWVzc2FnZSA9IEZBTFNFLCB3YXJuaW5nID0gRkFMU0UsIHJlc3VsdHMgPSBGQUxTRX0KYmF5ZXNpYW5Mb2dpc3RpY1JlZ3Jlc3Npb24gPC0gYnJtKGZlbWFsZSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHkgPSBiZXJub3VsbGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbnMgPSA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZCA9IDUyMjQyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlciA9IDIwMDApCmBgYAoKYGBge3J9CnN1bW1hcnkoYmF5ZXNpYW5Mb2dpc3RpY1JlZ3Jlc3Npb24pCmBgYAoKIyBIaWVyYXJjaGljYWwgTGluZWFyIFJlZ3Jlc3Npb24KCmBgYHtyfQptb2RlbDEgPC0gbG0oYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0sCiAgICAgICAgICAgICBkYXRhID0gbXlkYXRhICU+JSBzZWxlY3QoYnBpX2FudGlzb2NpYWxUMlN1bSwgYnBpX2FudGlzb2NpYWxUMVN1bSwgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0pICU+JSBuYS5vbWl0LAogICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSkKCm1vZGVsMiA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSAlPiUgc2VsZWN0KGJwaV9hbnRpc29jaWFsVDJTdW0sIGJwaV9hbnRpc29jaWFsVDFTdW0sIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtKSAlPiUgbmEub21pdCwKICAgICAgICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpzdW1tYXJ5KG1vZGVsMikkYWRqLnIuc3F1YXJlZAoKYW5vdmEobW9kZWwxLCBtb2RlbDIpCnN1bW1hcnkobW9kZWwyKSRhZGouci5zcXVhcmVkIC0gc3VtbWFyeShtb2RlbDEpJGFkai5yLnNxdWFyZWQKYGBgCgojIE1vZGVyYXRlZCBNdWx0aXBsZSBSZWdyZXNzaW9uIHsjbW9kZXJhdGlvbn0KCmh0dHBzOi8vY3Jhbi5yLXByb2plY3Qub3JnL3dlYi9wYWNrYWdlcy9pbnRlcmFjdGlvbnMvdmlnbmV0dGVzL2ludGVyYWN0aW9ucy5odG1sCgpgYGB7cn0Kc3RhdGVzIDwtIGFzLmRhdGEuZnJhbWUoc3RhdGUueDc3KQpgYGAKCiMjIE1lYW4gQ2VudGVyIFByZWRpY3RvcnMKCk1ha2Ugc3VyZSB0byBtZWFuLWNlbnRlciBvciBvcnRob2dvbmFsaXplIHByZWRpY3RvcnMgYmVmb3JlIGNvbXB1dGluZyB0aGUgaW50ZXJhY3Rpb24gdGVybS4KCmBgYHtyfQpzdGF0ZXMkSWxsaXRlcmFjeV9jZW50ZXJlZCA8LSBzY2FsZShzdGF0ZXMkSWxsaXRlcmFjeSwgc2NhbGUgPSBGQUxTRSkKc3RhdGVzJE11cmRlcl9jZW50ZXJlZCA8LSBzY2FsZShzdGF0ZXMkTXVyZGVyLCBzY2FsZSA9IEZBTFNFKQpgYGAKCiMjIE1vZGVsCgpgYGB7cn0KaW50ZXJhY3Rpb25Nb2RlbCA8LSBsbSgKICBJbmNvbWUgfiBJbGxpdGVyYWN5X2NlbnRlcmVkICsgTXVyZGVyX2NlbnRlcmVkICsgSWxsaXRlcmFjeV9jZW50ZXJlZDpNdXJkZXJfY2VudGVyZWQgKyBgSFMgR3JhZGAsCiAgZGF0YSA9IHN0YXRlcykKYGBgCgojIyBQbG90cwoKYGBge3J9CmludGVyYWN0X3Bsb3QoaW50ZXJhY3Rpb25Nb2RlbCwgcHJlZCA9IElsbGl0ZXJhY3lfY2VudGVyZWQsIG1vZHggPSBNdXJkZXJfY2VudGVyZWQpCmludGVyYWN0X3Bsb3QoaW50ZXJhY3Rpb25Nb2RlbCwgcHJlZCA9IElsbGl0ZXJhY3lfY2VudGVyZWQsIG1vZHggPSBNdXJkZXJfY2VudGVyZWQsIHBsb3QucG9pbnRzID0gVFJVRSkKaW50ZXJhY3RfcGxvdChpbnRlcmFjdGlvbk1vZGVsLCBwcmVkID0gSWxsaXRlcmFjeV9jZW50ZXJlZCwgbW9keCA9IE11cmRlcl9jZW50ZXJlZCwgaW50ZXJ2YWwgPSBUUlVFKQoKam9obnNvbl9uZXltYW4oaW50ZXJhY3Rpb25Nb2RlbCwgcHJlZCA9IElsbGl0ZXJhY3lfY2VudGVyZWQsIG1vZHggPSBNdXJkZXJfY2VudGVyZWQsIGFscGhhID0gLjA1KQpgYGAKCiMjIFNpbXBsZSBTbG9wZXMgQW5hbHlzaXMKCmBgYHtyfQpzaW1fc2xvcGVzKGludGVyYWN0aW9uTW9kZWwsIHByZWQgPSBJbGxpdGVyYWN5X2NlbnRlcmVkLCBtb2R4ID0gTXVyZGVyX2NlbnRlcmVkLCBqb2huc29uX25leW1hbiA9IEZBTFNFKQpzaW1fc2xvcGVzKGludGVyYWN0aW9uTW9kZWwsCiAgICAgICAgICAgcHJlZCA9IElsbGl0ZXJhY3lfY2VudGVyZWQsCiAgICAgICAgICAgbW9keCA9IE11cmRlcl9jZW50ZXJlZCwKICAgICAgICAgICBtb2R4LnZhbHVlcyA9IGMoMCwgNSwgMTApLAogICAgICAgICAgIGpvaG5zb25fbmV5bWFuID0gRkFMU0UpCmBgYAoKIyMgSm9obnNvbi1OZXltYW4gaW50ZXJ2YWxzCgpJbmRpY2F0ZXMgYWxsIHRoZSB2YWx1ZXMgb2YgdGhlIG1vZGVyYXRvciBmb3Igd2hpY2ggdGhlIHNsb3BlIG9mIHRoZSBwcmVkaWN0b3IgaXMgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudC4KCmBgYHtyfQpzaW1fc2xvcGVzKGludGVyYWN0aW9uTW9kZWwsIHByZWQgPSBJbGxpdGVyYWN5X2NlbnRlcmVkLCBtb2R4ID0gTXVyZGVyX2NlbnRlcmVkLCBqb2huc29uX25leW1hbiA9IFRSVUUpCgpwcm9iZV9pbnRlcmFjdGlvbihpbnRlcmFjdGlvbk1vZGVsLAogICAgICAgICAgICAgICAgICBwcmVkID0gSWxsaXRlcmFjeV9jZW50ZXJlZCwKICAgICAgICAgICAgICAgICAgbW9keCA9IE11cmRlcl9jZW50ZXJlZCwKICAgICAgICAgICAgICAgICAgY29uZC5pbnQgPSBUUlVFLAogICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IFRSVUUsCiAgICAgICAgICAgICAgICAgIGpucGxvdCA9IFRSVUUpCmBgYAoKIyBBcHByb2FjaGVzIHRvIEhhbmRsaW5nIE1pc3NpbmduZXNzIHsjbWlzc2luZ25lc3N9CgojIyBMaXN0d2lzZSBkZWxldGlvbiB7I2xpc3R3aXNlRGVsZXRpb259CgpMaXN0d2lzZSBkZWxldGlvbiBkZWxldGVzIGV2ZXJ5IHJvdyBpbiB0aGUgZGF0YSBmaWxlIHRoYXQgaGFzIGEgbWlzc2luZyB2YWx1ZSBmb3Igb25lIG9mIHRoZSBtb2RlbCB2YXJpYWJsZXMuCgpgYGB7cn0KbGlzdHdpc2VEZWxldGlvbk1vZGVsIDwtIGxtKAogIGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgZGF0YSA9IG15ZGF0YSwKICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKQoKc3VtbWFyeShsaXN0d2lzZURlbGV0aW9uTW9kZWwpCmNvbmZpbnQobGlzdHdpc2VEZWxldGlvbk1vZGVsKQpgYGAKCiMjIFBhaXJ3aXNlIGRlbGV0aW9uIHsjcGFpcndpc2VEZWxldGlvbn0KCkFsc28gc2VlIGhlcmU6CgotIGh0dHBzOi8vc3RhdHMuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE1ODM2Ni9maXQtbXVsdGlwbGUtcmVncmVzc2lvbi1tb2RlbC13aXRoLXBhaXJ3aXNlLWRlbGV0aW9uLW9yLW9uLWEtY29ycmVsYXRpb24tY292YXJpLzE3MzAwMiMxNzMwMDIKLSBodHRwczovL3N0YXRzLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8yOTk3OTIvci1sbS1jb3ZhcmlhbmNlLW1hdHJpeC1tYW51YWwtY2FsY3VsYXRpb24tZmFpbHVyZQotIGh0dHBzOi8vc3RhdHMuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzEwNzU5Ny9pcy10aGVyZS1hLXdheS10by11c2UtdGhlLWNvdmFyaWFuY2UtbWF0cml4LXRvLWZpbmQtY29lZmZpY2llbnRzLWZvci1tdWx0aXBsZS1yZQotIGh0dHBzOi8vc3RhdHMuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzEwNTAwNi9ob3ctdG8tcGVyZm9ybS1hLWJpdmFyaWF0ZS1yZWdyZXNzaW9uLXVzaW5nLXBhaXJ3aXNlLWRlbGV0aW9uLW9mLW1pc3NpbmctdmFsdWVzCi0gaHR0cHM6Ly9kbC5kcm9wYm94dXNlcmNvbnRlbnQuY29tL3MvNHNmMGV0M3A0N3lrY3R4L01pc3NpbmdQYWlyd2lzZS5zcHMKCkFkYXB0ZWQgZnJvbSBoZXJlOiBodHRwczovL3N0ZWZ2YW5idXVyZW4ubmFtZS9maW1kL3NlYy1zaW1wbGVzb2x1dGlvbnMuaHRtbCNzZWM6cGFpcndpc2UKCmBgYHtyfQptb2RlbERhdGEgPC0gbXlkYXRhWyxjKCJicGlfYW50aXNvY2lhbFQyU3VtIiwiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtIildCnZhck1lYW5zIDwtIGNvbE1lYW5zKG1vZGVsRGF0YSwgbmEucm0gPSBUUlVFKQp2YXJDb3ZhcmlhbmNlcyA8LSBjb3YobW9kZWxEYXRhLCB1c2UgPSAicGFpcndpc2UiKQoKcGFpcndpc2VSZWdyZXNzaW9uX3N5bnRheCA8LSAnCiAgYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bQogIGJwaV9hbnRpc29jaWFsVDJTdW0gfn4gYnBpX2FudGlzb2NpYWxUMlN1bQogIGJwaV9hbnRpc29jaWFsVDJTdW0gfiAxCicKCnBhaXJ3aXNlUmVncmVzc2lvbl9maXQgPC0gbGF2YWFuKAogIHBhaXJ3aXNlUmVncmVzc2lvbl9zeW50YXgsCiAgc2FtcGxlLm1lYW4gPSB2YXJNZWFucywKICBzYW1wbGUuY292ID0gdmFyQ292YXJpYW5jZXMsCiAgc2FtcGxlLm5vYnMgPSBzdW0oY29tcGxldGUuY2FzZXMobW9kZWxEYXRhKSkKKQoKc3VtbWFyeSgKICBwYWlyd2lzZVJlZ3Jlc3Npb25fZml0LAogIHN0YW5kYXJkaXplZCA9IFRSVUUsCiAgcnNxdWFyZSA9IFRSVUUpCmBgYAoKIyMgRnVsbC1pbmZvcm1hdGlvbiBtYXhpbXVtIGxpa2VsaWhvb2QgKEZJTUwpIHsjZmltbH0KCmBgYHtyfQpmaW1sUmVncmVzc2lvbl9zeW50YXggPC0gJwogIGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0KICBicGlfYW50aXNvY2lhbFQyU3VtIH5+IGJwaV9hbnRpc29jaWFsVDJTdW0KICBicGlfYW50aXNvY2lhbFQyU3VtIH4gMQonCgpmaW1sUmVncmVzc2lvbl9maXQgPC0gbGF2YWFuKAogIGZpbWxSZWdyZXNzaW9uX3N5bnRheCwKICBkYXRhID0gbXlkYXRhLAogIG1pc3NpbmcgPSAiTUwiLAopCgpzdW1tYXJ5KAogIGZpbWxSZWdyZXNzaW9uX2ZpdCwKICBzdGFuZGFyZGl6ZWQgPSBUUlVFLAogIHJzcXVhcmUgPSBUUlVFKQpgYGAKCiMjIE11bHRpcGxlIGltcHV0YXRpb24geyNpbXB1dGF0aW9ufQoKYGBge3J9Cm1vZGVsRGF0YV9pbXB1dGVkIDwtIG1pY2UoCiAgbW9kZWxEYXRhLAogIG0gPSA1LAogIG1ldGhvZCA9ICJwbW0iKSAjIHByZWRpY3RpdmUgbWVhbiBtYXRjaGluZzsgY2FuIGNob29zZSBhbW9uZyBtYW55IG1ldGhvZHMKCmltcHV0ZWREYXRhX2ZpdCA8LSB3aXRoKAogIG1vZGVsRGF0YV9pbXB1dGVkLAogIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0pKQoKaW1wdXRlZERhdGFfcG9vbGVkRXN0aW1hdGVzIDwtIHBvb2woaW1wdXRlZERhdGFfZml0KQpzdW1tYXJ5KGltcHV0ZWREYXRhX3Bvb2xlZEVzdGltYXRlcykKYGBgCgojIE1vZGVsIEJ1aWxkaW5nIFN0ZXBzCgoxLiBFeGFtaW5lIGV4dGVudCBhbmQgdHlwZSBvZiBtaXNzaW5nIGRhdGEsIGNvbnNpZGVyIFtob3cgdG8gaGFuZGxlIG1pc3NpbmcgdmFsdWVzXSgjbWlzc2luZ25lc3MpIChbbXVsdGlwbGUgaW1wdXRhdGlvbl0oI2ltcHV0YXRpb24pLCBbRklNTF0oI2ZpbWwpLCBbcGFpcndpc2UgZGVsZXRpb25dKCNwYWlyd2lzZURlbGV0aW9uKSwgW2xpc3R3aXNlIGRlbGV0aW9uXSgjbGlzdHdpc2VEZWxldGlvbikpCiAgICAtIExpdHRsZSdzIE1DQVIgdGVzdCBmcm9tIGBtY2FyX3Rlc3QoKWAgZnVuY3Rpb24gb2YgdGhlIGBuanRpZXJuZXkvbmFuaWFyYCBwYWNrYWdlCiAgICAtIEJheWVzaWFuIGhhbmRsaW5nIG9mIG1pc3NpbmcgZGF0YTogaHR0cHM6Ly9jcmFuLnItcHJvamVjdC5vcmcvd2ViL3BhY2thZ2VzL2JybXMvdmlnbmV0dGVzL2JybXNfbWlzc2luZ3MuaHRtbAoxLiBFeGFtaW5lIGRlc2NyaXB0aXZlIHN0YXRpc3RpY3MsIGNvbnNpZGVyIHZhcmlhYmxlIHRyYW5zZm9ybWF0aW9ucwoxLiBFeGFtaW5lIHNjYXR0ZXJwbG90IG1hdHJpeCB0byBleGFtaW5lIHdoZXRoZXIgYXNzb2NpYXRpb25zIGJldHdlZW4gcHJlZGljdG9yIGFuZCBvdXRjb21lcyBhcmUgbGluZWFyIG9yIG5vbmxpbmVhcgoxLiBNb2RlbCBidWlsZGluZzogdGhlb3J5IGFuZCBlbXBpcmljaXNtIChzdGVwd2lzZSByZWdyZXNzaW9uLCBsaWtlbGlob29kIHJhdGlvIHRlc3RzLCBrLWZvbGQgY3Jvc3MgdmFsaWRhdGlvbiB0byBjaGVjayBmb3Igb3Zlci1maXR0aW5nIGNvbXBhcmVkIHRvIHNpbXBsZXIgbW9kZWwpCjEuIFRlc3QgYXNzdW1wdGlvbnMKICAgIC0gRXhhbWluZSB3aGV0aGVyIHByZWRpY3RvcnMgaGF2ZSBsaW5lYXIgYXNzb2NpYXRpb24gd2l0aCBvdXRjb21lIChSZXNpZHVhbCBQbG90cywgTWFyZ2luYWwgTW9kZWwgUGxvdHMsIEFkZGVkLVZhcmlhYmxlIFBsb3Rz4oCUY2hlY2sgZm9yIG5vbi1ob3Jpem9udGFsIGxpbmVzKQogICAgLSBFeGFtaW5lIHdoZXRoZXIgcmVzaWR1YWxzIGhhdmUgY29uc3RhbnQgdmFyaWFuY2UgYWNyb3NzIGxldmVscyBvZiBvdXRjb21lIGFuZCBwcmVkaWN0b3JzIFJlc2lkdWFsIFBsb3RzLCBTcHJlYWQtTGV2ZWwgUGxvdHPigJRjaGVjayBmb3IgZmFuLXNoYXBlZCBwbG90IG9yIG90aGVyIGluY3JlYXNpbmcvZGVjcmVhc2luZyBzdHJ1Y3R1cmUpCiAgICAtIEV4YW1pbmUgd2hldGhlciBwcmVkaWN0b3JzIHNob3cgbXVsdGljb2xsaW5lYXJpdHkgKFZJRikKICAgIC0gRXhhbWluZSB3aGV0aGVyIHJlc2lkdWFscyBhcmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgKFFRIHBsb3QgYW5kIGRlbnNpdHkgcGxvdCkKICAgIC0gRXhhbWluZSBpbmZsdWVuY2Ugb2YgaW5mbHVlbnRpYWwgb2JzZXJ2YXRpb25zIChoaWdoIG91dGx5aW5nbmVzcyBhbmQgbGV2ZXJhZ2UpIG9uIHBhcmFtZXRlciBzdGltYXRlcyBieSBpdGVyYXRpdmVseSByZW1vdmluZyBpbmZsdWVudGlhbCBvYnNlcnZhdGlvbnMgYW5kIHJlZml0dGluZyAoQWRkZWQtVmFyaWFibGUgUGxvdHMpCjEuIEhhbmRsZSB2aW9sYXRlZCBhc3N1bXB0aW9ucywgc2VsZWN0IGZpbmFsIHNldCBvZiBwcmVkaWN0b3JzL291dGNvbWVzIGFuZCB0cmFuc2Zvcm1hdGlvbiBvZiBlYWNoCjEuIFVzZSBrLWZvbGQgY3Jvc3MgdmFsaWRhdGlvbiB0byBpZGVudGlmeSB0aGUgYmVzdCBlc3RpbWF0aW9uIHByb2NlZHVyZSAoT0xTLCBNTSwgb3IgTFRTKSBvbiB0aGUgZmluYWwgbW9kZWwKMS4gVXNlIGlkZW50aWZpZWQgZXN0aW1hdGlvbiBwcm9jZWR1cmUgdG8gZml0IGZpbmFsIG1vZGVsIGFuZCBkZXRlcm1pbmUgdGhlIGJlc3QgcGFyYW1ldGVyIHBvaW50IGVzdGltYXRlcwoxLiBDYWxjdWxhdGUgYm9vdHN0cmFwcGVkIGVzdGltYXRlcyB0byBkZXRlcm1pbmUgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWxzIGFyb3VuZCB0aGUgcGFyYW1ldGVyIGVzdGltYXRlcyBvZiB0aGUgZmluYWwgbW9kZWwKCiMgQm9vdHN0cmFwcGVkIEVzdGltYXRlcwoKVG8gZGV0ZXJtaW5lIHRoZSBjb25maWRlbmNlIGludGVydmFscyBvZiBwYXJhbWV0ZXIgZXN0aW1hdGVzCgojIyBMaW5lYXIgUmVncmVzc2lvbgoKYGBge3J9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsQm9vdHN0cmFwcGVkIDwtIEJvb3QobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxOb01pc3NpbmcsIFIgPSAxMDAwKQpzdW1tYXJ5KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsQm9vdHN0cmFwcGVkKQpjb25maW50KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsQm9vdHN0cmFwcGVkLCBsZXZlbCA9IC45NSwgdHlwZSA9ICJiY2EiKQpoaXN0KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsQm9vdHN0cmFwcGVkKQpgYGAKCiMjIEdlbmVyYWxpemVkIFJlZ3Jlc3Npb24KCmBgYHtyfQpnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbEJvb3RzdHJhcHBlZCA8LSBCb290KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsTm9NaXNzaW5nLCBSID0gMTAwMCkKc3VtbWFyeShnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbEJvb3RzdHJhcHBlZCkKY29uZmludChnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbEJvb3RzdHJhcHBlZCwgbGV2ZWwgPSAuOTUsIHR5cGUgPSAiYmNhIikKaGlzdChnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbEJvb3RzdHJhcHBlZCkKYGBgCgojIENyb3NzIFZhbGlkYXRpb24KClRvIGV4YW1pbmUgZGVncmVlIG9mIHByZWRpY3Rpb24gZXJyb3IgYW5kIG92ZXItZml0dGluZyB0byBkZXRlcm1pbmUgYmVzdCBtb2RlbApodHRwczovL3N0YXRzLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xMDM0NTkvaG93LWRvLWkta25vdy13aGljaC1tZXRob2Qtb2YtY3Jvc3MtdmFsaWRhdGlvbi1pcy1iZXN0CgojIyBLLWZvbGQgY3Jvc3MgdmFsaWRhdGlvbgoKYGBge3J9CmtGb2xkcyA8LSAxMApyZXBsaWNhdGlvbnMgPC0gMjAKCmZvbGRzIDwtIGN2Rm9sZHMobnJvdyhteWRhdGEpLCBLID0ga0ZvbGRzLCBSID0gcmVwbGljYXRpb25zKQoKZml0TG0gPC0gbG0oYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgbmEuYWN0aW9uID0gIm5hLmV4Y2x1ZGUiKQoKZml0TG1yb2IgPC0gbG1yb2IoYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gIm5hLmV4Y2x1ZGUiKQoKZml0THRzIDwtIGx0c1JlZyhicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gIm5hLmV4Y2x1ZGUiKQoKY3ZGaXRMbSA8LSBjdkxtKGZpdExtLCBLID0ga0ZvbGRzLCBSID0gcmVwbGljYXRpb25zKQoKY3ZGaXRMbXJvYiA8LSBjdkxtcm9iKGZpdExtcm9iLCBLID0ga0ZvbGRzLCBSID0gcmVwbGljYXRpb25zKQpjdkZpdEx0cyA8LSBjdkx0cyhmaXRMdHMsIEsgPSBrRm9sZHMsIFIgPSByZXBsaWNhdGlvbnMpCgpjdkZpdHMgPC0gY3ZTZWxlY3QoT0xTID0gY3ZGaXRMbSwgTU0gPSBjdkZpdExtcm9iLCBMVFMgPSBjdkZpdEx0cykKY3ZGaXRzCgpid3Bsb3QoY3ZGaXRzLCB4bGFiID0gIlJvb3QgTWVhbiBTcXVhcmUgRXJyb3IiLCB4bGltPSBjKDAsIG1heChjdkZpdHMkY3YkQ1YpICsgMC4yKSkKYGBgCgojIEV4YW1pbmluZyBNb2RlbCBGaXRzCgojIyBFZmZlY3QgUGxvdHMKCmBgYHtyfQphbGxFZmZlY3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpwbG90KGFsbEVmZmVjdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpgYGAKCiMjIENvbmZpZGVuY2UgRWxsaXBzZXMKCmBgYHtyfQpjb25maWRlbmNlRWxsaXBzZShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCwgbGV2ZWxzID0gYygwLjUsIC45NSkpCmBgYAoKIyMgRGF0YSBFbGxpcHNlCgpgYGB7cn0KbXlkYXRhX25vbWlzc2luZyA8LSBuYS5vbWl0KG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0pCmRhdGFFbGxpcHNlKG15ZGF0YV9ub21pc3NpbmckYnBpX2FudGlzb2NpYWxUMVN1bSwgbXlkYXRhX25vbWlzc2luZyRicGlfYW50aXNvY2lhbFQyU3VtLCBsZXZlbHMgPSBjKDAuNSwgLjk1KSkKYGBgCgojIERpYWdub3N0aWNzCgojIyBBc3N1bXB0aW9ucwoKIyMjIDEuIExpbmVhciByZWxhdGlvbiBiZXR3ZWVuIHByZWRpY3RvcnMgYW5kIG91dGNvbWUgeyNsaW5lYXJBc3NvY2lhdGlvbn0KCiMjIyMgV2F5cyB0byBUZXN0CgojIyMjIyBCZWZvcmUgTW9kZWwgRml0dGluZwoKLSBzY2F0dGVycGxvdCBtYXRyaXgKLSBkaXN0YW5jZSBjb3JyZWxhdGlvbgoKIyMjIyMjIFNjYXR0ZXJwbG90IE1hdHJpeAoKYGBge3J9CnNjYXR0ZXJwbG90TWF0cml4KH4gYnBpX2FudGlzb2NpYWxUMlN1bSArIGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwgZGF0YSA9IG15ZGF0YSkKYGBgCgojIyMjIyMgRGlzdGFuY2UgY29ycmVsYXRpb24KClRoZSBkaXN0YW5jZSBjb3JyZWxhdGlvbiBpcyBhbiBpbmRleCBvZiB0aGUgZGVncmVlIG9mIHRoZSBsaW5lYXIgYW5kIG5vbi1saW5lYXIgYXNzb2NpYXRpb24gYmV0d2VlbiB0d28gdmFyaWFibGVzLgoKYGBge3J9CmNvcnJlbGF0aW9uKG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0sIG1ldGhvZCA9ICJkaXN0YW5jZSIsIHBfYWRqdXN0ID0gIm5vbmUiKQpgYGAKCiMjIyMjIEFmdGVyIE1vZGVsIEZpdHRpbmcKCkNoZWNrIGZvciBub25saW5lYXJpdGllcyAobm9uLWhvcml6b250YWwgbGluZSkgaW4gcGxvdHMgb2Y6CgotIFJlc2lkdWFscyB2ZXJzdXMgZml0dGVkIHZhbHVlcyAoW1Jlc2lkdWFsIFBsb3RzXSgjcmVzaWR1YWxQbG90cykp4oCUYmVzdAotIFJlc2lkdWFscyB2ZXJzdXMgcHJlZGljdG9ycyAoW1Jlc2lkdWFsIFBsb3RzXSgjcmVzaWR1YWxQbG90cykpCi0gT3V0Y29tZSB2ZXJzdXMgZml0dGVkIHZhbHVlcyAoW01hcmdpbmFsIE1vZGVsIFBsb3RzXSgjbWFyZ2luYWxNb2RlbFBsb3RzKSkKLSBPdXRjb21lIHZlcnN1cyBwcmVkaWN0b3JzLCBpZ25vcmluZyBvdGhlciBwcmVkaWN0b3JzIChbTWFyZ2luYWwgTW9kZWwgUGxvdHNdKCNtYXJnaW5hbE1vZGVsUGxvdHMpKQotIE91dGNvbWUgdmVyc3VzIHByZWRpY3RvcnMsIGNvbnRyb2xsaW5nIGZvciBvdGhlciBwcmVkaWN0b3JzIChbQWRkZWQtVmFyaWFibGUgUGxvdHNdKCNhZGRlZFZhcmlhYmxlUGxvdHMpKQoKIyMjIyBXYXlzIHRvIEhhbmRsZQoKLSBUcmFuc2Zvcm0gb3V0Y29tZS9wcmVkaWN0b3IgdmFyaWFibGVzIChCb3gtQ294IHRyYW5zZm9ybWF0aW9ucykKLSBTZW1pLXBhcmFtZXRyaWMgcmVncmVzc2lvbiBtb2RlbHM6IEdlbmVyYWxpemVkIGFkZGl0aXZlIG1vZGVscyAoR0FNKQotIE5vbi1wYXJhbWV0cmljIHJlZ3Jlc3Npb24gbW9kZWxzOiBOZWFyZXN0LU5laWdoYm9yIEtlcm5lbCBSZWdyZXNzaW9uCgojIyMjIyBTZW1pLXBhcmFtZXRyaWMgb3Igbm9uLXBhcmFtZXRyaWMgcmVncmVzc2lvbiBtb2RlbHMKCmh0dHA6Ly93d3cubGlzYS5zdGF0LnZ0LmVkdS8/cT1ub2RlLzc1MTcKCk5vdGU6IHVzaW5nIHNlbWktcGFyYW1ldHJpYyBvciBub24tcGFyYW1ldHJpYyBtb2RlbHMgaW5jcmVhc2VzIGZpdCBpbiBjb250ZXh0IG9mIG5vbmxpbmVhcml0eSBhdCB0aGUgZXhwZW5zZSBvZiBhZGRlZCBjb21wbGV4aXR5LgpNYWtlIHN1cmUgdG8gYXZvaWQgZml0dGluZyBhbiBvdmVybHkgY29tcGxleCBtb2RlbCAoZS5nLiwgdXNlIGstZm9sZCBjcm9zcyB2YWxpZGF0aW9uKS4KT2Z0ZW4sIHRoZSBzaW1wbGVyIChnZW5lcmFsaXplZCkgbGluZWFyIG1vZGVsIGlzIHByZWZlcmFibGUgdG8gc2VtaS1wYXJlbWV0cmljIG9yIG5vbi1wYXJhbWV0cmljIGFwcHJvYWNoZXMKCiMjIyMjIyBTZW1pLXBhcmFtZXRyaWM6IEdlbmVyYWxpemVkIEFkZGl0aXZlIE1vZGVscwoKaHR0cDovL2RvY3VtZW50cy5zb2Z0d2FyZS5kZWxsLmNvbS9TdGF0aXN0aWNzL1RleHRib29rL0dlbmVyYWxpemVkLUFkZGl0aXZlLU1vZGVscwoKYGBge3J9CmdlbmVyYWxpemVkQWRkaXRpdmVNb2RlbCA8LSBnYW0oYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHkgPSBnYXVzc2lhbigpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpzdW1tYXJ5KGdlbmVyYWxpemVkQWRkaXRpdmVNb2RlbCkKY29uZmludChnZW5lcmFsaXplZEFkZGl0aXZlTW9kZWwpCmBgYAoKIyMjIyMjIE5vbi1wYXJhbWV0cmljOiBOZWFyZXN0LU5laWdoYm9yIEtlcm5lbCBSZWdyZXNzaW9uCgojIyMgMi4gRXhvZ2VuZWl0eQoKRXhvZ2VuZWl0eSBtZWFucyB0aGF0IHRoZSBhc3NvY2lhdGlvbiBiZXR3ZWVuIHByZWRpY3RvcnMgYW5kIG91dGNvbWUgaXMgZnVsbHkgY2F1c2FsIGFuZCB1bnJlbGF0ZWQgdG8gb3RoZXIgdmFyaWFibGVzLgoKIyMjIyBXYXlzIHRvIFRlc3QKCi0gRHVyYmluLVd1LUhhdXNtYW4gdGVzdCBvZiBlbmRvZ2VuZWl0eQoKIyMjIyMgRHVyYmluLVd1LUhhdXNtYW4gdGVzdCBvZiBlbmRvZ2VuZWl0eQoKVGhlIGluc3RydW1lbnRhbCB2YXJpYWJsZXMgKDJTTFMpIGVzdGltYXRvciBpcyBpbXBsZW1lbnRlZCBpbiB0aGUgYFJgIHBhY2thZ2UgYEFFUmAgYXMgY29tbWFuZDoKCmBgYHtyLCBldmFsID0gRkFMU0V9Cml2cmVnKHkgfiB4MSArIHgyICsgdzEgKyB3MiB8IHoxICsgejIgKyB6MyArIHcxICsgdzIpCmBgYAoKd2hlcmUgYHgxYCBhbmQgYHgyYCBhcmUgZW5kb2dlbm91cyByZWdyZXNzb3JzLCBgdzFgIGFuZCBgdzJgIGV4b2dlbmVvdXMgcmVncmVzc29ycywgYW5kIGB6MWAgdG8gYHozYCBhcmUgZXhjbHVkZWQgaW5zdHJ1bWVudHMuCgpEdXJiaW4tV3UtSGF1c21hbiB0ZXN0OgoKYGBge3J9CmhzbmcyIDwtIHJlYWQuZHRhKCJodHRwOi8vd3d3LnN0YXRhLXByZXNzLmNvbS9kYXRhL3IxMS9oc25nMi5kdGEiKQoKZml2IDwtIGl2cmVnKHJlbnQgfiBoc25ndmFsICsgcGN0dXJiYW4gfCBwY3R1cmJhbiArIGZhbWluYyArIHJlZzIgKyByZWczICsgcmVnNCwgZGF0YSA9IGhzbmcyKSAjSG91c2luZyB2YWx1ZXMgYXJlIGxpa2VseSBlbmRvZ2VuZW91cyBhbmQgdGhlcmVmb3JlIGluc3RydW1lbnRlZCBieSBtZWRpYW4gZmFtaWx5IGluY29tZSAoZmFtaW5jKSBhbmQgMyByZWdpb25hbCBkdW1taWVzIChyZWcyLCByZWc0LCByZWc0KQoKc3VtbWFyeShmaXYsIGRpYWdub3N0aWNzID0gVFJVRSkKYGBgCgpUaGUgRWlja2VyLUh1YmVyLVdoaXRlIGNvdmFyaWFuY2UgZXN0aW1hdG9yIHdoaWNoIGlzIHJvYnVzdCB0byBoZXRlcm9zY2VkYXN0aWMgZXJyb3IgdGVybXMgaXMgcmVwb3J0ZWQgYWZ0ZXIgZXN0aW1hdGlvbiB3aXRoIGB2Y292ID0gc2FuZHdpY2hgIGluIGBjb2VmdGVzdCgpYAoKRmlyc3Qgc3RhZ2UgcmVzdWx0cyBhcmUgcmVwb3J0ZWQgYnkgZXhwbGljaXRseSBlc3RpbWF0aW5nIHRoZW0uCkZvciBleGFtcGxlOgoKYGBge3J9CmZpcnN0IDwtIGxtKGhzbmd2YWwgfiBwY3R1cmJhbiArIGZhbWluYyArIHJlZzIgKyByZWczICsgcmVnNCwgZGF0YSA9IGhzbmcyKQoKc3VtbWFyeShmaXJzdCkKYGBgCgpJbiBjYXNlIG9mIGEgc2luZ2xlIGVuZG9nZW5vdXMgdmFyaWFibGUgKEsgPSAxKSwgdGhlIEYtc3RhdGlzdGljIHRvIGFzc2VzcyB3ZWFrIGluc3RydW1lbnRzIGlzIHJlcG9ydGVkIGFmdGVyIGVzdGltYXRpbmcgdGhlIGZpcnN0IHN0YWdlIHdpdGgsIGZvciBleGFtcGxlOgoKYGBge3J9CndhbGR0ZXN0KGZpcnN0LCAuIH4gLiAtIGZhbWluYyAtIHJlZzIgLSByZWczIC0gcmVnNCkKYGBgCgpvciBpbiBjYXNlIG9mIGhldGVyb3NjZWRhdGlzdGljIGVycm9yczoKCmBgYHtyfQp3YWxkdGVzdChmaXJzdCwgLiB+IC4gLSBmYW1pbmMgLSByZWcyIC0gcmVnMy0gcmVnNCwgdmNvdiA9IHNhbmR3aWNoKQpgYGAKCiMjIyMgV2F5cyB0byBIYW5kbGUKCi0gQ29uZHVjdCBhbiBleHBlcmltZW50L1JDVCB3aXRoIHJhbmRvbSBhc3NpZ25tZW50Ci0gSW5zdHJ1bWVudGFsIHZhcmlhYmxlcwoKIyMjIDMuIEhvbW9zY2VkYXN0aWNpdHkgb2YgcmVzaWR1YWxzCgpIb21vc2NlZGFzdGljaXR5IG9mIHRoZSByZXNpZHVhbHMgbWVhbnMgdGhhdCB0aGUgdmFyaWFuY2Ugb2YgdGhlIHJlc2lkdWFscyBkb2VzIG5vdCBkaWZmZXIgYXMgYSBmdW5jdGlvbiBvZiB0aGUgb3V0Y29tZS9wcmVkaWN0b3JzIChpLmUuLCB0aGUgcmVzaWR1YWxzIHNob3cgY29uc3RhbnQgdmFyaWFuY2UgYXMgYSBmdW5jdGlvbiBvZiBvdXRjb21lL3ByZWRpY3RvcnMpLgoKIyMjIyBXYXlzIHRvIFRlc3QKCi0gUGxvdCByZXNpZHVhbHMgdnMuIG91dGNvbWUgYW5kIHByZWRpY3RvciB2YXJpYWJsZXMgKFtSZXNpZHVhbCBQbG90c10oI3Jlc2lkdWFsUGxvdHMpKQotIFBsb3QgcmVzaWR1YWxzIHZzLiBmaXR0ZWQgdmFsdWVzIChbUmVzaWR1YWwgUGxvdHNdKCNyZXNpZHVhbFBsb3RzKSkKLSBUaW1lIFNlcmllcyBkYXRhOiBQbG90IHJlc2lkdWFscyB2cy4gdGltZQotIFNwcmVhZC1sZXZlbCBwbG90Ci0gQnJldXNjaC1QYWdhbiB0ZXN0OiBgYnB0ZXN0KClgIGZ1bmN0aW9uIGZyb20gYGxtdGVzdGAgcGFja2FnZQotIEdvbGRmZWxkLVF1YW5kdCBUZXN0CgojIyMjIyBSZXNpZHVhbHMgdnMuIG91dGNvbWUgYW5kIHByZWRpY3RvciB2YXJpYWJsZXMKClBsb3QgcmVzaWR1YWxzLCBvciBwZXJoYXBzIHRoZWlyIGFic29sdXRlIHZhbHVlcywgdmVyc3VzIHRoZSBvdXRjb21lIGFuZCBwcmVkaWN0b3IgdmFyaWFibGVzIChbUmVzaWR1YWwgUGxvdHNdKCNyZXNpZHVhbFBsb3RzKSkuCkV4YW1pbmUgd2hldGhlciByZXNpZHVhbCB2YXJpYW5jZSBpcyBjb25zdGFudCBhdCBhbGwgbGV2ZWxzIG9mIG90aGVyIHZhcmlhYmxlcyBvciB3aGV0aGVyIGl0IGluY3JlYXNlcy9kZWNyZWFzZXMgYXMgYSBmdW5jdGlvbiBvZiBhbm90aGVyIHZhcmlhYmxlIChvciBzaG93cyBzb21lIG90aGVycyBzdHJ1Y3R1cmUsIGUuZy4sIHNtYWxsIHZhcmlhbmNlIGF0IGxvdyBhbmQgaGlnaCBsZXZlbHMgb2YgYSBwcmVkaWN0b3IgYW5kIGhpZ2ggdmFyaWFuY2UgaW4gdGhlIG1pZGRsZSkuCk5vdGUgdGhhdCB0aGlzIGlzICpkaWZmZXJlbnQgdGhhbiB3aGV0aGVyIHRoZSByZXNpZHVhbHMgc2hvdyBub24tbGluZWFyaXRpZXMq4oCUaS5lLiwgYSBub24taG9yaXpvbnRhbCBsaW5lLCB3aGljaCB3b3VsZCBpbmRpY2F0ZSBhIFtub25saW5lYXIgYXNzb2NpYXRpb24gYmV0d2VlbiB2YXJpYWJsZXNdKCNsaW5lYXJBc3NvY2lhdGlvbikgKHNlZSBBc3N1bXB0aW9uICMxLCBhYm92ZSkuClJhdGhlciwgaGVyZSB3ZSBhcmUgZXhhbWluaW5nIHdoZXRoZXIgdGhlcmUgaXMgY2hhbmdlIGluIHRoZSB2YXJpYW5jZSBhcyBhIGZ1bmN0aW9uIG9mIGFub3RoZXIgdmFyaWFibGUgKGUuZy4sIGEgZmFuLXNoYXBlZCBbUmVzaWR1YWwgUGxvdF0oI3Jlc2lkdWFsUGxvdHMpKQoKIyMjIyMgU3ByZWFkLWxldmVsIHBsb3QKCkV4YW1pbmluZyB3aGV0aGVyIGxldmVsIChlLmcuLCBtZWFuKSBkZXBlbmRzIG9uIHNwcmVhZCAoZS5nLiwgdmFyaWFuY2Up4oCUcGxvdCBvZiBsb2cgb2YgdGhlIGFic29sdXRlIFN0dWRlbnRpemVkIHJlc2lkdWFscyBhZ2FpbnN0IHRoZSBsb2cgb2YgdGhlIGZpdHRlZCB2YWx1ZXMKCmBgYHtyfQpzcHJlYWRMZXZlbFBsb3QobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpCmBgYAoKIyMjIyMgQnJldXNjaC1QYWdhbiB0ZXN0CgpodHRwOi8vd3d3Lmluc2lkZS1yLm9yZy9wYWNrYWdlcy9jcmFuL2xtdGVzdC9kb2NzL2JwdGVzdAoKYGBge3J9CmJwdGVzdChtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyMjIyBHb2xkZmVsZC1RdWFuZHQgVGVzdAoKYGBge3J9CmdxdGVzdChtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyMjIyBUZXN0IG9mIGRlcGVuZGVuY2Ugb2Ygc3ByZWFkIG9uIGxldmVsCgpgYGB7cn0KbmN2VGVzdChtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyMjIyBUZXN0IG9mIGRlcGVuZGVuY2Ugb2Ygc3ByZWFkIG9uIHByZWRpY3RvcnMKCmBgYHtyfQpuY3ZUZXN0KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSkKYGBgCgojIyMjIFdheXMgdG8gSGFuZGxlCgotIElmIHJlc2lkdWFsIHZhcmlhbmNlIGluY3JlYXNlcyBhcyBhIGZ1bmN0aW9uIG9mIHRoZSBmaXR0ZWQgdmFsdWVzLCBjb25zaWRlciBhIHBvaXNzb24gcmVncmVzc2lvbiBtb2RlbCAoZXNwZWNpYWxseSBmb3IgY291bnQgZGF0YSksIGZvciB3aGljaCB0aGUgdmFyaWFuY2UgZG9lcyBpbmNyZWFzZSB3aXRoIHRoZSBtZWFuCi0gSWYgcmVzaWR1YWwgdmFyaWFuY2UgZGlmZmVycyBhcyBhIGZ1bmN0aW9uIG9mIG1vZGVsIHByZWRpY3RvcnMsIGNvbnNpZGVyIGFkZGluZyBpbnRlcmFjdGlvbnMvcHJvZHVjdCB0ZXJtcyAodGhlIGVmZmVjdCBvZiBvbmUgdmFyaWFibGUgZGVwZW5kcyBvbiB0aGUgbGV2ZWwgb2YgYW5vdGhlciB2YXJpYWJsZSkKLSBUcnkgdHJhbnNmb3JtaW5nIHRoZSBvdXRjb21lIHZhcmlhYmxlIHRvIGJlIG5vcm1hbGx5IGRpc3RyaWJ1dGVkIChsb2ctdHJhbnNmb3JtIGlmIHRoZSBlcnJvcnMgc2VlbSBjb25zaXN0ZW50IGluIHBlcmNlbnRhZ2UgcmF0aGVyIHRoYW4gYWJzb2x1dGUgdGVybXMpCi0gSWYgdGhlIGVycm9yIHZhcmlhbmNlIGlzIHByb3BvcnRpb25hbCB0byBhIHZhcmlhYmxlICR6JCwgdGhlbiBmaXQgdGhlIG1vZGVsIHVzaW5nIFdlaWdodGVkIExlYXN0IFNxdWFyZXMgKFdMUyksIHdpdGggdGhlIHdlaWdodHMgZ2l2ZW4gYmUgJDEveiQKLSBXZWlnaHRlZCBsZWFzdCBzcXVhcmVzIChXTFMpIHVzaW5nIHRoZSAid2VpZ2h0cyIgYXJndW1lbnQgb2YgdGhlIGBsbSgpYCBmdW5jdGlvbjsgdG8gZ2V0IHdlaWdodHMsIHNlZTogaHR0cHM6Ly9zdGF0cy5zdGFja2V4Y2hhbmdlLmNvbS9hLzEwMDQxMC8yMDMzOAotIEh1YmVyLVdoaXRlIHN0YW5kYXJkIGVycm9ycyAoYS5rLmEuICJTYW5kd2ljaCIgZXN0aW1hdGVzKSBmcm9tIGEgaGV0ZXJvc2NlZGFzdGljaXR5LWNvcnJlY3RlZCBjb3ZhcmlhbmNlIG1hdHJpeAogICAgLSBgY29lZnRlc3QoKWAgZnVuY3Rpb24gZnJvbSB0aGUgYHNhbmR3aWNoYCBwYWNrYWdlIGFsb25nIHdpdGggaGNjbSBzYW5kd2ljaCBlc3RpbWF0ZXMgZnJvbSB0aGUgYGNhcmAgcGFja2FnZSAKICAgIC0gYHJvYmNvdigpYCBmdW5jdGlvbiBmcm9tIHRoZSBgcm1zYCBwYWNrYWdlCi0gVGltZSBzZXJpZXMgZGF0YTogQVJDSCAoYXV0by1yZWdyZXNzaXZlIGNvbmRpdGlvbmFsIGhldGVyb3NjZWRhc3RpY2l0eSkgbW9kZWxzCi0gVGltZSBzZXJpZXMgZGF0YTogc2Vhc29uYWwgcGF0dGVybnMgY2FuIGJlIGFkZHJlc3NlZCBieSBhcHBseWluZyBsb2cgdHJhbnNmb3JtYXRpb24gdG8gb3V0Y29tZSB2YXJpYWJsZQoKIyMjIyMgSHViZXItV2hpdGUgc3RhbmRhcmQgZXJyb3JzCgpTdGFuZGFyZCBlcnJvcnMgKFNFcykgb24gdGhlIGRpYWdvbmFsIGluY3JlYXNlCgpgYGB7cn0KdmNvdihtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKaGNjbShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKCnN1bW1hcnkobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpCmNvZWZ0ZXN0KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCB2Y292ID0gc2FuZHdpY2gpCmNvZWZ0ZXN0KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCB2Y292ID0gaGNjbSkKCnJvYmNvdihvbHMoYnBpX2FudGlzb2NpYWxUMlN1bSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICBkYXRhID0gbXlkYXRhLAogICAgICAgICAgIHggPSBUUlVFLAogICAgICAgICAgIHkgPSBUUlVFKSkKCnJvYmNvdihvbHModF9leHQgfiBtX2V4dCArIGFnZSwKICAgICAgICAgICBkYXRhID0gbXlkYXRhLAogICAgICAgICAgIHggPSBUUlVFLAogICAgICAgICAgIHkgPSBUUlVFKSwKICAgICAgIGNsdXN0ZXIgPSBteWRhdGEkdGNpZCkgI2FjY291bnQgZm9yIG5lc3RlZCBkYXRhIHdpdGhpbiBzdWJqZWN0CmBgYAoKIyMjIDQuIEVycm9ycyBhcmUgaW5kZXBlbmRlbnQKCkluZGVwZW5kZW50IGVycm9ycyBtZWFucyB0aGF0IHRoZSBlcnJvcnMgYXJlIHVuY29ycmVsYXRlZCB3aXRoIGVhY2ggb3RoZXIuCgojIyMjIFdheXMgdG8gVGVzdAoKLSBQbG90IHJlc2lkdWFscyB2cy4gcHJlZGljdG9ycyAoW1Jlc2lkdWFsIFBsb3RzXSgjcmVzaWR1YWxQbG90cykpCi0gVGltZSBTZXJpZXMgZGF0YTogUmVzaWR1YWwgdGltZSBzZXJpZXMgcGxvdCAocmVzaWR1YWxzIHZzLiByb3cgbnVtYmVyKQotIFRpbWUgU2VyaWVzIGRhdGE6IFRhYmxlIG9yIHBsb3Qgb2YgcmVzaWR1YWwgYXV0b2NvcnJlbGF0aW9ucwotIFRpbWUgU2VyaWVzIGRhdGE6IER1cmJpbi1XYXRzb24gc3RhdGlzdGljIGZvciB0ZXN0IG9mIHNpZ25pZmljYW50IHJlc2lkdWFsIGF1dG9jb3JyZWxhdGlvbiBhdCBsYWcgMQoKIyMjIyBXYXlzIHRvIEhhbmRsZQoKLSBHZW5lcmFsaXplZCBsZWFzdCBzcXVhcmVzIChHTFMpIG1vZGVscyBhcmUgY2FwYWJsZSBvZiBoYW5kbGluZyBjb3JyZWxhdGVkIGVycm9yczogaHR0cHM6Ly9zdGF0LmV0aHouY2gvUi1tYW51YWwvUi1kZXZlbC9saWJyYXJ5L25sbWUvaHRtbC9nbHMuaHRtbAotIFJlZ3Jlc3Npb24gd2l0aCBjbHVzdGVyIHZhcmlhYmxlCiAgICAtIGByb2Jjb3YoKWAgZnJvbSBgcm1zYCBwYWNrYWdlCi0gW0hpZXJhcmNoaWNhbCBsaW5lYXIgbW9kZWxpbmddKGhsbS5odG1sKQogICAgLSBbTGluZWFyIG1peGVkIGVmZmVjdHMgbW9kZWxzXShobG0uaHRtbCNsaW5lYXIpCiAgICAtIFtHZW5lcmFsaXplZCBsaW5lYXIgbWl4ZWQgZWZmZWN0cyBtb2RlbHNdKGhsbS5odG1sI2dlbmVyYWxpemVkKQogICAgLSBbTm9ubGluZWFyIG1peGVkIGVmZmVjdHMgbW9kZWxzXShobG0uaHRtbCNub25saW5lYXIpCgojIyMgNS4gTm8gbXVsdGljb2xsaW5lYXJpdHkKCk11bHRpY29sbGluZWFyaXR5IG9jY3VycyB3aGVuIHRoZSBwcmVkaWN0b3JzIGFyZSBjb3JyZWxhdGVkIHdpdGggZWFjaCBvdGhlci4KCiMjIyMgV2F5cyB0byBUZXN0CgotIFZhcmlhbmNlIEluZmxhdGlvbiBGYWN0b3IgKFZJRikKLSBHZW5lcmFsaXplZCBWYXJpYW5jZSBJbmZsYXRpb24gRmFjdG9yIChHVklGKeKAlHdoZW4gbW9kZWxzIGhhdmUgcmVsYXRlZCByZWdyZXNzb3JzIChtdWx0aXBsZSBwb2x5bm9taWFsIHRlcm1zIG9yIGNvbnRyYXN0cyBmcm9tIHNhbWUgcHJlZGljdG9yKQotIENvcnJlbGF0aW9uCi0gVG9sZXJhbmNlCi0gQ29uZGl0aW9uIEluZGV4CgojIyMjIyBWYXJpYW5jZSBJbmZsYXRpb24gRmFjdG9yIChWSUYpCgokJApcdGV4dHtWSUZ9ID0gMS9cdGV4dHtUb2xlcmFuY2V9CiQkCgoKSWYgdGhlIHZhcmlhbmNlIGluZmxhdGlvbiBmYWN0b3Igb2YgYSBwcmVkaWN0b3IgdmFyaWFibGUgd2VyZSA1LjI3ICgkXHNxcnR7NS4yN30gPSAyLjMkKSwgdGhpcyBtZWFucyB0aGF0IHRoZSBzdGFuZGFyZCBlcnJvciBmb3IgdGhlIGNvZWZmaWNpZW50IG9mIHRoYXQgcHJlZGljdG9yIHZhcmlhYmxlIGlzIDIuMyB0aW1lcyBhcyBsYXJnZSAoaS5lLiwgY29uZmlkZW5jZSBpbnRlcnZhbCBpcyAyLjMgdGltZXMgd2lkZXIpIGFzIGl0IHdvdWxkIGJlIGlmIHRoYXQgcHJlZGljdG9yIHZhcmlhYmxlIHdlcmUgdW5jb3JyZWxhdGVkIHdpdGggdGhlIG90aGVyIHByZWRpY3RvciB2YXJpYWJsZXMuCgpWSUYgPSAxOiBOb3QgY29ycmVsYXRlZFwKMSA8IFZJRiA8IDU6IE1vZGVyYXRlbHkgY29ycmVsYXRlZFwKVklGID4gNSB0byAxMDogSGlnaGx5IGNvcnJlbGF0ZWQgKG11bHRpY29sbGluZWFyaXR5IHByZXNlbnQpCgpgYGB7cn0KdmlmKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpgYGAKCiMjIyMjIEdlbmVyYWxpemVkIFZhcmlhbmNlIEluZmxhdGlvbiBGYWN0b3IgKEdWSUYpCgpVc2VmdWwgd2hlbiBtb2RlbHMgaGF2ZSByZWxhdGVkIHJlZ3Jlc3NvcnMgKG11bHRpcGxlIHBvbHlub21pYWwgdGVybXMgb3IgY29udHJhc3RzIGZyb20gc2FtZSBwcmVkaWN0b3IpCgojIyMjIyBDb3JyZWxhdGlvbgoKY29ycmVsYXRpb24gYW1vbmcgYWxsIGluZGVwZW5kZW50IHZhcmlhYmxlcyB0aGUgY29ycmVsYXRpb24gY29lZmZpY2llbnRzIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4gLjA4CgpgYGB7cn0KY29yKG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtIildLCB1c2UgPSAicGFpcndpc2UuY29tcGxldGUub2JzIikKYGBgCgojIyMjIyBUb2xlcmFuY2UKClRoZSB0b2xlcmFuY2UgaXMgYW4gaW5kZXggb2YgdGhlIGluZmx1ZW5jZSBvZiBvbmUgaW5kZXBlbmRlbnQgdmFyaWFibGUgb24gYWxsIG90aGVyIGluZGVwZW5kZW50IHZhcmlhYmxlcy4KCiQkClx0ZXh0e3RvbGVyYW5jZX0gPSAxL1x0ZXh0e1ZJRn0KJCQKClQgPCAwLjI6IHRoZXJlIG1pZ2h0IGJlIG11bHRpY29sbGluZWFyaXR5IGluIHRoZSBkYXRhXApUIDwgMC4wMTogdGhlcmUgY2VydGFpbmx5IGlzIG11bHRpY29sbGluYXJpdHkgaW4gdGhlIGRhdGEKCiMjIyMjIENvbmRpdGlvbiBJbmRleAoKVGhlIGNvbmRpdGlvbiBpbmRleCBpcyBjYWxjdWxhdGVkIHVzaW5nIGEgZmFjdG9yIGFuYWx5c2lzIG9uIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMuClZhbHVlcyBvZiAxMC0zMCBpbmRpY2F0ZSBhIG1lZGlvY3JlIG11bHRpY29sbGluZWFyaXR5IGluIHRoZSByZWdyZXNzaW9uIHZhcmlhYmxlcy4KVmFsdWVzID4gMzAgaW5kaWNhdGUgc3Ryb25nIG11bHRpY29sbGluZWFyaXR5LgoKRm9yIGhvdyB0byBpbnRlcnByZXQsIHNlZSBoZXJlOiBodHRwczovL3N0YXRzLnN0YWNrZXhjaGFuZ2UuY29tL2EvODc2MTAvMjAzMzgKCmBgYHtyfQpvbHNfZWlnZW5fY2luZGV4KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpgYGAKCiMjIyMgV2F5cyB0byBIYW5kbGUKCi0gUmVtb3ZlIGhpZ2hseSBjb3JyZWxhdGVkIChpLmUuLCByZWR1bmRhbnQpIHByZWRpY3RvcnMKLSBBdmVyYWdlIHRoZSBjb3JyZWxhdGVkIHByZWRpY3RvcnMKLSBbUHJpbmNpcGFsIENvbXBvbmVudCBBbmFseXNpc10ocGNhLmh0bWwpIGZvciBkYXRhIHJlZHVjdGlvbgotIFN0YW5kYXJkaXplIHByZWRpY3RvcnMKLSBDZW50ZXIgdGhlIGRhdGEgKGRlZHVjdCB0aGUgbWVhbikKLSBTaW5ndWxhci12YWx1ZSBkZWNvbXBvc2l0aW9uIG9mIHRoZSBtb2RlbCBtYXRyaXggb3IgdGhlIG1lYW4tY2VudGVyZWQgbW9kZWwgbWF0cml4Ci0gQ29uZHVjdCBhIFtmYWN0b3IgYW5hbHlzaXNdKCNmYWN0b3JBbmFseXNpcy5odG1sKSBhbmQgcm90YXRlIHRoZSBmYWN0b3JzIHRvIGVuc3VyZSBpbmRlcGVuZGVuY2Ugb2YgdGhlIGZhY3RvcnMKCiMjIyA2LiBFcnJvcnMgYXJlIG5vcm1hbGx5IGRpc3RyaWJ1dGVkCgojIyMjIFdheXMgdG8gVGVzdAoKLSBQcm9iYWJpbGl0eSBQbG90cwogICAgLSBbTm9ybWFsIFF1YW50aWxlIChRUSkgUGxvdHNdKCNxcVBsb3QpIChiYXNlZCBvbiBub24tY3VtdWxhdGl2ZSBkaXN0cmlidXRpb24gb2YgcmVzaWR1YWxzKQogICAgLSBbTm9ybWFsIFByb2JhYmlsaXR5IChQUCkgUGxvdHNdKCNwcFBsb3QpIChiYXNlZCBvbiBjdW11bGF0aXZlIGRpc3RyaWJ1dGlvbiBvZiByZXNpZHVhbHMpCi0gW0RlbnNpdHkgUGxvdCBvZiBSZXNpZHVhbHNdKCNkZW5zaXR5UGxvdFJlc2lkdWFscykKLSBTdGF0aXN0aWNhbCBUZXN0cwogICAgLSBLb2xtb2dvcm92LVNtaXJub3YgdGVzdAogICAgLSBTaGFwaXJvLVdpbGsgdGVzdAogICAgLSBKYXJxdWUtQmVyYSB0ZXN0CiAgICAtIEFuZGVyc29uLURhcmxpbmcgdGVzdCAoYmVzdCB0ZXN0KQotIEV4YW1pbmUgaW5mbHVlbmNlIG9mIG91dGxpZXJzCgojIyMjIFdheXMgdG8gSGFuZGxlCgotIEFwcGx5IGEgdHJhbnNmb3JtYXRpb24gdG8gdGhlIHByZWRpY3RvciBvciBvdXRjb21lIHZhcmlhYmxlCi0gRXhjbHVkZSBvdXRsaWVycwotIFJvYnVzdCByZWdyZXNzaW9uCiAgICAtIEJlc3Qgd2hlbiBubyBvdXRsaWVyczogTU0tdHlwZSByZWdyZXNzaW9uIGVzdGltYXRvcgogICAgICAgIC0gYGxtcm9iKClgL2BnbG1yb2IoKWAgZnVuY3Rpb24gb2YgYHJvYnVzdGJhc2VgIHBhY2thZ2UKICAgICAgICAtIEl0ZXJhdGl2ZWx5IHJld2VpZ2h0ZWQgbGVhc3Qgc3F1YXJlcyAoSVJMUyk6IGBybG0oLCBtZXRob2QgPSAiTU0iKWAgZnVuY3Rpb24gb2YgYE1BU1NgIHBhY2thZ2U6IGh0dHA6Ly93d3cuYXRzLnVjbGEuZWR1L3N0YXQvci9kYWUvcnJlZy5odG0KICAgIC0gTW9zdCByZXNpc3RhbnQgdG8gb3V0bGllcnM6IExlYXN0IHRyaW1tZWQgc3F1YXJlcyAoTFRTKeKAlGJ1dCBub3QgZ29vZCBhcyBhIHN0YW5kYWxvbmUgZXN0aW1hdG9yLCBiZXR0ZXIgZm9yIGlkZW50aWZ5aW5nIG91dGxpZXJzCiAgICAgICAgLSBgbHRzUmVnKClgIGZ1bmN0aW9uIG9mIGByb2J1c3RiYXNlYCBwYWNrYWdlIChiZXN0KQogICAgLSBCZXN0IHdoZW4gc2luZ2xlIHByZWRpY3RvcjogVGhlaWwtU2VuIGVzdGltYXRvcgogICAgICAgIC0gYG1ibG0oLCByZXBlYXRlZCA9IEZBTFNFKWAgZnVuY3Rpb24gb2YgYG1ibG1gIHBhY2thZ2UKICAgIC0gUm9idXN0IGNvcnJlbGF0aW9uCiAgICAgICAgLSBTcGVhcm1hbidzIHJobzogYGNvcigsIG1ldGhvZCA9ICJzcGVhcm1hbiIpYAogICAgICAgIC0gUGVyY2VudGFnZSBiZW5kIGNvcnJlbGF0aW9uCiAgICAgICAgLSBNaW5pbXVtIHZvbGx1bWUgZWxsaXBzb2lkCiAgICAgICAgLSBNaW5pbXVtIGNvdmFyaWFuY2UgZGV0ZXJtaW5hbnQ6CiAgICAgICAgLSBXaW5zb3JpemVkIGNvcnJlbGF0aW9uCiAgICAgICAgLSBCaXdlaWdodCBtaWRjb3JyZWxhdGlvbgogICAgLSBOb3QgZ3JlYXQgb3B0aW9uczoKICAgICAgICAtIFF1YW50aWxlIChMMSkgcmVncmVzc2lvbjogYHJxKClgIGZ1bmN0aW9uIG9mIGBxdWFudHJlZ2AgcGFja2FnZQoKIyMjIyMgVHJhbnNmb3JtYXRpb25zIG9mIE91dGNvbWUgVmFyaWFibGUKCiMjIyMjIyBCb3gtQ294IFRyYW5zZm9ybWF0aW9uCgpVc2VmdWwgaWYgdGhlIG91dGNvbWUgaXMgc3RyaWN0bHkgcG9zaXRpdmUgKG9yIGFkZCBhIGNvbnN0YW50IHRvIG91dGNvbWUgdG8gbWFrZSBpdCBzdHJpY3RseSBwb3NpdGl2ZSkKCmxhbWJkYSA9IC0xOiBpbnZlcnNlIHRyYW5zZm9ybWF0aW9uXApsYW1iZGEgPSAtMC41OiAxL3NxcnQoWSlcCmxhbWJkYSA9IDA6IGxvZyB0cmFuc2Zvcm1hdGlvblwKbGFtYmRhID0gMC41OiBzcXVhcmUgcm9vdFwKbGFtYmRhID0gMC4zMzM6IGN1YmUgcm9vdFwKbGFtYmRhID0gMTogbm8gdHJhbnNmb3JtYXRpb25cCmxhbWJkYSA9IDI6IHNxdWFyZWRcCgojIyMjIyMjIFJhdyBkaXN0cmlidXRpb24KCmBgYHtyfQpwbG90KGRlbnNpdHkobmEub21pdChteWRhdGEkYnBpX2FudGlzb2NpYWxUMlN1bSkpKQpgYGAKCiMjIyMjIyMgQWRkIGNvbnN0YW50IHRvIG91dGNvbWUgdG8gbWFrZSBpdCBzdHJpY3RseSBwb3NpdGl2ZQoKYGBge3J9CnN0cmljdGx5UG9zaXRpdmVEViA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtICsgMSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKQpgYGAKCiMjIyMjIyMgSWRlbnRpZnkgYmVzdCBwb3dlciB0cmFuc2Zvcm1hdGlvbiAobGFtYmRhKQoKQ29uc2lkZXIgcm91bmRpbmcgdGhlIHBvd2VyIHRvIGEgY29tbW9uIHZhbHVlIChzcXVhcmUgcm9vdCA9IC41OyBjdWJlIHJvb3QgPSAuMzMzOyBzcXVhcmVkID0gMikKCmBgYHtyfQpib3hDb3goc3RyaWN0bHlQb3NpdGl2ZURWKQpwb3dlclRyYW5zZm9ybShzdHJpY3RseVBvc2l0aXZlRFYpIAp0cmFuc2Zvcm1lZERWIDwtIHBvd2VyVHJhbnNmb3JtKHN0cmljdGx5UG9zaXRpdmVEVikKCnN1bW1hcnkodHJhbnNmb3JtZWREVikKYGBgCgojIyMjIyMjIFRyYW5zZm9ybSB0aGUgRFYKCmBgYHtyfQpteWRhdGEkYnBpX2FudGlzb2NpYWxUMlN1bVRyYW5zZm9ybWVkIDwtIGJjUG93ZXIobXlkYXRhJGJwaV9hbnRpc29jaWFsVDJTdW0gKyAxLCBjb2VmKHRyYW5zZm9ybWVkRFYpKQoKcGxvdChkZW5zaXR5KG5hLm9taXQobXlkYXRhJGJwaV9hbnRpc29jaWFsVDJTdW1UcmFuc2Zvcm1lZCkpKQpgYGAKCiMjIyMjIyMgQ29tcGFyZSByZXNpZHVhbHMgZnJvbSBtb2RlbCB3aXRoIGFuZCB3aXRob3V0IHRyYW5zZm9ybWF0aW9uCgojIyMjIyMjIyBNb2RlbCB3aXRob3V0IHRyYW5zZm9ybWF0aW9uCgpgYGB7cn0Kc3VtbWFyeShtb2RlbFdpdGhvdXRUcmFuc2Zvcm1hdGlvbiA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtICsgMSB+IGJwaV9hbnRpc29jaWFsVDFTdW0gKyBicGlfYW54aW91c0RlcHJlc3NlZFN1bSwKICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKSkKcGxvdChkZW5zaXR5KG5hLm9taXQoc3R1ZHJlcyhtb2RlbFdpdGhvdXRUcmFuc2Zvcm1hdGlvbikpKSkKYGBgCgojIyMjIyMjIyBNb2RlbCB3aXRoIHRyYW5zZm9ybWF0aW9uCgpgYGB7cn0Kc3VtbWFyeShtb2RlbFdpdGhUcmFuc2Zvcm1hdGlvbiA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtVHJhbnNmb3JtZWQgfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKSkKCnBsb3QoZGVuc2l0eShuYS5vbWl0KHN0dWRyZXMobW9kZWxXaXRoVHJhbnNmb3JtYXRpb24pKSkpCmBgYAoKIyMjIyMjIyBDb25zdHJ1Y3RlZCBWYXJpYWJsZSBUZXN0ICYgUGxvdAoKQSBzaWduaWZpY2FudCAqcCotdmFsdWUgaW5kaWNhdGVzIGEgc3Ryb25nIG5lZWQgdG8gdHJhbnNmb3JtIHZhcmlhYmxlOgoKYGBge3J9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsX2NvbnN0cnVjdGVkVmFyaWFibGUgPC0gdXBkYXRlKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCAuIH4gLiArIGJveENveFZhcmlhYmxlKGJwaV9hbnRpc29jaWFsVDFTdW0gKyAxKSkKc3VtbWFyeShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbF9jb25zdHJ1Y3RlZFZhcmlhYmxlKSRjb2VmWyJib3hDb3hWYXJpYWJsZShicGlfYW50aXNvY2lhbFQxU3VtICsgMSkiLCAsIGRyb3AgPSBGQUxTRV0KYGBgCgpQbG90IGFsbG93cyB1cyB0byBzZWUgd2hldGhlciB0aGUgbmVlZCBmb3IgdHJhbnNmb3JtYXRpb24gaXMgc3ByZWFkIHRocm91Z2ggZGF0YSBvciB3aGV0aGVyIGl0IGlzIGp1c3QgZGVwZW5kZW50IG9uIGEgc21hbGwgZnJhY3Rpb24gb2Ygb2JzZXJ2YXRpb25zOgoKYGBge3J9CmF2UGxvdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfY29uc3RydWN0ZWRWYXJpYWJsZSwgImJveENveFZhcmlhYmxlKGJwaV9hbnRpc29jaWFsVDFTdW0gKyAxKSIpCmBgYAoKIyMjIyMjIyBJbnZlcnNlIFJlc3BvbnNlIFBsb3QKClRoZSBibGFjayBsaW5lIGlzIHRoZSBiZXN0LWZpdHRpbmcgcG93ZXIgdHJhbnNmb3JtYXRpb246CgpgYGB7cn0KaW52ZXJzZVJlc3BvbnNlUGxvdChzdHJpY3RseVBvc2l0aXZlRFYsIGxhbWJkYSA9IGMoLTEsLTAuNSwwLDEvMywuNSwxLDIpKQpgYGAKCiMjIyMjIyBZZW8tSm9obnNvbiBUcmFuc2Zvcm1hdGlvbnMKClVzZWZ1bCBpZiB0aGUgb3V0Y29tZSBpcyBub3Qgc3RyaWN0bHkgcG9zaXRpdmUuCgpgYGB7ciwgZXZhbCA9IEZBTFNFfQp5alBvd2VyKERWLCBsYW1iZGEpCmBgYAoKIyMjIyMgVHJhbnNmb3JtYXRpb25zIG9mIFByZWRpY3RvciBWYXJpYWJsZQoKIyMjIyMjIENvbXBvbmVudC1QbHVzLVJlc2lkdWFsIFBsb3RzIChQYXJ0aWFsIFJlc2lkdWFsIFBsb3RzKQoKTGluZWFyIG1vZGVsOgoKYGBge3J9CmNyUGxvdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxOb01pc3NpbmcsIG9yZGVyID0gMSkKYGBgCgpRdWFkcmF0aWMgbW9kZWw6CgpgYGB7cn0KY3JQbG90cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbE5vTWlzc2luZywgb3JkZXIgPSAyKQpgYGAKCgpgYGB7cn0KbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfcXVhZHJhdGljIDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgSShicGlfYW50aXNvY2lhbFQxU3VtXjIpICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbXlkYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSkKCnN1bW1hcnkobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfcXVhZHJhdGljKQphbm92YShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbF9xdWFkcmF0aWMsIG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpjclBsb3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsX3F1YWRyYXRpYywgb3JkZXIgPSAxKQpgYGAKCiMjIyMjIyBDRVJFUyBQbG90IChDb21iaW5pbmcgY29uZGl0aW9uYWwgRXhwZWN0YXRpb25zIGFuZCBSRVNpZHVhbHMpCgpVc2VmdWwgd2hlbiBub25saW5lYXIgYXNzb2NpYXRpb25zIGFtb25nIHRoZSBwcmVkaWN0b3JzIGFyZSB2ZXJ5IHN0cm9uZyAoY29tcG9uZW50LXBsdXMtcmVzaWR1YWwgcGxvdHMgbWF5IGFwcGVhciBub25saW5lYXIgZXZlbiB0aG91Z2ggdGhlIHRydWUgcGFydGlhbCByZWdyZXNzaW9uIGlzIGxpbmVhciwgYSBwaGVub25vbWVuIGNhbGxlZCBsZWFrYWdlKQoKYGBge3J9CmNlcmVzUGxvdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpCmNlcmVzUGxvdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfcXVhZHJhdGljKQpgYGAKCiMjIyMjIyBCb3gtVGlkd2VsbCBNZXRob2QgZm9yIENob29zaW5nIFByZWRpY3RvciBUcmFuc2Zvcm1hdGlvbnMKCnByZWRpY3RvcnMgbXVzdCBiZSBzdHJpY3RseSBwb3NpdGl2ZSAob3IgYWRkIGEgY29uc3RhbnQgdG8gbWFrZSBpdCBzdHJpY3RseSBwb3NpdGl2ZSkKCmBgYHtyfQpib3hUaWR3ZWxsKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBJKGJwaV9hbnRpc29jaWFsVDFTdW0gKyAxKSArIEkoYnBpX2FueGlvdXNEZXByZXNzZWRTdW0gKyAxKSwKICAgICAgICAgICBvdGhlci54ID0gTlVMTCwgI2xpc3QgdmFyaWFibGVzIG5vdCB0byBiZSB0cmFuc2Zvcm1lZCBpbiBvdGhlci54CiAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlKQpgYGAKCiMjIyMjIyBDb25zdHJ1Y3RlZC1WYXJpYWJsZXMgUGxvdAoKYGBge3J9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsX2N2IDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBJKGJwaV9hbnRpc29jaWFsVDFTdW0gKyAxKSArIEkoYnBpX2FueGlvdXNEZXByZXNzZWRTdW0gKyAxKSArIEkoYnBpX2FudGlzb2NpYWxUMVN1bSAqIGxvZyhicGlfYW50aXNvY2lhbFQxU3VtKSkgKyBJKGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtICogbG9nKGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpzdW1tYXJ5KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsX2N2KSRjb2VmWyJJKGJwaV9hbnRpc29jaWFsVDFTdW0gKiBsb2coYnBpX2FudGlzb2NpYWxUMVN1bSkpIiwgLCBkcm9wID0gRkFMU0VdCnN1bW1hcnkobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfY3YpJGNvZWZbIkkoYnBpX2FueGlvdXNEZXByZXNzZWRTdW0gKiBsb2coYnBpX2FueGlvdXNEZXByZXNzZWRTdW0pKSIsICwgZHJvcCA9IEZBTFNFXQoKYXZQbG90cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbF9jdiwgIkkoYnBpX2FudGlzb2NpYWxUMVN1bSAqIGxvZyhicGlfYW50aXNvY2lhbFQxU3VtKSkiKQphdlBsb3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsX2N2LCAiSShicGlfYW54aW91c0RlcHJlc3NlZFN1bSAqIGxvZyhicGlfYW54aW91c0RlcHJlc3NlZFN1bSkpIikKYGBgCgojIyMjIyBSb2J1c3QgbW9kZWxzCgpSZXNvdXJjZXMKCi0gRm9yIGNvbXBhcmlzb24gb2YgbWV0aG9kcywgc2VlIEJvb2s6ICJNb2Rlcm4gTWV0aG9kcyBmb3IgUm9idXN0IFJlZ3Jlc3Npb24iCi0gaHR0cDovL3d3dy5hdHMudWNsYS5lZHUvc3RhdC9yL2RhZS9ycmVnLmh0bQotIGh0dHA6Ly9zdGF0cy5zdGFja2V4Y2hhbmdlLmNvbS9hLzQ2MjM0LzIwMzM4Ci0gaHR0cDovL2NyYW4uci1wcm9qZWN0Lm9yZy93ZWIvdmlld3MvUm9idXN0Lmh0bWwKCgojIyMjIyMgUm9idXN0IGNvcnJlbGF0aW9uCgojIyMjIyMjIFNwZWFybWFuJ3MgcmhvCgpTcGVhcm1hbidzIHJobyBpcyBhIG5vbi1wYXJhbWV0cmljIGNvcnJlbGF0aW9uLgoKYGBge3J9CmNvci50ZXN0KG15ZGF0YSRicGlfYW50aXNvY2lhbFQxU3VtLCBteWRhdGEkYnBpX2FudGlzb2NpYWxUMlN1bSkgI1BlYXJzb24gciwgY29ycmVsYXRpb24gdGhhdCBpcyBzZW5zaXRpdmUgdG8gb3V0bGllcnMKY29yLnRlc3QobXlkYXRhJGJwaV9hbnRpc29jaWFsVDFTdW0sIG15ZGF0YSRicGlfYW50aXNvY2lhbFQyU3VtLCBtZXRob2QgPSAic3BlYXJtYW4iKSAjU3BlYXJtYW4ncyByaG8sIGEgcmFuayBjb3JyZWxhdGlvbiB0aGF0IGlzIGxlc3Mgc2Vuc2l0aXZlIHRvIG91dGxpZXJzCmBgYAoKIyMjIyMjIyBNaW5pbXVtIHZvbGx1bWUgZWxsaXBzb2lkCgpgYGB7cn0KY292Lm12ZShuYS5vbWl0KG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0pLCBjb3IgPSBUUlVFKQpgYGAKCiMjIyMjIyMgTWluaW11bSBjb3ZhcmlhbmNlIGRldGVybWluYW50CgpgYGB7cn0KY292Lm1jZChuYS5vbWl0KG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0pLCBjb3IgPSBUUlVFKQpgYGAKCiMjIyMjIyMgV2luc29yaXplZCBjb3JyZWxhdGlvbgoKYGBge3J9CmNvcnJlbGF0aW9uKG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0sIHdpbnNvcml6ZSA9IDAuMiwgcF9hZGp1c3QgPSAibm9uZSIpCmBgYAoKIyMjIyMjIyBQZXJjZW50YWdlIGJlbmQgY29ycmVsYXRpb24KCmBgYHtyfQpjb3JyZWxhdGlvbihteWRhdGFbLGMoImJwaV9hbnRpc29jaWFsVDFTdW0iLCJicGlfYW50aXNvY2lhbFQyU3VtIildLCBtZXRob2QgPSAicGVyY2VudGFnZSIsIHBfYWRqdXN0ID0gIm5vbmUiKQpgYGAKCiMjIyMjIyMgQml3ZWlnaHQgbWlkY29ycmVsYXRpb24KCmBgYHtyfQpjb3JyZWxhdGlvbihteWRhdGFbLGMoImJwaV9hbnRpc29jaWFsVDFTdW0iLCJicGlfYW50aXNvY2lhbFQyU3VtIildLCBtZXRob2QgPSAiYml3ZWlnaHQiLCBwX2FkanVzdCA9ICJub25lIikKYGBgCgojIyMjIyMgUm9idXN0IHJlZ3Jlc3Npb24gd2l0aCBhIHNpbmdsZSBwcmVkaWN0b3IKCiMjIyMjIyMgVGhlaWwtU2VuIGVzdGltYXRvcgoKVGhlIFRoZWlsLVNlbiBzaW5nbGUgbWVkaWFuIGVzdGltYXRvciBpcyByb2J1c3QgdG8gb3V0bGllcnM7IGhhdmUgdG8gcmVtb3ZlIG1pc3NpbmcgdmFsdWVzIGZpcnN0CgpgYGB7cn0KbXlkYXRhX3N1YnNldCA8LSBuYS5vbWl0KG15ZGF0YVssYygiYnBpX2FudGlzb2NpYWxUMVN1bSIsImJwaV9hbnRpc29jaWFsVDJTdW0iKV0pWzE6NDAwLF0KbWJsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSwgZGF0YWZyYW1lID0gbXlkYXRhX3N1YnNldCwgcmVwZWF0ZWQgPSBGQUxTRSkKYGBgCgojIyMjIyMgUm9idXN0IG11bHRpcGxlIHJlZ3Jlc3Npb24KCkJlc3Qgd2hlbiBubyBvdXRsaWVyczogTU0tdHlwZSByZWdyZXNzaW9uIGVzdGltYXRvcgoKIyMjIyMjIyBSb2J1c3QgbGluZWFyIHJlZ3Jlc3Npb24KCk1NLXR5cGUgcmVncmVzc2lvbiBlc3RpbWF0b3IgKGJlc3QpOgoKYGBge3J9Cmxtcm9iKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgIGRhdGEgPSBteWRhdGEsCiAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCmBgYAoKSXRlcmF0aXZlbHkgcmV3ZWlnaHRlZCBsZWFzdCBzcXVhcmVzIChJUkxTKTogaHR0cDovL3d3dy5hdHMudWNsYS5lZHUvc3RhdC9yL2RhZS9ycmVnLmh0bQoKYGBge3J9CnJsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgZGF0YSA9IG15ZGF0YSwKICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCmBgYAoKIyMjIyMjIyBSb2J1c3QgZ2VuZXJhbGl6ZWQgcmVncmVzc2lvbgoKYGBge3IsIHdhcm5pbmcgPSBGQUxTRX0KZ2xtcm9iKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICBkYXRhID0gbXlkYXRhLAogICAgZmFtaWx5ID0gInBvaXNzb24iLAogICAgbmEuYWN0aW9uID0gIm5hLmV4Y2x1ZGUiKQpgYGAKCk1vc3QgcmVzaXN0YW50IHRvIG91dGxpZXJzOiBMZWFzdCB0cmltbWVkIHNxdWFyZXMgKExUUynigJRidXQgbm90IGdvb2QgYXMgYSBzdGFuZGFsb25lIGVzdGltYXRvciwgYmV0dGVyIGZvciBpZGVudGlmeWluZyBvdXRsaWVycwoKYGBge3J9Cmx0c1JlZyhicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCmBgYAoKIyMjIyMjIyMgTm90IGdyZWF0IG9wdGlvbnM6CgpRdWFudGlsZSAoTDEpIHJlZ3Jlc3Npb246IGBycSgpYCBmdW5jdGlvbiBvZiBxdWFudHJlZyBwYWNrYWdlCgpodHRwczovL2RhdGEubGlicmFyeS52aXJnaW5pYS5lZHUvZ2V0dGluZy1zdGFydGVkLXdpdGgtcXVhbnRpbGUtcmVncmVzc2lvbi8KCmBgYHtyfQpxdWFudGlsZXMgPC0gMTo5LzEwCgpxdWFudGlsZVJlZ3Jlc3Npb25Nb2RlbCA8LSBycSgKICBicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogIGRhdGEgPSBteWRhdGEsCiAgdGF1ID0gcXVhbnRpbGVzLAogIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUpCgpxdWFudGlsZVJlZ3Jlc3Npb25Nb2RlbApzdW1tYXJ5KHF1YW50aWxlUmVncmVzc2lvbk1vZGVsKQpgYGAKClBsb3QgdG8gZXhhbWluZSB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUgcHJlZGljdG9yIGFuZCB0aGUgb3V0Y29tZSBhdCBkaWZmZXJlbnQgbGV2ZWxzIChpLmUuLCBxdWFudGlsZXMpIG9mIHRoZSBwcmVkaWN0b3I6CgpgYGB7cn0KZ2dwbG90KAogIG15ZGF0YSwKICBhZXMoYnBpX2FudGlzb2NpYWxUMVN1bSwgYnBpX2FudGlzb2NpYWxUMlN1bSkpICsgCiAgZ2VvbV9wb2ludCgpICsgCiAgZ2VvbV9xdWFudGlsZSgKICAgIHF1YW50aWxlcyA9IHF1YW50aWxlcywKICAgIGFlcyhjb2xvciA9IGZhY3RvcihhZnRlcl9zdGF0KHF1YW50aWxlKSkpKQpgYGAKCkJlbG93IGlzIGEgcGxvdCB0aGF0IGV4YW1pbmVzIHRoZSBkaWZmZXJlbmNlIGluIHF1YW50aWxlIGNvZWZmaWNpZW50cyAoYW5kIGFzc29jaWF0ZWQgY29uZmlkZW5jZSBpbnRlcnZhbHMpIGF0IGRpZmZlcmVudCBsZXZlbHMgKGkuZS4sIHF1YW50aWxlcykgb2YgdGhlIHByZWRpY3Rvci4KVGhlIHgtYXhpcyBpcyB0aGUgcXVhbnRpbGUgb2YgdGhlIHByZWRpY3Rvci4KVGhlIHktYXhpcyBpcyB0aGUgc2xvcGUgY29lZmZpY2llbnQuCkVhY2ggYmxhY2sgZG90IGlzIHRoZSBzbG9wZSBjb2VmZmljaWVudCBmb3IgdGhlIGdpdmVuIHF1YW50aWxlIG9mIHRoZSBwcmVkaWN0b3IuClRoZSByZWQgbGluZXMgYXJlIHRoZSBsZWFzdCBzcXVhcmVzIGVzdGltYXRlIG9mIHRoZSBzbG9wZSBjb2VmZmljaWVudCBhbmQgaXRzIGNvbmZpZGVuY2UgaW50ZXJ2YWwuCgpgYGB7cn0KcGxvdChzdW1tYXJ5KHF1YW50aWxlUmVncmVzc2lvbk1vZGVsKSkKCnBsb3QoCiAgc3VtbWFyeShxdWFudGlsZVJlZ3Jlc3Npb25Nb2RlbCksCiAgcGFybSA9ICJicGlfYW50aXNvY2lhbFQxU3VtIikKYGBgCgojIyBFeGFtaW5pbmcgTW9kZWwgQXNzdW1wdGlvbnMKCiMjIyBEaXN0cmlidXRpb24gb2YgUmVzaWR1YWxzCgojIyMjIFFRIHBsb3RzIHsjcXFQbG90fQoKaHR0cDovL3d3dy51Y2QuaWUvZWNvbW9kZWwvUmVzb3VyY2VzL1FRcGxvdHNfV2ViVmVyc2lvbi5odG1sCgpgYGB7cn0KcXFQbG90KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCBtYWluID0gIlFRIFBsb3QiLCBpZCA9IFRSVUUpCgpxcW5vcm0ocmVzaWQobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpxcW5vcm0ocmVzaWQocm1zTXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpxcW5vcm0ocmVzaWQocm9idXN0TGluZWFyUmVncmVzc2lvbikpCnFxbm9ybShyZXNpZChsdHNSZWdyZXNzaW9uKSkKCnFxbm9ybShyZXNpZChnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkpCnFxbm9ybShyZXNpZChybXNHZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkpCnFxbm9ybShyZXNpZChyb2J1c3RHZW5lcmFsaXplZFJlZ3Jlc3Npb24pKQoKcXFub3JtKHJlc2lkKG11bHRpbGV2ZWxSZWdyZXNzaW9uTW9kZWwpKQpgYGAKCiMjIyMgUFAgcGxvdHMgeyNwcFBsb3R9CgpgYGB7cn0KcHBQbG90KG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKQpwcFBsb3Qocm1zTXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpCnBwUGxvdChyb2J1c3RMaW5lYXJSZWdyZXNzaW9uKQpwcFBsb3QobHRzUmVncmVzc2lvbikKCnBwUGxvdChnZW5lcmFsaXplZFJlZ3Jlc3Npb25Nb2RlbCkKcHBQbG90KHJtc0dlbmVyYWxpemVkUmVncmVzc2lvbk1vZGVsKQpwcFBsb3Qocm9idXN0R2VuZXJhbGl6ZWRSZWdyZXNzaW9uKQpgYGAKCiMjIyMgRGVuc2l0eSBQbG90IG9mIFJlc2lkdWFscyB7I2RlbnNpdHlQbG90UmVzaWR1YWxzfQoKYGBge3J9CnN0dWRlbnRpemVkUmVzaWR1YWxzIDwtIG5hLm9taXQocnN0dWRlbnQobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpwbG90KGRlbnNpdHkoc3R1ZGVudGl6ZWRSZXNpZHVhbHMpLCBjb2w9InJlZCIpCnhmaXQgPC0gc2VxKG1pbihzdHVkZW50aXplZFJlc2lkdWFscywgbmEucm09VFJVRSksIG1heChzdHVkZW50aXplZFJlc2lkdWFscywgbmEucm09VFJVRSksIGxlbmd0aD00MCkKbGluZXMoeGZpdCwgZG5vcm0oeGZpdCksIGNvbD0iZ3JheSIpICNjb21wYXJlIHRvIG5vcm1hbCBkaXN0cmlidXRpb24KYGBgCgojIyMgUmVzaWR1YWwgUGxvdHMgeyNyZXNpZHVhbFBsb3RzfQoKUmVzaWR1YWwgcGxvdHMgYXJlIHBsb3RzIG9mIHRoZSByZXNpZHVhbHMgdmVyc3VzIG9ic2VydmVkL2ZpdHRlZCB2YWx1ZXMuCgpJbmNsdWRlcyBwbG90cyBvZiBhKSBtb2RlbCByZXNpZHVhbHMgdmVyc3VzIG9ic2VydmVkIHZhbHVlcyBvbiBwcmVkaWN0b3JzIGFuZCBiKSBtb2RlbCByZXNpZHVhbHMgdmVyc3VzIG1vZGVsIGZpdHRlZCB2YWx1ZXMuCgpOb3RlOiBoYXZlIHRvIHJlbW92ZSBgbmEuYWN0aW9uID0gbmEuZXhjbHVkZWAKClRlc3RzIGluY2x1ZGU6CgotIGxhY2stb2YtZml0IHRlc3QgZm9yIGV2ZXJ5IG51bWVyaWMgcHJlZGljdG9yLCB0LXRlc3QgZm9yIHRoZSByZWdyZXNzb3IsIGFkZGVkIHRvIHRoZSBtb2RlbCwgaW5kaWNhdGluZyBubyBsYWNrLW9mLWZpdCBmb3IgdGhpcyB0eXBlCi0gVHVrZXkncyB0ZXN0IGZvciBub25hZGRpdGl2aXR5OiBhZGRpbmcgdGhlIHNxdWFyZXMgb2YgdGhlIGZpdHRlZCB2YWx1ZXMgdG8gdGhlIG1vZGVsIGFuZCByZWZpdHRpbmcgKGV2YWx1YXRlcyBhZGVxdWFjeSBvZiBtb2RlbCBmaXQpCgpgYGB7cn0KcmVzaWR1YWxQbG90cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbE5vTWlzc2luZywgaWQgPSBUUlVFKQpgYGAKCiMjIyBNYXJnaW5hbCBNb2RlbCBQbG90cyB7I21hcmdpbmFsTW9kZWxQbG90c30KCk1hcmdpbmFsIG1vZGVsIHBsb3RzIGFyZSBwbG90cyBvZiB0aGUgb3V0Y29tZSB2ZXJzdXMgcHJlZGljdG9ycy9maXR0ZWQgdmFsdWVzLgoKSW5jbHVkZXMgcGxvdHMgb2YgYSkgb2JzZXJ2ZWQgb3V0Y29tZSB2YWx1ZXMgdmVyc3VzIHZhbHVlcyBvbiBwcmVkaWN0b3JzIChpZ25vcmluZyB0aGUgb3RoZXIgcHJlZGljdG9ycykgYW5kIGIpIG9ic2VydmVkIG91dGNvbWUgdmFsdWVzIHZlcnN1cyBtb2RlbCBmaXR0ZWQgdmFsdWVzLgoKYGBge3J9Cm1hcmdpbmFsTW9kZWxQbG90cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCwgc2QgPSBUUlVFLCBpZCA9IFRSVUUpCmBgYAoKIyMjIEFkZGVkLVZhcmlhYmxlIFBsb3RzIHsjYWRkZWRWYXJpYWJsZVBsb3RzfQoKQWRkZWQtdmFyaWFibGUgcGxvdHMgYXJlIHBsb3RzIG9mIHRoZSBwYXJ0aWFsIGFzc29jaWF0aW9uIGJldHdlZW4gdGhlIG91dGNvbWUgYW5kIGVhY2ggcHJlZGljdG9yLCBjb250cm9sbGluZyBmb3IgYWxsIG90aGVyIHByZWRpY3RvcnMuCgpVc2VmdWwgZm9yIGlkZW50aWZ5aW5nIGpvaW50bHkgaW5mbHVlbnRpYWwgb2JzZXJ2YXRpb25zIGFuZCBzdHVkeWluZyB0aGUgaW1wYWN0IG9mIG9ic2VydmF0aW9ucyBvbiB0aGUgcmVncmVzc2lvbiBjb2VmZmljaWVudHMuCgp5LWF4aXM6IHJlc2lkdWFscyBmcm9tIG1vZGVsIHdpdGggYWxsIHByZWRpY3RvcnMgZXhjbHVkaW5nIHRoZSBwcmVkaWN0b3Igb2YgaW50ZXJlc3QKCngtYXhpczogcmVzaWR1YWxzIGZyb20gbW9kZWwgcmVncmVzc2luZyBwcmVkaWN0b3Igb2YgaW50ZXJlc3Qgb24gYWxsIG90aGVyIHByZWRpY3RvcnMKCmBgYHtyfQphdlBsb3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCBpZCA9IFRSVUUpCmBgYAoKIyMjIyBSZWZpdCBtb2RlbCByZW1vdmluZyBqb2ludGx5IGluZmx1ZW50aWFsIG9ic2VydmF0aW9ucwoKYGBge3J9Cm11bHRpcGxlUmVncmVzc2lvbk1vZGVsX3JlbW92ZUpvaW50bHlJbmZsdWVudGlhbE9icyA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hLmFjdGlvbiA9IG5hLmV4Y2x1ZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXQgPSAtYyg2MzE4LDYwMjMsNDAyMiw0MDQwKSkKCmF2UGxvdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfcmVtb3ZlSm9pbnRseUluZmx1ZW50aWFsT2JzLCBpZCA9IFRSVUUpCgpjb21wYXJlQ29lZnMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwsIG11bHRpcGxlUmVncmVzc2lvbk1vZGVsX3JlbW92ZUpvaW50bHlJbmZsdWVudGlhbE9icykKYGBgCgojIyMgT3V0bGllciB0ZXN0CgpMb2NhdGVzIHRoZSBsYXJnZXN0IFN0dWRlbnRpemVkIHJlc2lkdWFscyBpbiBhYnNvbHV0ZSB2YWx1ZSBhbmQgY29tcHV0ZXMgdGhlIEJvbmZlcnJvbmktY29ycmVjdGVkIHAtdmFsdWVzIGJhc2VkIG9uIGEgdC10ZXN0IGZvciBsaW5lYXIgbW9kZWxzLgoKVGVzdCBvZiBvdXRseWluZ25lc3MsIGkuZS4sIGhvdyBsaWtlbHkgb25lIHdvdWxkIGhhdmUgYSByZXNpZHVhbCBvZiBhIGdpdmVuIG1hZ25pdHVkZSBpbiBhIG5vcm1hbCBkaXN0cmlidXRpb24gd2l0aCB0aGUgc2FtZSBzYW1wbGUgc2l6ZQoKTm90ZTogaXQgZG9lcyBub3QgdGVzdCBob3cgZXh0cmVtZSBhbiBvYnNlcnZhdGlvbiBpcyByZWxhdGl2ZSB0byBpdHMgZGlzdHJpYnV0aW9uIChpLmUuLCBsZXZlcmFnZSkKCmBgYHtyfQpvdXRsaWVyVGVzdChtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkKYGBgCgojIyMgT2JzZXJ2YXRpb25zIHdpdGggaGlnaCBsZXZlcmFnZQoKSWRlbnRpZmllcyBvYnNlcnZhdGlvbnMgd2l0aCBoaWdoIGxldmVyYWdlIChpLmUuLCBoaWdoIGhhdCB2YWx1ZXMpCgpoYXQgdmFsdWVzIGFyZSBhbiBpbmRleCBvZiBsZXZlcmFnZSAob2JzZXJ2YXRpb25zIHRoYXQgYXJlIGZhciBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIHJlZ3Jlc3NvciBzcGFjZSBhbmQgaGF2ZSBncmVhdGVyIGluZmx1ZW5jZSBvbiBPTFMgcmVncmVzc2lvbiBjb2VmZmljaWVudHMpCgpgYGB7cn0KaGlzdChoYXR2YWx1ZXMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpwbG90KGhhdHZhbHVlcyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkpCgppbmZsdWVuY2VJbmRleFBsb3QobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwsIGlkID0gVFJVRSkKCmluZmx1ZW5jZVBsb3QobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwsIGlkID0gVFJVRSkgIyBjaXJjbGUgc2l6ZSBpcyBwcm9wb3J0aW9uYWwgdG8gQ29vaydzIERpc3RhbmNlCgpsZXZlcmFnZVBsb3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCBpZCA9IFRSVUUpCmBgYAoKIyMjIE9ic2VydmF0aW9ucyB3aXRoIGhpZ2ggaW5mbHVlbmNlIChvbiBPTFMgcmVncmVzc2lvbiBjb2VmZmljaWVudHMpCgpodHRwczovL2NyYW4uci1wcm9qZWN0Lm9yZy93ZWIvcGFja2FnZXMvb2xzcnIvdmlnbmV0dGVzL2luZmx1ZW5jZV9tZWFzdXJlcy5odG1sCgpgYGB7cn0KaGVhZChpbmZsdWVuY2UubWVhc3VyZXMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpJGluZm1hdCkKYGBgCgojIyMgREZCRVRBIHsjZGZiZXRhfQoKYGBge3J9CmhlYWQoZGZiZXRhKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSkKCmhpc3QoZGZiZXRhKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSkKZGZiZXRhc1Bsb3RzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsLCBpZCA9IFRSVUUpCmBgYAoKIyMjIERGRklUUyB7I2RmZml0c30KCmBgYHtyfQpoZWFkKGRmZml0cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbClbb3JkZXIoZGZmaXRzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSwgZGVjcmVhc2luZyA9IFRSVUUpXSkKCmhpc3QoZGZmaXRzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSkKcGxvdChkZmZpdHMobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpKQpwbG90KGRmZml0cyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbClbb3JkZXIoZGZmaXRzKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSwgZGVjcmVhc2luZyA9IFRSVUUpXSkKYGBgCgojIyMgQ29vaydzIERpc3RhbmNlIHsjY29va3NEaXN0YW5jZX0KCk9ic2VydmF0aW9ucyB0aGF0IGFyZSBib3RoIG91dGx5aW5nIChoYXZlIGEgaGlnaCByZXNpZHVhbCBmcm9tIHRoZSByZWdyZXNzaW9uIGxpbmUpIGFuZCBoYXZlIGhpZ2ggbGV2ZXJhZ2UgKGFyZSBmYXIgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSByZWdyZXNzb3Igc3BhY2UpIGhhdmUgaGlnaCBpbmZsdWVuY2Ugb24gdGhlIE9MUyByZWdyZXNzaW9uIGNvZWZmaWNpZW50cy4KQW4gb2JzZXJ2YXRpb24gd2lsbCBoYXZlIGxlc3MgaW5mbHVlbmNlIGlmIGl0IGxpZXMgb24gdGhlIHJlZ3Jlc3Npb24gbGluZSAobm90IGFuIG91dGxpZXIsIGkuZS4sIGhhcyBhIGxvdyByZXNpZHVhbCkgb3IgaWYgaXQgaGFzIGxvdyBsZXZlcmFnZSAoaS5lLiwgaGFzIGEgdmFsdWUgbmVhciB0aGUgY2VudGVyIG9mIGEgcHJlZGljdG9yJ3MgZGlzdHJpYnV0aW9uKS4KCmBgYHtyfQpoZWFkKGNvb2tzLmRpc3RhbmNlKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKVtvcmRlcihjb29rcy5kaXN0YW5jZShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCksIGRlY3JlYXNpbmcgPSBUUlVFKV0pCgpoaXN0KGNvb2tzLmRpc3RhbmNlKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSkKcGxvdChjb29rcy5kaXN0YW5jZShtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCkpCnBsb3QoY29va3MuZGlzdGFuY2UobXVsdGlwbGVSZWdyZXNzaW9uTW9kZWwpW29yZGVyKGNvb2tzLmRpc3RhbmNlKG11bHRpcGxlUmVncmVzc2lvbk1vZGVsKSwgZGVjcmVhc2luZyA9IFRSVUUpXSkKYGBgCgojIyMjIFJlZml0IG1vZGVsIHJlbW92aW5nIHZhbHVlcyB3aXRoIGhpZ2ggY29vaydzIGRpc3RhbmNlCgpgYGB7cn0KbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfMiA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXQgPSAtYygyNzY1LDEzNzEpKQoKbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfMyA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXQgPSAtYygyNzY1LDEzNzEsMjc2NykpCgptdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbF80IDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNldCA9IC1jKDI3NjUsMTM3MSwyNzY3LDg0NzIpKQoKbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNSA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXQgPSAtYygyNzY1LDEzNzEsMjc2Nyw4NDcyLDYxNzApKQoKbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNiA8LSBsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmEuYWN0aW9uID0gbmEuZXhjbHVkZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXQgPSAtYygyNzY1LDEzNzEsMjc2Nyw4NDcyLDYxNzAsNjAyMykpCgptdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbF83IDwtIGxtKGJwaV9hbnRpc29jaWFsVDJTdW0gfiBicGlfYW50aXNvY2lhbFQxU3VtICsgYnBpX2FueGlvdXNEZXByZXNzZWRTdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG15ZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYS5hY3Rpb24gPSBuYS5leGNsdWRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNldCA9IC1jKDI3NjUsMTM3MSwyNzY3LDg0NzIsNjE3MCw2MDIzLDI3NjYpKQpgYGAKCiMjIyMjIEV4YW1pbmUgaG93IG11Y2ggcmVncmVzc2lvbiBjb2VmZmljaWVudHMgY2hhbmdlIHdoZW4gZXhjbHVkaW5nIGluZmx1ZW50aWFsIG9ic2VydmF0aW9ucwoKYGBge3J9CmNvbXBhcmVDb2VmcyhtdWx0aXBsZVJlZ3Jlc3Npb25Nb2RlbCwgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfMiwgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfMywgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNCwgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNSwgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNiwgbXVsdGlwbGVSZWdyZXNzaW9uTW9kZWxfNykKYGBgCgojIyMjIEV4YW1pbmUgaG93IG11Y2ggcmVncmVzc2lvbiBjb2VmZmljaWVudHMgY2hhbmdlIHdoZW4gdXNpbmcgbGVhc3QgdHJpbW1lZCBzcXVhcmVzIChMVFMpIHRoYXQgaXMgcmVzaXN0YW50IHRvIG91dGxpZXJzCgpgYGB7cn0KY29lZihsbShicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgIGRhdGEgPSBteWRhdGEsCiAgICAgICAgbmEuYWN0aW9uPSJuYS5leGNsdWRlIikpCgpjb2VmKGx0c1JlZyhicGlfYW50aXNvY2lhbFQyU3VtIH4gYnBpX2FudGlzb2NpYWxUMVN1bSArIGJwaV9hbnhpb3VzRGVwcmVzc2VkU3VtLAogICAgICAgICAgICBkYXRhID0gbXlkYXRhLAogICAgICAgICAgICBuYS5hY3Rpb24gPSAibmEuZXhjbHVkZSIpKQpgYGAKCiMjIyBSZXNvdXJjZXMKCkJvb2s6IEFuIFIgQ29tcGFuaW9uIHRvIEFwcGxpZWQgUmVncmVzc2lvbgoKaHR0cDovL3Blb3BsZS5kdWtlLmVkdS9+cm5hdS90ZXN0aW5nLmh0bQoKaHR0cDovL3d3dy5zdGF0bWV0aG9kcy5uZXQvc3RhdHMvcmRpYWdub3N0aWNzLmh0bWwKCmh0dHA6Ly9zb2NzZXJ2LnNvY3NjaS5tY21hc3Rlci5jYS9qZm94L0NvdXJzZXMvQnJhemlsLTIwMDkvaW5kZXguaHRtbAoKaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3JkaW5hcnlfbGVhc3Rfc3F1YXJlcyNBc3N1bXB0aW9ucwoKIyBTZXNzaW9uIEluZm8KCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAiZm9sZC1oaWRlIn0Kc2Vzc2lvbkluZm8oKQpgYGAK</div>
<script type="text/javascript" src="includes/external-links.js"></script>

<br>
<hr>
<br>

<!-- Add lab logo -->
<p style="text-align: center;">
    <a href="https://developmental-psychopathology.lab.uiowa.edu" target="_blank">
        <img alt="Developmental Psychopathology Lab" src="images/formalLogo.png" width="60%">
    </a>
</p>

<br>
<hr>
<br>

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Add font awesome icons -->
<p style="text-align: center;">
    <a href="https://github.com/DevPsyLab" target="_blank" class="fa fa-github fa-fw fa-3x"></a>
    <a href="https://twitter.com/devpsylab" target="_blank" class="fa fa-twitter fa-fw fa-3x"></a>
    <a href="https://www.facebook.com/DevPsyLab" target="_blank" class="fa fa-facebook fa-fw fa-3x"></a>
	<a href="https://www.instagram.com/dev_psy_lab" target="_blank" class="fa fa-instagram fa-fw fa-3x"></a>
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("regression.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
