<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Isaac T. Petersen">
<meta name="dcterms.date" content="today">
<title>R – Data Analysis Guides for the Developmental Psychopathology Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-b754b9fd3853d7e56faef54c29c5d52b.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9278de052701f0b3f1191ef96b26c196.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TYR0QMREEW"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-TYR0QMREEW', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="includes/custom.css">
<link rel="stylesheet" href="font/css/roboto.css">
</head>
<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/labLogo.png" alt="" class="navbar-logo light-content"><img src="./images/labLogo.png" alt="" class="navbar-logo dark-content"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Analysis Guides for the Developmental Psychopathology Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-datasets" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Datasets</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-datasets">
<li>
    <a class="dropdown-item" href="./abcdData.html">
 <span class="dropdown-text">ABCD Study Data</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analysis-techniques" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Analysis Techniques</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analysis-techniques">
<li>
    <a class="dropdown-item" href="./bayesian.html">
 <span class="dropdown-text">Bayesian Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dataManagement.html">
 <span class="dropdown-text">Data Management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dags.html">
 <span class="dropdown-text">Directed Acyclic Graphs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./eegERP.html">
 <span class="dropdown-text">Electroencephalography/Event-Related Potentials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./eda.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./factorAnalysis.html">
 <span class="dropdown-text">Factor Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./figures.html">
 <span class="dropdown-text">Figures</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./hlm.html">
 <span class="dropdown-text">Hierarchical Linear Modeling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./irt.html">
 <span class="dropdown-text">Item Response Theory</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lda.html">
 <span class="dropdown-text">Longitudinal Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sem.html#mediation">
 <span class="dropdown-text">Mediation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./regression.html#moderation">
 <span class="dropdown-text">Moderation/Interaction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./multipleImputation.html">
 <span class="dropdown-text">Multiple Imputation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./pca.html">
 <span class="dropdown-text">Principal Component Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./regression.html">
 <span class="dropdown-text">Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./statistics.html">
 <span class="dropdown-text">Statistics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sem.html">
 <span class="dropdown-text">Structural Equation Modeling</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-softwareframeworks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Software/Frameworks</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-softwareframeworks">
<li>
    <a class="dropdown-item" href="./git.html">
 <span class="dropdown-text">Git, GitLab, and GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./hpc.html">
 <span class="dropdown-text">High-Performance Computing Cluster</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./jamovi.html">
 <span class="dropdown-text">jamovi</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./jatos.html">
 <span class="dropdown-text">JATOS (Just Another Tool for Online Studies)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./jsPsych.html">
 <span class="dropdown-text">jsPsych</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lamp.html">
 <span class="dropdown-text">LAMP (Linux, Apache, MySQL, PHP) Server</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./markdown.html">
 <span class="dropdown-text">Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mplus.html">
 <span class="dropdown-text">Mplus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./osf.html">
 <span class="dropdown-text">Open Science Framework</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://devpsylab.github.io/pythonDataAnalysisGuides">
 <span class="dropdown-text">Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./R.html">
 <span class="dropdown-text">R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./SPSS.html">
 <span class="dropdown-text">SPSS</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="https://devpsylab.github.io/LabWiki"> 
<span class="menu-text">Lab Wiki</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://developmental-psychopathology.lab.uiowa.edu"> 
<span class="menu-text">Lab Website</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/DevPsyLab/DataAnalysis">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/DevPsyLab/DataAnalysis/issues/new">
            Report a Bug
            </a>
          </li>
      </ul>
</div>
    <a href="https://twitter.com/devpsylab" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.facebook.com/DevPsyLab" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-facebook"></i></a>
    <a href="https://www.instagram.com/devpsylab" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-instagram"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./R.html">R</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abcdData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ABCD Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bayesian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataManagement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dags.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Directed Acyclic Graphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eegERP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Electroencephalography/Event-Related Potentials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./factorAnalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Factor Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./figures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Figures</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git, GitLab, and GitHub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hlm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical Linear Modeling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">High-Performance Computing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./irt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Item Response Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">jamovi</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./jatos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JATOS (Just Another Tool for Online Studies)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./jsPsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">jsPsych</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lamp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LAMP (Linux, Apache, MySQL, PHP) Server</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Longitudinal Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Markdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem.html#mediation" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression.html#moderation" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Moderation/Interaction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mplus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mplus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multipleImputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multiple Imputation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./osf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open Science Framework</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Principal Component Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://devpsylab.github.io/pythonDataAnalysisGuides" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SPSS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SPSS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Structural Equation Modeling</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Contents</h2>
   
  <ul>
<li>
<a href="#sec-learn" id="toc-sec-learn" class="nav-link active" data-scroll-target="#sec-learn"><span class="header-section-number">1</span> Learning <code>R</code></a>
  <ul>
<li><a href="#base-r" id="toc-base-r" class="nav-link" data-scroll-target="#base-r"><span class="header-section-number">1.1</span> Base R</a></li>
  <li><a href="#statistics-using-r" id="toc-statistics-using-r" class="nav-link" data-scroll-target="#statistics-using-r"><span class="header-section-number">1.2</span> Statistics (using <code>R</code>)</a></li>
  <li><a href="#tidyverse" id="toc-tidyverse" class="nav-link" data-scroll-target="#tidyverse"><span class="header-section-number">1.3</span> <code>tidyverse</code></a></li>
  <li><a href="#sec-questions" id="toc-sec-questions" class="nav-link" data-scroll-target="#sec-questions"><span class="header-section-number">1.4</span> Getting Help/Questions</a></li>
  </ul>
</li>
  <li><a href="#sec-setup" id="toc-sec-setup" class="nav-link" data-scroll-target="#sec-setup"><span class="header-section-number">2</span> Initial Set Up</a></li>
  <li><a href="#sec-petersenlab" id="toc-sec-petersenlab" class="nav-link" data-scroll-target="#sec-petersenlab"><span class="header-section-number">3</span> Lab Package</a></li>
  <li><a href="#sec-installPackages" id="toc-sec-installPackages" class="nav-link" data-scroll-target="#sec-installPackages"><span class="header-section-number">4</span> Install Packages</a></li>
  <li><a href="#sec-updatePackages" id="toc-sec-updatePackages" class="nav-link" data-scroll-target="#sec-updatePackages"><span class="header-section-number">5</span> Update Packages</a></li>
  <li><a href="#sec-updateR" id="toc-sec-updateR" class="nav-link" data-scroll-target="#sec-updateR"><span class="header-section-number">6</span> Update <code>R</code></a></li>
  <li>
<a href="#sec-bestPractices" id="toc-sec-bestPractices" class="nav-link" data-scroll-target="#sec-bestPractices"><span class="header-section-number">7</span> Style Guide and Best Practices</a>
  <ul>
<li><a href="#create-rstudio-project" id="toc-create-rstudio-project" class="nav-link" data-scroll-target="#create-rstudio-project"><span class="header-section-number">7.1</span> Create <code>Rstudio Project</code></a></li>
  <li><a href="#use-r-notebooks-for-computational-notebooks" id="toc-use-r-notebooks-for-computational-notebooks" class="nav-link" data-scroll-target="#use-r-notebooks-for-computational-notebooks"><span class="header-section-number">7.2</span> Use <code>R</code> Notebooks for “Computational Notebooks”</a></li>
  <li><a href="#separate-sections-in-code" id="toc-separate-sections-in-code" class="nav-link" data-scroll-target="#separate-sections-in-code"><span class="header-section-number">7.3</span> Separate sections in code</a></li>
  <li><a href="#naming-variables" id="toc-naming-variables" class="nav-link" data-scroll-target="#naming-variables"><span class="header-section-number">7.4</span> Naming variables</a></li>
  <li><a href="#comment-code-frequently-and-clearly" id="toc-comment-code-frequently-and-clearly" class="nav-link" data-scroll-target="#comment-code-frequently-and-clearly"><span class="header-section-number">7.5</span> Comment code frequently and clearly!</a></li>
  <li><a href="#sec-dontSaveWorkspace" id="toc-sec-dontSaveWorkspace" class="nav-link" data-scroll-target="#sec-dontSaveWorkspace"><span class="header-section-number">7.6</span> Don’t save your workspace image</a></li>
  </ul>
</li>
  <li><a href="#data-management" id="toc-data-management" class="nav-link" data-scroll-target="#data-management"><span class="header-section-number">8</span> Data Management</a></li>
  <li><a href="#saving-plots" id="toc-saving-plots" class="nav-link" data-scroll-target="#saving-plots"><span class="header-section-number">9</span> Saving Plots</a></li>
  <li><a href="#saving-output" id="toc-saving-output" class="nav-link" data-scroll-target="#saving-output"><span class="header-section-number">10</span> Saving Output</a></li>
  <li><a href="#shortcuts" id="toc-shortcuts" class="nav-link" data-scroll-target="#shortcuts"><span class="header-section-number">11</span> Shortcuts</a></li>
  <li><a href="#statistics-examples" id="toc-statistics-examples" class="nav-link" data-scroll-target="#statistics-examples"><span class="header-section-number">12</span> Statistics Examples</a></li>
  <li>
<a href="#running-scripts-automatically-with-windows" id="toc-running-scripts-automatically-with-windows" class="nav-link" data-scroll-target="#running-scripts-automatically-with-windows"><span class="header-section-number">13</span> Running Scripts Automatically with Windows</a>
  <ul>
<li>
<a href="#troubleshooting" id="toc-troubleshooting" class="nav-link" data-scroll-target="#troubleshooting"><span class="header-section-number">13.1</span> Troubleshooting</a>
  <ul>
<li><a href="#pandoc-error" id="toc-pandoc-error" class="nav-link" data-scroll-target="#pandoc-error"><span class="header-section-number">13.1.1</span> Pandoc error</a></li>
  </ul>
</li>
  </ul>
</li>
  <li><a href="#sec-gitPush" id="toc-sec-gitPush" class="nav-link" data-scroll-target="#sec-gitPush"><span class="header-section-number">14</span> Using R Script to Commit and Push Changes</a></li>
  <li><a href="#sec-try" id="toc-sec-try" class="nav-link" data-scroll-target="#sec-try"><span class="header-section-number">15</span> Using <code>try()</code> Statements</a></li>
  <li><a href="#reading-password-protected-excel-databases" id="toc-reading-password-protected-excel-databases" class="nav-link" data-scroll-target="#reading-password-protected-excel-databases"><span class="header-section-number">16</span> Reading Password Protected Excel Databases</a></li>
  <li>
<a href="#sending-slacks-with-r" id="toc-sending-slacks-with-r" class="nav-link" data-scroll-target="#sending-slacks-with-r"><span class="header-section-number">17</span> Sending slacks with <code>R</code></a>
  <ul>
<li><a href="#slacking-specific-users" id="toc-slacking-specific-users" class="nav-link" data-scroll-target="#slacking-specific-users"><span class="header-section-number">17.1</span> Slacking Specific Users</a></li>
  </ul>
</li>
  <li><a href="#replacing-n-with-a-space" id="toc-replacing-n-with-a-space" class="nav-link" data-scroll-target="#replacing-n-with-a-space"><span class="header-section-number">18</span> Replacing <code>//n</code> with a space</a></li>
  <li><a href="#working-with-r-on-a-network-drive" id="toc-working-with-r-on-a-network-drive" class="nav-link" data-scroll-target="#working-with-r-on-a-network-drive"><span class="header-section-number">19</span> Working with <code>R</code> on a Network Drive</a></li>
  <li>
<a href="#package-development" id="toc-package-development" class="nav-link" data-scroll-target="#package-development"><span class="header-section-number">20</span> Package Development</a>
  <ul>
<li>
<a href="#working-with-renv-for-package-management" id="toc-working-with-renv-for-package-management" class="nav-link" data-scroll-target="#working-with-renv-for-package-management"><span class="header-section-number">20.1</span> Working with <code>renv</code> for Package Management</a>
  <ul>
<li><a href="#updating-the-package" id="toc-updating-the-package" class="nav-link" data-scroll-target="#updating-the-package"><span class="header-section-number">20.1.1</span> Updating the Package</a></li>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages"><span class="header-section-number">20.1.2</span> Installing Packages</a></li>
  </ul>
</li>
  <li>
<a href="#sec-rCmdCheck" id="toc-sec-rCmdCheck" class="nav-link" data-scroll-target="#sec-rCmdCheck"><span class="header-section-number">20.2</span> <code>R CMD check</code></a>
  <ul>
<li>
<a href="#troubleshooting-1" id="toc-troubleshooting-1" class="nav-link" data-scroll-target="#troubleshooting-1"><span class="header-section-number">20.2.1</span> Troubleshooting</a>
  <ul class="collapse">
<li><a href="#if-errors-compiling-the-pdf-manual" id="toc-if-errors-compiling-the-pdf-manual" class="nav-link" data-scroll-target="#if-errors-compiling-the-pdf-manual"><span class="header-section-number">20.2.1.1</span> If errors compiling the PDF manual</a></li>
  <li><a href="#no-visible-binding-for-global-variable-undefined-global-functions-or-variables" id="toc-no-visible-binding-for-global-variable-undefined-global-functions-or-variables" class="nav-link" data-scroll-target="#no-visible-binding-for-global-variable-undefined-global-functions-or-variables"><span class="header-section-number">20.2.1.2</span> <code>no visible binding for global variable</code>; <code>Undefined global functions or variables</code></a></li>
  </ul>
</li>
  </ul>
</li>
  <li><a href="#r-cmd-check-via-github-actions" id="toc-r-cmd-check-via-github-actions" class="nav-link" data-scroll-target="#r-cmd-check-via-github-actions"><span class="header-section-number">20.3</span> <code>R CMD check</code> via GitHub Actions</a></li>
  <li><a href="#useful-keyboard-shortcuts-for-package-authoring" id="toc-useful-keyboard-shortcuts-for-package-authoring" class="nav-link" data-scroll-target="#useful-keyboard-shortcuts-for-package-authoring"><span class="header-section-number">20.4</span> Useful keyboard shortcuts for package authoring:</a></li>
  <li><a href="#pkgdown" id="toc-pkgdown" class="nav-link" data-scroll-target="#pkgdown"><span class="header-section-number">20.5</span> <code>pkgdown</code></a></li>
  <li><a href="#steps-to-add-functions" id="toc-steps-to-add-functions" class="nav-link" data-scroll-target="#steps-to-add-functions"><span class="header-section-number">20.6</span> Steps to Add Functions</a></li>
  <li><a href="#add-sub-packages" id="toc-add-sub-packages" class="nav-link" data-scroll-target="#add-sub-packages"><span class="header-section-number">20.7</span> Add sub-packages</a></li>
  <li><a href="#submit-package-to-cran" id="toc-submit-package-to-cran" class="nav-link" data-scroll-target="#submit-package-to-cran"><span class="header-section-number">20.8</span> Submit Package to CRAN</a></li>
  <li>
<a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">20.9</span> Resources</a>
  <ul>
<li><a href="#for-package-development-tasks" id="toc-for-package-development-tasks" class="nav-link" data-scroll-target="#for-package-development-tasks"><span class="header-section-number">20.9.1</span> For Package Development Tasks</a></li>
  <li><a href="#for-documentation" id="toc-for-documentation" class="nav-link" data-scroll-target="#for-documentation"><span class="header-section-number">20.9.2</span> For Documentation</a></li>
  <li><a href="#creating-vignettes" id="toc-creating-vignettes" class="nav-link" data-scroll-target="#creating-vignettes"><span class="header-section-number">20.9.3</span> Creating Vignettes</a></li>
  <li><a href="#for-licensing" id="toc-for-licensing" class="nav-link" data-scroll-target="#for-licensing"><span class="header-section-number">20.9.4</span> For Licensing</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#sec-troubleshootingR" id="toc-sec-troubleshootingR" class="nav-link" data-scroll-target="#sec-troubleshootingR"><span class="header-section-number">21</span> Troubleshooting</a>
  <ul>
<li><a href="#general-troubleshooting-tips" id="toc-general-troubleshooting-tips" class="nav-link" data-scroll-target="#general-troubleshooting-tips"><span class="header-section-number">21.1</span> General Troubleshooting Tips</a></li>
  <li><a href="#a-single-error-preventing-a-wiki-site-from-rendering" id="toc-a-single-error-preventing-a-wiki-site-from-rendering" class="nav-link" data-scroll-target="#a-single-error-preventing-a-wiki-site-from-rendering"><span class="header-section-number">21.2</span> A single error preventing a Wiki site from rendering</a></li>
  <li><a href="#warning-packagename-package-in-filepath-library-will-not-be-updated" id="toc-warning-packagename-package-in-filepath-library-will-not-be-updated" class="nav-link" data-scroll-target="#warning-packagename-package-in-filepath-library-will-not-be-updated"><span class="header-section-number">21.3</span> Warning: <code>PACKAGENAME</code> package in <code>FILEPATH</code> library will not be updated</a></li>
  </ul>
</li>
  <li><a href="#session-info" id="toc-session-info" class="nav-link" data-scroll-target="#session-info"><span class="header-section-number">22</span> Session Info</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/DevPsyLab/DataAnalysis/edit/main/R.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/DevPsyLab/DataAnalysis/blob/main/R.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/DevPsyLab/DataAnalysis/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">R</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><blockquote class="blockquote">
<p>“<em><code>R</code> will always be arcane to those who do not make a serious effort to learn it. It is not meant to be intuitive and easy for casual users to just plunge into. It is far too complex and powerful for that. But the rewards are great for serious data analysts who put in the effort.</em>”</p>
</blockquote>
<p>— <a href="https://www.brodrigues.co/blog/2022-06-02-arcane/">Berton Gunter R-help August 2007</a> (archived at <a href="https://perma.cc/KY9N-2FTT" class="uri">https://perma.cc/KY9N-2FTT</a>)</p>
<blockquote class="blockquote">
<p>“Evelyn Hall: I would like to know how (if) I can extract some of the information from the summary of my nlme.</p>
<p>Simon Blomberg: This is <code>R</code>. There is no if. Only how.”</p>
</blockquote>
<p>— <a href="https://www.brodrigues.co/blog/2022-06-02-arcane/">Evelyn Hall and Simon ‘Yoda’ Blomberg, R-help April 2005</a> (archived at <a href="https://perma.cc/KY9N-2FTT" class="uri">https://perma.cc/KY9N-2FTT</a>)</p>
<section id="sec-learn" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Learning <code>R</code>
</h1>
<section id="base-r" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="base-r">
<span class="header-section-number">1.1</span> Base R</h2>
<p>Here are a slew of resources for learning base <code>R</code> (in addition to the documents in the lab’s <a href="https://drive.google.com/drive/u/0/folders/1U0pNrjF2_tIPU6BiyCv0HqbOUA5P516r">Primer Articles folder</a>):</p>
<ul>
<li>
<code>R for Data Science</code> book: <a href="https://r4ds.hadley.nz" class="uri">https://r4ds.hadley.nz</a>
<ul>
<li>Tutorials from the book are available via the <code>r4ds.tutorials</code> package: <a href="https://ppbds.github.io/r4ds.tutorials/" class="uri">https://ppbds.github.io/r4ds.tutorials/</a>
</li>
</ul>
</li>
<li>Use this Intro to <code>R</code>: <a href="https://www.statmethods.net" class="uri">https://www.statmethods.net</a> (archived at <a href="https://perma.cc/SPQ2-DJKM" class="uri">https://perma.cc/SPQ2-DJKM</a>)
<ul>
<li>I used this resource considerably when I was learning <code>R</code>
</li>
</ul>
</li>
<li>
<code>Codeacademy</code> has free online courses:
<ul>
<li>Basics of using R: <a href="https://www.codecademy.com/learn/learn-r" class="uri">https://www.codecademy.com/learn/learn-r</a> (archived at <a href="https://perma.cc/JHS2-EYUU" class="uri">https://perma.cc/JHS2-EYUU</a>)</li>
</ul>
</li>
<li>Learn how to become a better coder: <a href="https://www.r-bloggers.com/10-top-tips-for-becoming-a-better-coder/" class="uri">https://www.r-bloggers.com/10-top-tips-for-becoming-a-better-coder/</a> (archived at <a href="https://perma.cc/H3W7-QDAM" class="uri">https://perma.cc/H3W7-QDAM</a>)</li>
<li>How to become fluent in <code>R</code>: <a href="https://www.sharpsightlabs.com/blog/are-you-fluent-r/" class="uri">https://www.sharpsightlabs.com/blog/are-you-fluent-r/</a> (archived at <a href="https://perma.cc/RWL5-GTWV" class="uri">https://perma.cc/RWL5-GTWV</a>)</li>
<li>Video training courses in <code>R</code> skills: <a href="https://www.pluralsight.com/search?q=R" class="uri">https://www.pluralsight.com/search?q=R</a> (archived at <a href="https://perma.cc/U4ZZ-UE4X" class="uri">https://perma.cc/U4ZZ-UE4X</a>)</li>
<li>Browse the <code>Cookbook for R</code> to find solutions to common tasks and problems: <a href="http://www.cookbook-r.com" class="uri">http://www.cookbook-r.com</a> (archived at <a href="https://perma.cc/5ERJ-VRFR" class="uri">https://perma.cc/5ERJ-VRFR</a>)</li>
<li>Browse the <code>R Graph Gallery</code> to find examples of various graphs: <a href="https://r-graph-gallery.com" class="uri">https://r-graph-gallery.com</a>
</li>
<li>Free <code>Coursera</code> courses on <code>R</code>: <a href="https://pairach.com/2012/12/22/learn-to-use-r-for-free-with-coursera/" class="uri">https://pairach.com/2012/12/22/learn-to-use-r-for-free-with-coursera/</a> (archived at <a href="https://perma.cc/XJ5U-5E4W" class="uri">https://perma.cc/XJ5U-5E4W</a>)</li>
<li>MOOCs and courses to learn <code>R</code>: <a href="https://www.r-bloggers.com/moocs-and-courses-to-learn-r/" class="uri">https://www.r-bloggers.com/moocs-and-courses-to-learn-r/</a> (archived at <a href="https://perma.cc/MQ25-E3ME" class="uri">https://perma.cc/MQ25-E3ME</a>)</li>
<li>Watch these videos from <code>Coursera</code>: <a href="https://blog.revolutionanalytics.com/2012/12/coursera-videos.html" class="uri">https://blog.revolutionanalytics.com/2012/12/coursera-videos.html</a> (archived at <a href="https://perma.cc/6FU4-PAQW" class="uri">https://perma.cc/6FU4-PAQW</a>)</li>
<li>
<code>RStudio</code> Webinars: <a href="https://www.rstudio.com/resources/webinars/" class="uri">https://www.rstudio.com/resources/webinars/</a> (archived at <a href="https://perma.cc/6RNR-98JB" class="uri">https://perma.cc/6RNR-98JB</a>)</li>
<li>UCLA Stats Website: <a href="https://stats.idre.ucla.edu/r/" class="uri">https://stats.idre.ucla.edu/r/</a> (archived at <a href="https://perma.cc/M3N6-96RY" class="uri">https://perma.cc/M3N6-96RY</a>)</li>
<li>Take this Introduction to <code>R</code> course: <a href="https://www.datacamp.com/courses/free-introduction-to-r" class="uri">https://www.datacamp.com/courses/free-introduction-to-r</a> (archived at <a href="https://perma.cc/6ZM9-37L9" class="uri">https://perma.cc/6ZM9-37L9</a>)</li>
<li>Teaching <code>R</code> in a Kinder, Gentler, More Effective Manner: <a href="https://github.com/matloff/TidyverseSkeptic" class="uri">https://github.com/matloff/TidyverseSkeptic</a> (archived at <a href="https://perma.cc/QU9F-FBS8" class="uri">https://perma.cc/QU9F-FBS8</a>)</li>
<li>Learn <code>R</code> interactively with <code>swirl</code>: <a href="https://swirlstats.com" class="uri">https://swirlstats.com</a> (archived at <a href="https://perma.cc/TT9V-U663" class="uri">https://perma.cc/TT9V-U663</a>)</li>
<li>Use the <code>learnr</code> package: <a href="https://blog.rstudio.com/2017/07/11/introducing-learnr/" class="uri">https://blog.rstudio.com/2017/07/11/introducing-learnr/</a> (archived at <a href="https://perma.cc/XGJ8-EXSN" class="uri">https://perma.cc/XGJ8-EXSN</a>)</li>
<li>You will sometimes find relevant articles on <code>R-bloggers</code>: <a href="https://www.r-bloggers.com" class="uri">https://www.r-bloggers.com</a> (archived at <a href="https://perma.cc/EL3X-ZXBB" class="uri">https://perma.cc/EL3X-ZXBB</a>)</li>
</ul></section><section id="statistics-using-r" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="statistics-using-r">
<span class="header-section-number">1.2</span> Statistics (using <code>R</code>)</h2>
<p>The following are resources for learning statistics using <code>R</code>.</p>
<ul>
<li>
<code>R</code> for Data Science: <a href="https://r4ds.hadley.nz" class="uri">https://r4ds.hadley.nz</a>
</li>
<li>UCLA Stats Website: <a href="https://stats.oarc.ucla.edu/other/dae/" class="uri">https://stats.oarc.ucla.edu/other/dae/</a> (archived at <a href="https://perma.cc/FVG5-5X82" class="uri">https://perma.cc/FVG5-5X82</a>)</li>
<li>
<code>Codeacademy</code> has free online courses:
<ul>
<li>Descriptive analysis and basic hypothesis testing: <a href="https://www.codecademy.com/learn/learn-statistics-with-r" class="uri">https://www.codecademy.com/learn/learn-statistics-with-r</a>
</li>
</ul>
</li>
<li>Free textbook on Learning Statistics with <code>R</code>: <a href="https://learningstatisticswithr.com" class="uri">https://learningstatisticswithr.com</a> (archived at <a href="https://perma.cc/SY87-5GCX" class="uri">https://perma.cc/SY87-5GCX</a>)</li>
<li>An excellent introductory textbook on Discovering Statistics using <code>R</code>: <a href="https://www.amazon.com/Discovering-Statistics-Using-Andy-Field/dp/1446200469" class="uri">https://www.amazon.com/Discovering-Statistics-Using-Andy-Field/dp/1446200469</a> (archived at <a href="https://perma.cc/9LGU-7ZME" class="uri">https://perma.cc/9LGU-7ZME</a>)</li>
<li>My textbook that teaches <code>R</code>/statistics through the lens of fantasy football: <a href="https://isaactpetersen.github.io/Fantasy-Football-Analytics-Textbook" class="uri">https://isaactpetersen.github.io/Fantasy-Football-Analytics-Textbook</a>
</li>
</ul></section><section id="tidyverse" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="tidyverse">
<span class="header-section-number">1.3</span> <code>tidyverse</code>
</h2>
<p>The following are resources for learning <code>tidyverse</code>, which is a collection of <code>R</code> packages for data management:</p>
<ul>
<li><p><a href="https://www.tidyverse.org/learn/" class="uri">https://www.tidyverse.org/learn/</a> (archived at <a href="https://perma.cc/5ZUM-XGES" class="uri">https://perma.cc/5ZUM-XGES</a>)</p></li>
<li><p><a href="https://www.linkedin.com/learning/learning-the-r-tidyverse/welcome?u=42459020" class="uri">https://www.linkedin.com/learning/learning-the-r-tidyverse/welcome?u=42459020</a> (archived at <a href="https://perma.cc/TD56-FX8R" class="uri">https://perma.cc/TD56-FX8R</a>)</p></li>
</ul></section><section id="sec-questions" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="sec-questions">
<span class="header-section-number">1.4</span> Getting Help/Questions</h2>
<p>If you have <code>R</code> questions, you can ask them in a number of places:</p>
<ul>
<li>Forums:
<ul>
<li>
<code>Posit</code>: <a href="https://forum.posit.co" class="uri">https://forum.posit.co</a>
</li>
<li>
<code>StackOverflow</code>: <a href="https://stackoverflow.com/questions/tagged/r" class="uri">https://stackoverflow.com/questions/tagged/r</a>
</li>
<li>
<code>Reddit</code>: <a href="https://www.reddit.com/r/rstats/" class="uri">https://www.reddit.com/r/rstats/</a>
</li>
</ul>
</li>
<li>The <code>R</code> mailing list: <a href="https://stat.ethz.ch/mailman/listinfo/r-help" class="uri">https://stat.ethz.ch/mailman/listinfo/r-help</a>
</li>
</ul>
<p>The following article provides additional resources and good guidance: <a href="https://www.r-bloggers.com/where-to-get-help-with-your-r-question/" class="uri">https://www.r-bloggers.com/where-to-get-help-with-your-r-question/</a> (archived at <a href="https://perma.cc/4RRE-KL33" class="uri">https://perma.cc/4RRE-KL33</a>).</p>
<p>When posting a question on forums or mailing lists, keep a few things in mind:</p>
<ul>
<li>Read the posting guidelines before posting!</li>
<li>Be respectful of other people and their time. <code>R</code> is free software. People are offering their free time to help. They are under no obligation to help you. If you are disrespectful or act like they owe you anything, you will rub people the wrong way and will be less likely to get help.</li>
<li>Provide a minimal, reproducible example. Providing a minimal, reproducible example can be crucial for getting a helpful response. By going to the trouble of creating a minimal, reproducible example and identifying the minimum conditions necessary to reproduce the issue, you will often figure out how to resolve it. Here are guidelines on providing a minimal, reproducible example: <a href="https://stackoverflow.com/help/minimal-reproducible-example" class="uri">https://stackoverflow.com/help/minimal-reproducible-example</a> (archived at <a href="https://perma.cc/6NUB-UTYF" class="uri">https://perma.cc/6NUB-UTYF</a>). Here are a good example and guidelines for providing a minimal, reproducible example in <code>R</code>: <a href="https://stackoverflow.com/a/5963610" class="uri">https://stackoverflow.com/a/5963610</a> (archived at <a href="https://perma.cc/PC9L-DQZG" class="uri">https://perma.cc/PC9L-DQZG</a>). Provide a <code>reprex</code> whenever possible: <a href="https://reprex.tidyverse.org" class="uri">https://reprex.tidyverse.org</a>.</li>
</ul></section></section><section id="sec-setup" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Initial Set Up</h1>
<p>Note: many of these initial setup steps described below are not necessary for general use; many of these steps are necessary only for using lab-related repositories (e.g., to gain API access to export data from <code>REDCap</code>, to use absolute paths rather than relative paths so repos can communicate with each other, etc.).</p>
<ol type="1">
<li>Make sure you are logged onto a computer that can access the lab server (either a lab computer, or a computer you can VPN into the lab server), and that you have admin access to install and uninstall software</li>
<li>Install <code>R</code> (<a href="https://www.r-project.org" class="uri">https://www.r-project.org</a>) into a directory that contains no spaces; On PC, change the location from the default <code>C:/Program Files/R/[R-VERSION]</code> (which contains a space) to <code>C:/R/[R-VERSION]</code> (<a href="https://cran.r-project.org/doc/manuals/r-release/R-admin.html#Installing-R-under-Windows">which does not contain any spaces</a>; archived at <a href="https://perma.cc/6VMX-3LYX" class="uri">https://perma.cc/6VMX-3LYX</a>—this is because <a href="https://cran.r-project.org/doc/manuals/r-release/R-admin.html#Installation">some packages that require compilation to install cannot read filepaths with spaces</a>; archived at <a href="https://perma.cc/XA3V-JTPY" class="uri">https://perma.cc/XA3V-JTPY</a>); may have to right click and “Run As Administrator”
<ul>
<li>If <code>R</code> was already installed in a directory that contains spaces (e.g., <code>C:/Program Files/R/[R-VERSION]</code>), uninstall <code>R</code> before installing it in a directory that doesn’t contain spaces</li>
</ul>
</li>
<li>Install <code>RStudio</code> Desktop (<a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a>) in the main program files directory; may have to right click and “Run As Administrator”. <code>RStudio</code> is the best available graphical user interface for R.</li>
<li>Set the executables for <code>R</code> and <code>RStudio</code> to always run with administrator permissions.
<ul>
<li>If on Windows, open File Explorer and find the main executable of <code>R</code> (<code>C:/R/[R-VERSION]/bin/R.exe</code>) and <code>RStudio</code> (<code>C:/Program Files/RStudio/bin/RStudio.exe</code>). Right-click it to open the contextual menu. Then, click or tap on “Properties”. In the Properties window, go to the Compatibility tab. At the bottom of the window, check the box next to the “Run this program as an administrator” option, and then click or tap on Apply or OK.</li>
</ul>
</li>
<li>Install tools to allow you to compile <code>R</code> packages so you can install packages from source, if necessary (i.e., if package binaries are not available):
<ul>
<li>If on Windows, install <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>; may have to right click and “Run As Administrator”</li>
<li>If on Mac, install <a href="https://thecoatlessprofessor.com/programming/cpp/r-compiler-tools-for-rcpp-on-macos/">R Compiler Tools for Rcpp on MacOS</a> (archived at <a href="https://perma.cc/B35J-R22X" class="uri">https://perma.cc/B35J-R22X</a>)</li>
</ul>
</li>
<li>Set up <code>git</code>, <code>GitLab</code>, and the <code>GitHub Desktop</code> App in the main program files directory; may have to right click and “Run As Administrator”; For instructions setting up and using <code>GitLab</code>, see here: <a href="https://devpsylab.github.io/DataAnalysis/git.html#toBegin" class="uri">https://devpsylab.github.io/DataAnalysis/git.html#toBegin</a>
</li>
<li>The <code>Rprofile.site</code> file in the <code>etc</code> folder of the <code>R</code> installation directory is the code that is run for <strong><em>every user</em></strong> at the beginning each time you load R. We will update the default <code>Rprofile.site</code> file with the lab’s <code>Rprofile.site</code> file so <code>R</code> installs packages in the correct location, sets the default package repository, updates packages, and gives you a fortune cookie. To do this, perform the following steps:
<ul>
<li>Rename the <code>Rprofile.site</code> file in the <code>R</code> installation directory (<code>C:/R/R-[InsertVersionNumber]/etc/Rprofile.site</code>) to be <code>Rprofile_BACKUP.site</code>
</li>
<li>Download the lab’s <code>Rprofile.site</code> file located in this repository at the following location (<a href="https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site" class="uri">https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site</a>), and paste it into the <code>R</code> installation directory (PC: <code>C:/R/R-[InsertVersionNumber]/etc/Rprofile.site</code>; Mac: <code>/Library/Frameworks/R.framework/Versions/[InsertVersionNumber]/Resources/etc/Rprofile.site</code>)</li>
</ul>
</li>
<li>The <code>.Rprofile</code> file in the user’s <code>Documents</code> folder is the code that is run for <strong><em>the particular user</em></strong> at the beginning each time you load R. We will update the default <code>.Rprofile</code> file (if there is one) with the lab’s <code>.Rprofile</code> file so <code>R</code> knows which computer you are using and which path to use (relative to where your <code>R</code> projects are located). To do this, perform the following steps:
<ul>
<li>Download the lab’s <code>.Rprofile</code> template file in this repository at the following location, and make sure to remove anything besides <code>.Rprofile</code> in the filename: <a href="https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/.Rprofile" class="uri">https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/.Rprofile</a>
</li>
<li>Open the lab’s <code>.Rprofile</code> file, and revise it with your HawkID</li>
<li>Revise the lab’s <code>.Rprofile</code> file with the local path to the <code>Documents</code> folder for each of the computers you will use to access <code>R</code> (e.g., home computer, work computer, laptop). Make sure to use forward slashes (<code>/</code>), not back slashes (<code>\</code>) in the path.</li>
<li>You will save the file in your <code>HOME</code> directory. To find the <code>HOME</code> directory, open <code>R</code> and type the following command: <code>Sys.getenv("HOME")</code>—the output of the command is the location of your <code>HOME</code> directory; If this is a lab computer, it may be located here: <code>//home.iowa.uiowa.edu/[user]/Documents</code>. If this is your personal computer, it may be located here: PC: <code>C:/Users/[user]/Documents</code>; Mac: <code>/Users/[user]</code>. Then close R.</li>
<li>If your <code>HOME</code> directory is in a OneDrive folder (or another cloud-based sync folder), you will want to change the directory of your <code>HOME</code> path so that it is not in a OneDrive folder. To do that, open <a href="https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10"><code>Environment Variables</code></a> (archived at <a href="https://perma.cc/A2E5-B5VA" class="uri">https://perma.cc/A2E5-B5VA</a>) in Windows. Then, add/edit <code>HOME</code> as the “variable name” with the intended location as the “variable value” (e.g., <code>C:/Users/[user]/Documents</code>, where you replace “user” with your HawkID).
<ul>
<li>You may also solve this issue by placing the following command in the <code>Rprofile.site</code> from the previous step
<ul>
<li><code>Sys.setenv("HOME" = "C:/Users/[specific user ID])/Documents")</code></li>
</ul>
</li>
</ul>
</li>
<li>Move the revised <code>.Rprofile</code> file to the <code>HOME</code> directory and overwrite the original <code>.Rprofile</code> file (if it exists). You may have to show hidden files in order to see the file (PC: see Windows Explorer settings; Mac: Command+Shift+Dot).</li>
<li>Make sure to show filename extensions in your file explorer window, and make sure the file is named <code>.Rprofile</code> (not <code>.Rprofile.Rprofile</code>). Make sure there is a period at the beginning of the filename.</li>
</ul>
</li>
<li>Run <code>RStudio</code>. If the <code>Rprofile.site</code> and <code>.Rprofile</code> files are correctly set up, they should pre-populate your <code>path</code> location when you open R. If the contents of the <code>Global Environment</code> in <code>RStudio</code> are empty, your <code>Rprofile.site</code> and/or <code>.Rprofile</code> files are not set up correctly.
<ul>
<li>If you get this error (<code>Error: could not find function "install.packages"</code>), run the following line manually and then restart <code>RStudio</code> after the package finishes installing: <code>install.packages("fortunes")</code>
</li>
</ul>
</li>
<li>For <a href="#sec-dontSaveWorkspace">reproducibility purposes</a>, prevent <code>R</code>/<code>RStudio</code> from saving your workspaces automatically using the following steps:
<ul>
<li>With RStudio running, choose <code>Tools → Global Options</code> from the menus.</li>
<li>In the Options dialog, change the value for <code>Save workspace to .RData on exit</code> to <code>Never</code>.</li>
<li>Click <code>OK</code>.</li>
</ul>
</li>
<li>Install the <code>petersenlab</code> <code>R</code> package using the following steps:
<ul>
<li>Install the <code>remotes</code> package using the following command: <code>install.packages("remotes")</code>
</li>
<li>Install the <code>petersenlab</code> package using the following command: <code>remotes::install_github("DevPsyLab/petersenlab")</code>
</li>
</ul>
</li>
<li>Request an <a href="https://redcap.icts.uiowa.edu/redcap/api/help/?content=tokens">API token</a> for the following REDCap project(s); note: please check with Dr.&nbsp;P before requesting an API token. In general, RAs should not have an API token.
<ul>
<li><a href="https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=4941">School Readiness Study</a></li>
<li><a href="https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=4958">School Readiness Study Screening</a></li>
<li><a href="https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=11233">201701837 - Mechanisms in the Development of Self-Regulation, School Readiness, and Behavior Problems [Data Extraction]</a></li>
<li><a href="https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=10440">School Readiness Study - Prospective Participants</a></li>
</ul>
</li>
<li>Complete the survey(s) provided by REDCap administration
<ul>
<li>The first section will be some basic questions about the planned usage of the API(s)
<ul>
<li><strong>You will need to provide the public IP address for your workspace computer</strong></li>
<li>To obtain the public IP address for a Windows PC:
<ul>
<li>Open Command Prompt</li>
<li>Type in <code>ipconfig</code> and press Enter</li>
<li>The <code>IPv4 Address</code> corresponds to your public IP</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>When your API token has been approved for these projects, open the <code>Encrypt REDCap Token.R</code> script: <a href="https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/REDCap%20Credentials/Encrypt%20REDCap%20Token.R" class="uri">https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/REDCap%20Credentials/Encrypt%20REDCap%20Token.R</a>
</li>
<li>Revise the API tokens to reflect yours, then run the script to save your encrypted credentials on the lab server and your encryption key on your local computer
<ul>
<li>Verify that the Encryption Key (<code>REDCap Encryption Key.RData</code>) was saved where you intended it to be saved on your local computer</li>
<li>Verify that a file named with your HawkID was saved here: <code>//lc-rs-store24.hpc.uiowa.edu/lss_itpetersen/Lab/Studies/School Readiness Study/Data Management/REDCap/Tokens/</code>
</li>
</ul>
</li>
<li>Copy the Encryption Key (<code>REDCap Encryption Key.RData</code>) to the comparable location of any other computers you own that you plan to access the data from
<ul>
<li>The file has to be in the comparable location (relative to the <code>path</code> variable you set in <code>Rprofile.site</code>) of every computer in order for it to be found by the <code>Export Data.R</code> script. The default location is: <code>file.path(path, "GitHub/R/Data/REDCap Encryption Key.RData")</code>, so if <code>path</code> is set as <code>"C:/User/YourName"</code>, the file would be saved in: <code>C:/User/YourName/GitHub/R/Data/REDCap Encryption Key.RData</code>. The recommended location for <code>GitHub</code> repos is to create a folder titled <code>GitHub</code> in your <code>Documents</code> folder, and to put repos in the <code>GitHub</code> folder; it is <em>NOT</em> recommended to put <code>git</code> repos in a OneDrive folder because <a href="https://stackoverflow.com/questions/19305033/why-is-putting-git-repositories-inside-of-a-dropbox-folder-not-recommended"><code>git</code> files tend not to play nice with syncing services</a> (archived at <a href="https://perma.cc/XZ6F-43G3" class="uri">https://perma.cc/XZ6F-43G3</a>; e.g., OneDrive, Dropbox)</li>
</ul>
</li>
<li>Add the SRS Data Processing repo from the lab drive to your <code>GitHub Desktop</code> App (<code>//lc-rs-store24.hpc.uiowa.edu/lss_itpetersen/Lab/Studies/School Readiness Study/Data Processing</code>)
<ul>
<li>For instructions, see the section on “<a href="https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/GitLab/GitLab%20Instructions.md#how-to-add-a-pre-existing-repo-from-the-lab-drive-rdssnetwork-share-to-your-computer">How to add a pre-existing repo from the lab drive (RDSS/network share) to your computer</a>” here: <a href="https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/GitLab/GitLab%20Instructions.md" class="uri">https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/GitLab/GitLab%20Instructions.md</a>
</li>
</ul>
</li>
<li>Open <code>RStudio</code> by using “Run as Administrator” (always open <code>RStudio</code> as an administrator so it has write access to the program files directory);</li>
<li>Open the <code>Export Data.R</code> script in R: <a href="https://research-git.uiowa.edu/petersenlab/srs/SRS-DataProcessing/blob/master/1.%20Export%20Data/Export%20Data.R" class="uri">https://research-git.uiowa.edu/petersenlab/srs/SRS-DataProcessing/blob/master/1.%20Export%20Data/Export%20Data.R</a> <code>\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data Processing\1. Export Data\Export Data.R</code>
</li>
<li>Ensure your HawkID and location of your encryption key in the script are correct, and then run the script to verify that you can export data from REDCap</li>
<li>For antialiased plots in <code>RStudio</code>, change the Graphics backend to <code>Cairo</code>: <code>Tools → Global Options → Graphics</code>
</li>
</ol></section><section id="sec-petersenlab" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Lab Package</h1>
<p>The <a href="https://devpsylab.github.io/petersenlab"><code>petersenlab</code> package</a> is here: <a href="https://devpsylab.github.io/petersenlab" class="uri">https://devpsylab.github.io/petersenlab</a>. To install the <a href="https://devpsylab.github.io/petersenlab"><code>petersenlab</code> package</a>, see instructions <a href="./dataManagement.html#sec-labFunctions">here</a>.</p>
</section><section id="sec-installPackages" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Install Packages</h1>
<p>To install and load <code>R</code> packages, see the instructions <a href="./dataManagement.html#sec-loadInstallPackages">here</a>.</p>
</section><section id="sec-updatePackages" class="level1" data-number="5"><h1 data-number="5">
<span class="header-section-number">5</span> Update Packages</h1>
<p>To update packages, use the following code:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html">update.packages</a></span><span class="op">(</span>checkBuilt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>One indication that the packages might not be updating to the latest version is seeing the same packages showing as needing an update after having run the <code><a href="https://rdrr.io/r/utils/update.packages.html">update.packages()</a></code> function. If this does not update the package(s) to the latest version, you may need to install the latest version of the package(s) from source (see the section on “<a href="#sec-setup">Initial Set Up</a>” of <code>R</code> for the software needed to install R packages from source):</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html">update.packages</a></span><span class="op">(</span>checkBuilt <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="sec-updateR" class="level1" data-number="6"><h1 data-number="6">
<span class="header-section-number">6</span> Update <code>R</code>
</h1>
<p>Instructions adapted from: <a href="https://mirror.las.iastate.edu/CRAN/bin/windows/base/rw-FAQ.html#What_0027s-the-best-way-to-upgrade_003f" class="uri">https://mirror.las.iastate.edu/CRAN/bin/windows/base/rw-FAQ.html#What_0027s-the-best-way-to-upgrade_003f</a> (archived at <a href="https://perma.cc/W5QW-MA6Q" class="uri">https://perma.cc/W5QW-MA6Q</a>)</p>
<ol type="1">
<li>Uninstall <code>R</code>
</li>
<li>Install the new <code>R</code> version into a directory that contains no spaces (see Step 2 in the <a href="#sec-setup">Initial Set Up</a> section above)</li>
<li>[You only need to do this step if you installed packages in the R-version-specific “Library” folder rather than the common/shared “Packages” folder—that is, you don’t need to do this step if you used the lab’s <code>Rprofile.site</code> file, as described above, which installs packages to the common/shared “Packages” folder]:
<ul>
<li>Copy installed packages in the “Library” folder to the “Library” folder in the new installation</li>
</ul>
</li>
<li>In new <code>R</code> version folder, copy the current <code>Rprofile.site</code> file as a backup (<code>Rprofile_BACKUP.site</code>) and overwrite the original file with the lab’s version of <code>Rprofile.site</code> from here: <a href="https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site" class="uri">https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site</a>
<ul>
<li>
<code>R</code> will run the file named <code>Rprofile.site</code> at initial runtime.</li>
</ul>
</li>
<li>Set the executables for <code>R</code> and <code>RStudio</code> to always run with administrator permissions.
<ul>
<li>If on Windows, open File Explorer and find the main executable of <code>R</code> (<code>C:\R\R-VERSION\bin\R.exe</code>) and <code>RStudio</code> (<code>C:\Program Files\RStudio\bin\RStudio.exe</code>). Right-click it to open the contextual menu. Then, click or tap on “Properties”. In the Properties window, go to the Compatibility tab. At the bottom of the window, check the box next to the “Run this program as an administrator” option, and then click or tap on Apply or OK.</li>
</ul>
</li>
<li>Make sure you have the latest version of the tools necessary to compile packages from source (i.e., Rtools for Windows or <code>R</code> Compiler Tools for Rcpp on MacOS; see the instructions in the section on <a href="#sec-setup">initial set up</a>)</li>
<li>Open the new <code>R</code> version and run <code>update.packages(checkBuilt = TRUE, ask = FALSE)</code>, and install any necessary packages</li>
<li>Close R</li>
<li>Delete anything left of the old installation</li>
</ol></section><section id="sec-bestPractices" class="level1" data-number="7"><h1 data-number="7">
<span class="header-section-number">7</span> Style Guide and Best Practices</h1>
<section id="create-rstudio-project" class="level2" data-number="7.1"><h2 data-number="7.1" class="anchored" data-anchor-id="create-rstudio-project">
<span class="header-section-number">7.1</span> Create <code>Rstudio Project</code>
</h2>
<p>For each data analysis project (i.e., each <a href="#sec-git"><code>GitLab</code>/<code>GitHub</code></a> repo), create an RStudio Project. This helps keep your project files organized.</p>
</section><section id="use-r-notebooks-for-computational-notebooks" class="level2" data-number="7.2"><h2 data-number="7.2" class="anchored" data-anchor-id="use-r-notebooks-for-computational-notebooks">
<span class="header-section-number">7.2</span> Use <code>R</code> Notebooks for “Computational Notebooks”</h2>
<p>Using <code>R</code> Notebooks for “Computational Notebooks” is helpful for reproducible code that can be shared with others. To create computational notebooks see the <code>Markdown</code> section on <a href="./markdown.html#sec-computationalNotebook">computational notebooks</a> in the Data Analysis guides.</p>
</section><section id="separate-sections-in-code" class="level2" data-number="7.3"><h2 data-number="7.3" class="anchored" data-anchor-id="separate-sections-in-code">
<span class="header-section-number">7.3</span> Separate sections in code</h2>
<ul>
<li>In <code>R</code> scripts, use sections.
<ul>
<li>To insert a section in <code>RStudio</code>, use <code>CTRL-Shift-R</code> or “Code” - “Insert Section”</li>
</ul>
</li>
<li>In <code>R</code> Notebooks/Markdown, use Headers and code chunks.
<ul>
<li>Headers: 1, 2, or 3 pound signs</li>
<li>Code Chunks: <code>Ctrl+Alt+I</code>; or click “Insert” button then “R”</li>
</ul>
</li>
</ul></section><section id="naming-variables" class="level2" data-number="7.4"><h2 data-number="7.4" class="anchored" data-anchor-id="naming-variables">
<span class="header-section-number">7.4</span> Naming variables</h2>
<ul>
<li>Use meaningful variable names; we want to know what a variable represents without having to consult an external codebook for every variable</li>
<li>Variable names should include the prefix for the measure followed by an underscore
<ul>
<li>e.g., <code>cbcl_</code> for the Child Behavior Checklist variables</li>
</ul>
</li>
<li>Use lower camel case for variable naming
<ul>
<li>e.g., <code>prefix_thisIsTheVariableName</code>
</li>
</ul>
</li>
<li>Do <strong>not</strong> include spaces in variable names</li>
</ul></section><section id="comment-code-frequently-and-clearly" class="level2" data-number="7.5"><h2 data-number="7.5" class="anchored" data-anchor-id="comment-code-frequently-and-clearly">
<span class="header-section-number">7.5</span> Comment code frequently and clearly!</h2>
<p>It is important to comment code frequently and clearly. You want you (and others) to easily be able to understand your code if you come back to it several years later!</p>
</section><section id="sec-dontSaveWorkspace" class="level2" data-number="7.6"><h2 data-number="7.6" class="anchored" data-anchor-id="sec-dontSaveWorkspace">
<span class="header-section-number">7.6</span> Don’t save your workspace image</h2>
<p>For reproducibility purposes, it is important <a href="https://www.r-bloggers.com/2017/04/using-r-dont-save-your-workspace/"><strong>not</strong> to save your workspace image</a> (archived at <a href="https://perma.cc/9SCZ-L4DE" class="uri">https://perma.cc/9SCZ-L4DE</a>). It is best practices to begin <code>R</code> each session with a clean workspace. If there is a <code>.Rdata</code> file in the same folder as the <code>Rstudio Project</code>, Rstudio will automatically load the objects into the workspace at the beginning of the session. This is problematic because those objects can interact/interfere with the code and can lead to problems with replicability for others who are running the code without those objects in the workspace. When you exit <code>RStudio</code>, <code>RStudio</code> asks if you want to “Save workspace image to <code>[filepath]/.Rdata</code>?” Make sure to select “Don’t Save”! However, do make sure to save your <code>R</code> scripts before exiting Rstudio.</p>
</section></section><section id="data-management" class="level1" data-number="8"><h1 data-number="8">
<span class="header-section-number">8</span> Data Management</h1>
<ul>
<li>The lab’s <a href="./dataManagement.html">Data Analysis Guides on Data Management</a>
</li>
<li>Tidyverse: <a href="https://www.tidyverse.org" class="uri">https://www.tidyverse.org</a>
</li>
<li>University of Iowa Workshops</li>
</ul></section><section id="saving-plots" class="level1" data-number="9"><h1 data-number="9">
<span class="header-section-number">9</span> Saving Plots</h1>
<p><code><a href="https://rdrr.io/r/grDevices/png.html">png(); dev.off()</a></code></p>
<ul>
<li>The lab’s <a href="./figures.html">Data Analysis Guides on Figures</a>
</li>
</ul></section><section id="saving-output" class="level1" data-number="10"><h1 data-number="10">
<span class="header-section-number">10</span> Saving Output</h1>
<p><code>R Markdown</code></p>
<ul>
<li>The lab’s <a href="./markdown.html">Data Analysis Guides on Markdown</a>
</li>
<li>
<a href="https://rmarkdown.rstudio.com/lesson-1.html" class="uri">https://rmarkdown.rstudio.com/lesson-1.html</a> (archived at <a href="https://perma.cc/8SQH-N68X" class="uri">https://perma.cc/8SQH-N68X</a>)</li>
<li>
<a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf</a> (archived at <a href="https://perma.cc/3NMT-4L25" class="uri">https://perma.cc/3NMT-4L25</a>)</li>
<li>
<a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a> (archived at <a href="https://perma.cc/UJC8-ZZVC" class="uri">https://perma.cc/UJC8-ZZVC</a>)</li>
</ul></section><section id="shortcuts" class="level1" data-number="11"><h1 data-number="11">
<span class="header-section-number">11</span> Shortcuts</h1>
<ul>
<li>Run selected line(s) of code: Ctrl + Enter</li>
<li>Comment/uncomment code: Ctrl + Shift + C</li>
<li>Pipe: Ctrl + Shift + M</li>
<li>Insert Code Chunk: Ctrl + Alt + I</li>
<li>Assignment operator: Alt + - (alt-dash)</li>
<li>Select multiple lines: Ctrl + Alt, up or down; or Alt + drag mouse</li>
<li>Search: Ctrl + Shift + F</li>
<li>Show all keyboard shortcuts: Alt + Shift + K</li>
</ul></section><section id="statistics-examples" class="level1" data-number="12"><h1 data-number="12">
<span class="header-section-number">12</span> Statistics Examples</h1>
<ul>
<li><a href="./bayesian.html">Bayesian Analysis</a></li>
<li><a href="./dataManagement.html">Data Management</a></li>
<li><a href="./developmentalScaling.html">Developmental Scaling</a></li>
<li><a href="./eda.html">Exploratory Data Analysis</a></li>
<li><a href="./factorAnalysis.html">Factor Analysis</a></li>
<li><a href="./hlm.html">Hierarchical Linear Modeling</a></li>
<li><a href="./irt.html">Item Response Theory</a></li>
<li><a href="./lda.html">Longitudinal Data Analysis</a></li>
<li><a href="./sem.html#sec-mediation">Mediation</a></li>
<li><a href="./regression.html#sec-moderation">Moderation/Interaction</a></li>
<li><a href="./multipleImputation.html">Multiple Imputation</a></li>
<li><a href="./pca.html">Principal Component Analysis</a></li>
<li><a href="./regression.html">Regression</a></li>
<li><a href="./sem.html">Structural Equation Modeling</a></li>
</ul></section><section id="running-scripts-automatically-with-windows" class="level1" data-number="13"><h1 data-number="13">
<span class="header-section-number">13</span> Running Scripts Automatically with Windows</h1>
<p><a href="https://www.spsanderson.com/steveondata/posts/2023-06-29/index.html" class="uri">https://www.spsanderson.com/steveondata/posts/2023-06-29/index.html</a> (archived at <a href="https://perma.cc/9EXK-W99Y" class="uri">https://perma.cc/9EXK-W99Y</a>)</p>
<p><code>R</code> scripts can be run automatically. For example, it can be helpful to have an <code>R</code> markdown report run automatically before the day begins.</p>
<ol type="1">
<li>Open the <code>Notepad</code> app and create a file with the following syntax.
<ul>
<li><code>Location of R executable file\R CMD BATCH "Path location of script that should be automatically run"</code></li>
<li><strong>Example:</strong></li>
<li><code>C:\R\4.1.3\bin\R CMD BATCH "R:\Lab\Studies\School Readiness Study\Data Processing\5. Reports\automatic_reports\Run_Reports_auto.R"</code></li>
</ul>
</li>
<li>Save the file as a <code>.bat</code> file in the desired location</li>
<li>Once the <code>.bat</code> file has been created, search <code>Task Scheduler</code> in the search bar <img src="images/task-scheduler.png" class="img-fluid" alt="task scheduler">
</li>
<li>In the <code>Actions</code> selection bar, select <code>Create basic Task...</code>
</li>
<li>Name the task and provide a description</li>
<li>Next, set the trigger for the new task (i.e., how often the task should run)</li>
<li>Set the action for the task by selecting <code>Start a program</code>
</li>
<li>Under, <code>Program/script</code> browse to the <code>.bat</code> file that was created in step 1 and select <code>Next</code>
</li>
<li>Click <code>Finish</code> and the script is now configured to run automatically</li>
<li>If you wish to schedule a task to run during a time at which your computer is likely to be asleep, you’ll need to change the <code>Conditions</code> of the task to ensure that the computer “wakes up” to execute the script
<ul>
<li>In the Task Scheduler Library, select the task you just created</li>
<li>The task should appear on the lower half of the screen (double click to open in a new window). Select <code>Conditions</code> from the tabs across the top of the task window</li>
<li>Select <code>Wake the computer to run this task</code>
<ul>
<li>Note that elevated account permissions may be required to set this condition</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Note: When <code>R</code> is updated, the path to the <code>bin</code> folder within <code>R</code> needs to be updated to reflect an accurate absolute path to R.</strong>
<ul>
<li>Example: <code>C:\R\4.1.3\bin\R CMD BATCH</code> changed to <code>C:\R\4.3.0\bin\R CMD BATCH</code>
</li>
</ul>
</li>
</ol>
<section id="troubleshooting" class="level2" data-number="13.1"><h2 data-number="13.1" class="anchored" data-anchor-id="troubleshooting">
<span class="header-section-number">13.1</span> Troubleshooting</h2>
<section id="pandoc-error" class="level3" data-number="13.1.1"><h3 data-number="13.1.1" class="anchored" data-anchor-id="pandoc-error">
<span class="header-section-number">13.1.1</span> Pandoc error</h3>
<p>This error may appear if you are attempting to render a markdown file</p>
<pre><code>pandoc version 1.12.3 or higher is required and was not found.</code></pre>
<p>The solution to this problem <a href="https://stackoverflow.com/questions/28432607/pandoc-version-1-12-3-or-higher-is-required-and-was-not-found-r-shiny">can be found at this link</a> (archived at <a href="https://perma.cc/YX57-BPRS" class="uri">https://perma.cc/YX57-BPRS</a>)</p>
</section></section></section><section id="sec-gitPush" class="level1" data-number="14"><h1 data-number="14">
<span class="header-section-number">14</span> Using R Script to Commit and Push Changes</h1>
<p>When using R to perform such actions as rendering sites and processing data, it can be useful to include code that commits and pushes relevant changes into the appropriate <code>git</code> repository. The steps below assume that you have <code>Git</code> and the <code>GitHub</code> desktop app installed. The instructions to download and configure <code>git</code> software can be found <a href="git.Rmd#sec-toBegin">here</a></p>
<ol type="1">
<li>
<p>Install and/or load <code>git2r</code> package</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"git2r"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/git2r/">git2r</a></span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
<li>
<p>Specify the path to your repository</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">repoPath</span> <span class="op">&lt;-</span> <span class="st">"C:/Users/username/Documents/GitHub/exampleRepo"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
<li>
<p>Open and define the repository</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">repo</span> <span class="op">&lt;-</span> <span class="fu">repository</span><span class="op">(</span><span class="va">repoPath</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
<li>
<p>Stage changes to be committed</p>
<ul>
<li><p>Stage all files in repo: <code>r  add(repo, "*")</code></p></li>
<li><p>Stage files with a specific file extension: <code>r  add(repo, "*.txt")</code></p></li>
<li><p>Stage files with one of any specified file extension: <code>r     add(repo, c("*.txt", "*.csv", "*.html"))</code></p></li>
<li><p>Stage files within a specific folder: <code>r     add(repo, "/folderName/*)</code></p></li>
<li><p>Stage one specific file: <code>r     add(repo, "fileName.txt)</code></p></li>
<li><p>Stage multiple specific files: <code>r     add(repo, c("thisFile.txt", "thatFile.txt", "anotherFile.txt"))</code></p></li>
</ul>
</li>
<li>
<p>Commit the changes</p>
<ul>
<li><p>Commit with a customized commit message: <code>r  commit(repo, "My commit message")</code></p></li>
<li>
<p>Commit with a generated message using system or environment variables:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example: include system date in commit message</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">Sys.Date</span>(), <span class="at">format =</span> <span class="sc">%Y-%</span>m<span class="sc">-</span>%d)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>message <span class="ot">&lt;-</span> <span class="fu">paste</span>(date, <span class="st">"daily site update"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">commit</span>(repo, message)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
</ul>
</li>
<li>
<p>Push changes</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">push</span><span class="op">(</span><span class="va">repo</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Note:</strong> The code included above will prompt <code>Git</code> to authenticate your credentials by manually providing your username and password in a popup window. The <code>push()</code> function accepts a <code>credentials = cred_user_pass("username", "password")</code> argument that will “bypass” the need for user input by including the relevant credentials in the <code>push()</code> function call. One could provide their username and password directly in the script running this function, but other more-secure options include:</p>
<ul>
<li>Using a <a href="https://docs.gitlab.com/user/profile/personal_access_tokens/">Personal Access Token</a>
</li>
<li>Using an <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key">SSH key</a>
</li>
<li>Encrypting credential information and storing the encrypted credential file somewhere accessible for use
<ul>
<li><p>See <a href="https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/REDCap%20Credentials/Encrypt%20REDCap%20Token.R">here</a> for an example of encryption and key creation</p></li>
<li>
<p>Using the encrypted credential and encryption key:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Define key location</span></span>
<span><span class="va">encryptionKeyLocation</span> <span class="op">&lt;-</span> <span class="st">"path/to/key/location/myKey.RData"</span></span>
<span></span>
<span><span class="co"># Load key into environment</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="va">encryptionKeyLocation</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read encrypted credential file using key</span></span>
<span><span class="va">creds</span> <span class="op">&lt;-</span> <span class="fu">read.aes</span><span class="op">(</span><span class="st">"path/to/encrypted/credentials/file.txt"</span>, key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract password from credential data</span></span>
<span><span class="va">myPassword</span> <span class="op">&lt;-</span> <span class="va">creds</span><span class="op">$</span><span class="va">password</span></span>
<span></span>
<span><span class="co"># Push changes to git using credentials</span></span>
<span><span class="fu">push</span><span class="op">(</span><span class="va">repo</span>, credentials <span class="op">=</span> <span class="fu">cred_user_pass</span><span class="op">(</span><span class="st">"insertUsername"</span>, <span class="va">myPassword</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
</ul>
</li>
</ul>
</li>
</ol></section><section id="sec-try" class="level1" data-number="15"><h1 data-number="15">
<span class="header-section-number">15</span> Using <code>try()</code> Statements</h1>
<p><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/try"><code>try()</code> statements</a> can be very useful in cases where you would like code to continue running even if a certain line errors out. If the code inside of the statement results in an error, the <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement will allow R to simply jump to the next line of code, rather than halting the entire process.</p>
<p>It is best practice to ensure that the smallest possible “unit” of code is wrapped in the <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement rather than a large section. This is because the <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement will treat everything within it as a “single” operation. Thus, an error ocurring early in the sequence within a <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement will cause the remainder of the sequence to be skipped, and R will skip to the next line of code outside of the present <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement.</p>
<p>For example:</p>
<p>The following code does NOT have <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements around the smallest possible unit. If <code>file_b.R</code> were to error out, <code>file_c.R</code> would not run. In other words, <code>file_c.R</code> would be skipped because it occurs after <code>file_b.R</code> in the <strong>same</strong> <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span><span class="op">(</span><span class="op">{</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file</span><span class="op">/</span><span class="va">file_a.R</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file</span><span class="op">/</span><span class="va">file_b.R</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file_c.R</span><span class="op">)</span>    </span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>On the other hand, the revised code below IS using <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements around the smallest possible unit. If <code>file_b.R</code> were to error out, <code>file_c.R</code> would then begin to run. This is because each individual file being “sourced” is wrapped in its <strong>own</strong> <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statement.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span><span class="op">(</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file</span><span class="op">/</span><span class="va">file_a.R</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span><span class="op">(</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file</span><span class="op">/</span><span class="va">file_b.R</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span><span class="op">(</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">file_c.R</span><span class="op">)</span><span class="op">}</span><span class="op">)</span>    </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section><section id="reading-password-protected-excel-databases" class="level1" data-number="16"><h1 data-number="16">
<span class="header-section-number">16</span> Reading Password Protected Excel Databases</h1>
<p>A helpful post can be found here: <br></p>
<p><a href="https://stackoverflow.com/questions/35852722/how-do-you-read-a-password-protected-excel-file-into-r" class="uri">https://stackoverflow.com/questions/35852722/how-do-you-read-a-password-protected-excel-file-into-r</a> (archived at <a href="https://perma.cc/U32Z-22VE" class="uri">https://perma.cc/U32Z-22VE</a>)</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"excel.link"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/gdemin/excel.link">"excel.link"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">passwordProtectedBook</span> <span class="op">&lt;-</span> <span class="fu">xl.read.file</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="st">"full path to workbook"</span><span class="op">)</span>, <span class="co">#Full path to workbook</span></span>
<span>password <span class="op">=</span> <span class="st">"pass"</span>, <span class="co">#password</span></span>
<span>write.res.password<span class="op">=</span><span class="st">"pass"</span><span class="op">)</span> <span class="co">#writing the reset password</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="sending-slacks-with-r" class="level1" data-number="17"><h1 data-number="17">
<span class="header-section-number">17</span> Sending slacks with <code>R</code>
</h1>
<p>Occasionally, it can be helpful to send a Slack message using <code>R</code>. For example, if a script does not run, a Slack message can be sent to inform the appropriate team members. <a href="https://www.infoworld.com/article/3402657/how-to-slack-from-r.html">These instructions</a> (archived at <a href="https://perma.cc/9CWJ-J5ZT" class="uri">https://perma.cc/9CWJ-J5ZT</a>) can largely be followed to set up <code>R</code> to send Slack messages. However, there are some differences:</p>
<ol type="1">
<li>When setting up the configuration file, use the below template. The slack API token should be placed in the <code>token</code> category.
<ul>
<li>Note the token will need to be updated every 30 days. You can generate a new token by navigating to the <a href="https://api.slack.com/apps">Slack API</a> and selecting <code>Oauth &amp; Permissions</code>
</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/slackAPI.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="slack picture"><img src="images/slackAPI.png" class="img-fluid figure-img" alt="slack picture"></a></p>
<figcaption>slack picture</figcaption></figure>
</div></li>
</ul>
</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>token<span class="sc">:</span> YOUR_FULL_API_TOKEN</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>channel<span class="sc">:</span> <span class="co">#general</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>username<span class="sc">:</span> slackr</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>incoming_webhook_url<span class="sc">:</span> https<span class="sc">:</span><span class="er">//</span>hooks.slack.com<span class="sc">/</span>services<span class="sc">/</span>XXXXX<span class="sc">/</span>XXXXX<span class="sc">/</span>XXXXX</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Once the configuration is complete, it is possible to send messages. For now, we have found it helpful to embed the slacks in the <code>tryCatch</code> function.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  CODE YOU WANT TO RUN,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#message to send if the code doesn't run</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  my_message <span class="ot">&lt;-</span> <span class="fu">paste</span>( <span class="st">"example message"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slackr_msg</span>(my_message, <span class="at">channel =</span> <span class="st">"#recruitment"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="slacking-specific-users" class="level2" data-number="17.1"><h2 data-number="17.1" class="anchored" data-anchor-id="slacking-specific-users">
<span class="header-section-number">17.1</span> Slacking Specific Users</h2>
<p>It is also possible to slack specific users with instructions found <a href="https://stackoverflow.com/questions/32419756/how-do-you-tag-people-with-a-slack-bot">at this link</a> (archived at <a href="https://perma.cc/59U5-V4GQ" class="uri">https://perma.cc/59U5-V4GQ</a>).</p>
</section></section><section id="replacing-n-with-a-space" class="level1" data-number="18"><h1 data-number="18">
<span class="header-section-number">18</span> Replacing <code>//n</code> with a space</h1>
<p>Many notes in projects that are exported from REDCap come with spaces denotes as <code>//n</code>. Use the below code to make these fields more readable in the future.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\n'</span>, <span class="st">', '</span>, <span class="va">df</span><span class="op">$</span><span class="va">notesField</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="working-with-r-on-a-network-drive" class="level1" data-number="19"><h1 data-number="19">
<span class="header-section-number">19</span> Working with <code>R</code> on a Network Drive</h1>
<p>When working with <code>R</code> on a network drive, it may be helpful to configure the project to store <code>.Rproj.user</code> on the local <code>C:/</code> drive rather than on the network drive, which results in slow execution times.</p>
<p>For more info:</p>
<ul>
<li><a href="https://github.com/rstudio/rstudio/pull/14875" class="uri">https://github.com/rstudio/rstudio/pull/14875</a></li>
<li><a href="https://github.com/rstudio/rstudio/issues/14619#issuecomment-2189855598" class="uri">https://github.com/rstudio/rstudio/issues/14619#issuecomment-2189855598</a></li>
<li><a href="https://github.com/rstudio/rstudio/issues/10417#issuecomment-2199930385" class="uri">https://github.com/rstudio/rstudio/issues/10417#issuecomment-2199930385</a></li>
</ul></section><section id="package-development" class="level1" data-number="20"><h1 data-number="20">
<span class="header-section-number">20</span> Package Development</h1>
<section id="working-with-renv-for-package-management" class="level2" data-number="20.1"><h2 data-number="20.1" class="anchored" data-anchor-id="working-with-renv-for-package-management">
<span class="header-section-number">20.1</span> Working with <code>renv</code> for Package Management</h2>
<p><code>renv</code> is used for reproducibility, by helping with package management (tracking package versions, etc.):</p>
<p><a href="https://rstudio.github.io/renv/articles/renv.html" class="uri">https://rstudio.github.io/renv/articles/renv.html</a></p>
<p>Before updating a package locally, make sure that it is available in the Posit Package Manager (so it can be available to GitHub Actions):</p>
<p><a href="https://packagemanager.posit.co" class="uri">https://packagemanager.posit.co</a></p>
<section id="updating-the-package" class="level3" data-number="20.1.1"><h3 data-number="20.1.1" class="anchored" data-anchor-id="updating-the-package">
<span class="header-section-number">20.1.1</span> Updating the Package</h3>
<ol type="1">
<li>To update the package, run the following in <code>R</code>:</li>
</ol>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 1. Update packages in package environment</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">upgrade</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">update</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">snapshot</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Add/edit code</span></span>
<span></span>
<span><span class="co"># 3. Update documentation</span></span>
<span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu">roxygenise</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Update package version (or can do this manually)</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_version</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<ol type="1">
<li><p>Then, build the package: Ctrl-Shift-B</p></li>
<li><p>Then, check the package: Ctrl-Shift-E</p></li>
<li><p>Then, run <a href="#sec-rCmdCheck"><code>R CMD check</code></a></p></li>
<li><p>Then, install the package:</p></li>
</ol>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"C:/R/Packages/petersenlab"</span><span class="op">)</span> <span class="co">#PC</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"/Library/Frameworks/R.framework/Packages/petersenlab"</span><span class="op">)</span> <span class="co">#Mac</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="installing-packages" class="level3" data-number="20.1.2"><h3 data-number="20.1.2" class="anchored" data-anchor-id="installing-packages">
<span class="header-section-number">20.1.2</span> Installing Packages</h3>
<p>To install new packages in the package environment, run the following in <code>R</code>:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"NAME_OF_PACKAGE"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>or:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"NAME_OF_PACKAGE"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section></section><section id="sec-rCmdCheck" class="level2" data-number="20.2"><h2 data-number="20.2" class="anchored" data-anchor-id="sec-rCmdCheck">
<span class="header-section-number">20.2</span> <code>R CMD check</code>
</h2>
<ol type="1">
<li>Build the source package (<code>.tar.gz</code> file)
<ul>
<li>Click on the “Build” tab in the top-right pane of RStudio, and then click “Build Source Package”, or run the following code in the <code>R</code> console:</li>
</ul>
</li>
</ol>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build</span><span class="op">(</span>pkg <span class="op">=</span> <span class="st">"D:/Documents/GitHub/petersenlab"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<ol type="1">
<li>
<p>Open terminal in RStudio</p>
<ul>
<li>After the package source (<code>.tar.gz</code> file) is built, open a terminal window directly in RStudio by clicking on the “Terminal” tab at the bottom of RStudio</li>
</ul>
</li>
<li>
<p>Run <code>R CMD check --as-cran</code></p>
<ul>
<li>In the terminal window, navigate to the directory where your package source (<code>.tar.gz</code> file) is located (commonly up one directory):</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ..</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Then, run <code>R CMD check --as-cran</code> followed by the name of your package tarball (making sure to update the package version in the filename). For example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD check <span class="at">--as-cran</span> petersenlab_1.0.0.tar.gz</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
</ol>
<section id="troubleshooting-1" class="level3" data-number="20.2.1"><h3 data-number="20.2.1" class="anchored" data-anchor-id="troubleshooting-1">
<span class="header-section-number">20.2.1</span> Troubleshooting</h3>
<section id="if-errors-compiling-the-pdf-manual" class="level4" data-number="20.2.1.1"><h4 data-number="20.2.1.1" class="anchored" data-anchor-id="if-errors-compiling-the-pdf-manual">
<span class="header-section-number">20.2.1.1</span> If errors compiling the PDF manual</h4>
<ol type="1">
<li>
<p>In the terminal:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ./petersenlab</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD Rd2pdf . <span class="at">--output</span><span class="op">=</span>man/figures/manual.pdf <span class="at">--force</span> <span class="at">--no-preview</span> <span class="at">--no-clean</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
<li><p>Then, delete the created folder whose name begins with “.Rd2pdf…”</p></li>
<li><p>In the R Console, build the source package in <code>R</code> (or using the instructions described <a href="#sec-rCmdCheck">above</a>):</p></li>
</ol>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build</span><span class="op">(</span>pkg <span class="op">=</span> <span class="st">"D:/Documents/GitHub/petersenlab"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<ol type="1">
<li>
<p>In the terminal (making sure to update the package version in the filename):</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD check <span class="at">--as-cran</span> petersenlab_1.0.0.tar.gz</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</li>
</ol></section><section id="no-visible-binding-for-global-variable-undefined-global-functions-or-variables" class="level4" data-number="20.2.1.2"><h4 data-number="20.2.1.2" class="anchored" data-anchor-id="no-visible-binding-for-global-variable-undefined-global-functions-or-variables">
<span class="header-section-number">20.2.1.2</span> <code>no visible binding for global variable</code>; <code>Undefined global functions or variables</code>
</h4>
<p>For example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>no visible binding <span class="cf">for</span> global variable</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'moderatorVal_centered'</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  Undefined global functions or variables<span class="sc">:</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    moderatorVal_centered predictorVal_centered</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Solution: set each variable to <code>NULL</code> in the package function before it is mentioned. For example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">predictorVal_centered</span> <span class="op">&lt;-</span> <span class="va">moderatorVal_centered</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section></section></section><section id="r-cmd-check-via-github-actions" class="level2" data-number="20.3"><h2 data-number="20.3" class="anchored" data-anchor-id="r-cmd-check-via-github-actions">
<span class="header-section-number">20.3</span> <code>R CMD check</code> via GitHub Actions</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_github_action</span><span class="op">(</span><span class="st">"check-standard"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="useful-keyboard-shortcuts-for-package-authoring" class="level2" data-number="20.4"><h2 data-number="20.4" class="anchored" data-anchor-id="useful-keyboard-shortcuts-for-package-authoring">
<span class="header-section-number">20.4</span> Useful keyboard shortcuts for package authoring:</h2>
<p>Install Package: ‘Ctrl + Shift + B’</p>
<p>Check Package: ‘Ctrl + Shift + E’</p>
<p>Test Package: ‘Ctrl + Shift + T’</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"C:/R/Packages/petersenlab"</span><span class="op">)</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">snapshot</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="pkgdown" class="level2" data-number="20.5"><h2 data-number="20.5" class="anchored" data-anchor-id="pkgdown">
<span class="header-section-number">20.5</span> <code>pkgdown</code>
</h2>
<p>Run once to configure your package to use pkgdown:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_pkgdown</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Then use <code>pkgdown</code> to build your website:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">pkgdown</span><span class="fu">::</span><span class="fu">build_site</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="steps-to-add-functions" class="level2" data-number="20.6"><h2 data-number="20.6" class="anchored" data-anchor-id="steps-to-add-functions">
<span class="header-section-number">20.6</span> Steps to Add Functions</h2>
<ol type="1">
<li>Add <code>.R</code> file with the function</li>
<li>Add the function to the <code>_pkgdown.yml</code> file</li>
<li>Update version number</li>
<li><code>renv::upgrade()</code></li>
<li><code>renv::update()</code></li>
<li><code>renv::snapshot()</code></li>
<li><code>roxygen2::roxygenise()</code></li>
<li>Install Package: ‘Ctrl + Shift + B’</li>
<li>Check Package: ‘Ctrl + Shift + E’</li>
<li><code>R CMD check</code></li>
<li>Commit and push changes</li>
<li>Update release version in GitHub</li>
</ol></section><section id="add-sub-packages" class="level2" data-number="20.7"><h2 data-number="20.7" class="anchored" data-anchor-id="add-sub-packages">
<span class="header-section-number">20.7</span> Add sub-packages</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build</span><span class="op">(</span>pkg <span class="op">=</span> <span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage1"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build</span><span class="op">(</span>pkg <span class="op">=</span> <span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage1_0.1.0.tar.gz"</span>, repos <span class="op">=</span> <span class="cn">NULL</span>, source <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span>, repos <span class="op">=</span> <span class="cn">NULL</span>, source <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html">install_local</a></span><span class="op">(</span><span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html">install_local</a></span><span class="op">(</span><span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="submit-package-to-cran" class="level2" data-number="20.8"><h2 data-number="20.8" class="anchored" data-anchor-id="submit-package-to-cran">
<span class="header-section-number">20.8</span> Submit Package to CRAN</h2>
<p><a href="https://cran.r-project.org/submit.html" class="uri">https://cran.r-project.org/submit.html</a></p>
</section><section id="resources" class="level2" data-number="20.9"><h2 data-number="20.9" class="anchored" data-anchor-id="resources">
<span class="header-section-number">20.9</span> Resources</h2>
<p>Official documentation for CRAN:</p>
<ul>
<li><a href="https://cran.r-project.org/doc/manuals/R-exts.html" class="uri">https://cran.r-project.org/doc/manuals/R-exts.html</a></li>
</ul>
<p>Unofficial documentation:</p>
<ul>
<li><a href="https://rpubs.com/YaRrr/rpackageintro" class="uri">https://rpubs.com/YaRrr/rpackageintro</a></li>
<li><a href="https://r-pkgs.org" class="uri">https://r-pkgs.org</a></li>
<li><a href="https://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf" class="uri">https://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf</a></li>
<li><a href="https://portal.stats.ox.ac.uk/userdata/ruth/APTS2012/Rcourse10.pdf" class="uri">https://portal.stats.ox.ac.uk/userdata/ruth/APTS2012/Rcourse10.pdf</a></li>
<li><a href="https://web.mit.edu/insong/www/pdf/rpackage_instructions.pdf" class="uri">https://web.mit.edu/insong/www/pdf/rpackage_instructions.pdf</a></li>
<li><a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/" class="uri">https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/</a></li>
</ul>
<section id="for-package-development-tasks" class="level3" data-number="20.9.1"><h3 data-number="20.9.1" class="anchored" data-anchor-id="for-package-development-tasks">
<span class="header-section-number">20.9.1</span> For Package Development Tasks</h3>
<ul>
<li><a href="https://usethis.r-lib.org/index.html" class="uri">https://usethis.r-lib.org/index.html</a></li>
</ul></section><section id="for-documentation" class="level3" data-number="20.9.2"><h3 data-number="20.9.2" class="anchored" data-anchor-id="for-documentation">
<span class="header-section-number">20.9.2</span> For Documentation</h3>
<ul>
<li><a href="https://github.com/r-lib/roxygen2#roxygen2" class="uri">https://github.com/r-lib/roxygen2#roxygen2</a></li>
<li><a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/" class="uri">https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/</a></li>
</ul></section><section id="creating-vignettes" class="level3" data-number="20.9.3"><h3 data-number="20.9.3" class="anchored" data-anchor-id="creating-vignettes">
<span class="header-section-number">20.9.3</span> Creating Vignettes</h3>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/package-vignette.html" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/package-vignette.html</a></li>
</ul></section><section id="for-licensing" class="level3" data-number="20.9.4"><h3 data-number="20.9.4" class="anchored" data-anchor-id="for-licensing">
<span class="header-section-number">20.9.4</span> For Licensing</h3>
<ul>
<li><a href="https://usethis.r-lib.org/reference/licenses.html" class="uri">https://usethis.r-lib.org/reference/licenses.html</a></li>
</ul></section></section></section><section id="sec-troubleshootingR" class="level1" data-number="21"><h1 data-number="21">
<span class="header-section-number">21</span> Troubleshooting</h1>
<p>To troubleshoot <code>R</code> issues, be resourceful. Try googling the error message or issue you are experiencing. See <a href="#sec-questions">here</a> for a list of places you can pose <code>R</code>-related questions for help. In addition, particular errors/warnings/issues are included below:</p>
<section id="general-troubleshooting-tips" class="level2" data-number="21.1"><h2 data-number="21.1" class="anchored" data-anchor-id="general-troubleshooting-tips">
<span class="header-section-number">21.1</span> General Troubleshooting Tips</h2>
<ol type="1">
<li>
<strong>Run code line-by-line to identify the source of the error</strong>
<ul>
<li>If you are using RStudio, a red line will often appear on the lefthand side of the screen to indicate the particular line(s) of code that result in an error</li>
<li>It may be useful to clear your working environment in R before trying to diagnose an error to be sure that you are not experiencing any interference from existing objects in the environment</li>
<li>Running code line-by-line is particularly useful because it allows you to inspect the data at each step of its processing
<ul>
<li>Data issues are commonly the culprit of code errors (see below)</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Check for typos</strong>
<ul>
<li>Are all brackets/parentheses/etc. closed?</li>
<li>Does the object/variable that you are referring to exist? (<em>If the object does not exisit, you will likely get an error message indicating <code>[object name] not found</code></em>)
<ul>
<li>Has it been defined somewhere prior in the code?</li>
<li>Does it depend on something else to be created?</li>
<li>Is its name spelled correctly?</li>
<li>Highlighting the object or variable in question and using <code>CTRL-F</code> to search for it is a good way to check these things</li>
</ul>
</li>
<li>Did you spell the function you want to use correctly?</li>
<li>Do you have commas separating items within a list/function/etc.?</li>
</ul>
</li>
<li>
<strong>Does your working environment have what it needs?</strong>
<ul>
<li>Are all necessary packages/libraries installed? Do any require an update?</li>
<li>Are all expected objects (dataframes, lists, environment variables, etc) present? Are they correct?</li>
</ul>
</li>
<li>
<strong>Investigate the structure of your data</strong>
<ul>
<li>Errors such as <code>non-numeric argument to binary operator</code> indicate that the function you are trying to use is expecting to recieve numeric data as an input but one or more of the inputs are not numeric
<ul>
<li>The function <code>class(data$variable)</code> (replace “data” and “variable” with whatever you are trying to invesitgate) is useful for determining how R is interpreting your data. Often, data that look like numbers can end up being stored as a character (text) variable. This can be due to import/export processes or due to an issue with data entry.
<ul>
<li>For example, when <code>00</code> is entered instead of <code>0</code> in a numeric field R is likely to interpret the variable as a character instead of a number when importing the data</li>
</ul>
</li>
</ul>
</li>
<li>Check to make sure that all expected rows/columns are present and that they look the way you expect them to
<ul>
<li>If your dataset has been created by joining/merging multiple dataframes, any duplicate columns not accounted for when joining may have a suffix appended to distinguish them (i.e., <code>variable.x</code> or <code>variable.y</code>)</li>
<li>To resolve this, either call the appended variable in subsequent manipulations (<code>variable.x</code> instead of <code>variable</code>) or deal with the duplicated columns before/during the joining process (e.g., include duplicate columns in the <code>by</code> argument of joining function or remove the redundant column from one of the datasets to be joined)</li>
</ul>
</li>
<li>If you have been creating/computing variables in your dataset, ensure that they are being computed as expected
<ul>
<li>Check for <code>NA</code> (missing) or <code>NaN</code> (not a number) values. Such values may not be an issue or error in all cases, but if you are not expecting that as a result of your computations, this might suggest an issue with the code and/or data structure</li>
<li>Check whether the computed values are reasonable</li>
</ul>
</li>
</ul>
</li>
</ol></section><section id="a-single-error-preventing-a-wiki-site-from-rendering" class="level2" data-number="21.2"><h2 data-number="21.2" class="anchored" data-anchor-id="a-single-error-preventing-a-wiki-site-from-rendering">
<span class="header-section-number">21.2</span> A single error preventing a Wiki site from rendering</h2>
<p>Code can be wrapped in <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements so that if an error occurs, the script will simply “skip” to the next line of code. These <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements are particularly useful when rendering a site; if they are not used, a single error will halt the entire process. <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements allow the code to continue running in spite of a line or two erroring out.</p>
<p>If you have already incorporated <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements and are still experiencing fatal errors in code, check to make sure that the smallest possible “unit” of code is wrapped in <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> statements, rather than large sections of code. See <a href="#sec-try">here</a> for more information.</p>
</section><section id="warning-packagename-package-in-filepath-library-will-not-be-updated" class="level2" data-number="21.3"><h2 data-number="21.3" class="anchored" data-anchor-id="warning-packagename-package-in-filepath-library-will-not-be-updated">
<span class="header-section-number">21.3</span> Warning: <code>PACKAGENAME</code> package in <code>FILEPATH</code> library will not be updated</h2>
<p>This warning might indicate that it cannot update the package because it is part of the base <code>R</code> installation. To fix this:</p>
<ul>
<li>find and delete the package that is part of the base <code>R</code> installation in the <code>library</code> directory of the <code>R</code> installation (e.g., <code>C:\R\R-4.3.1\library\PACKAGENAME\</code>)</li>
<li>make sure the package is also not in any other package installation locations (e.g., <code>C:\R\Packages\PACKAGENAME\</code>); if it is, delete it from there as well</li>
<li>then, after deleting the package from these locations, restart <code>R</code> and run <code>install.packages("PACKAGENAME")</code> to reinstall the package</li>
<li>close <code>R</code>
</li>
<li>if the package was part of the base <code>R</code> installation, move the installed package folder <code>C:\R\Packages\PACKAGENAME\</code> to the <code>library</code> directory of the <code>R</code> installation (e.g., <code>C:\R\R-4.3.1\library\PACKAGENAME\</code>)</li>
</ul></section></section><section id="session-info" class="level1" data-number="22"><h1 data-number="22">
<span class="header-section-number">22</span> Session Info</h1>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.2 (2025-10-31)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.3 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
 [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
 [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   

time zone: UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] htmlwidgets_1.6.4 compiler_4.5.2    fastmap_1.2.0     cli_3.6.5        
 [5] tools_4.5.2       htmltools_0.5.9   otel_0.2.0        yaml_2.3.12      
 [9] rmarkdown_2.30    knitr_1.51        jsonlite_2.0.0    xfun_0.55        
[13] digest_0.6.39     rlang_1.1.7       evaluate_1.0.5   </code></pre>
</div>
</div>


<!-- -->

</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main><!-- /main --><!-- Add lab logo --><p style="text-align: center;">
    <a href="https://developmental-psychopathology.lab.uiowa.edu" target="_blank">
        <img alt="Developmental Psychopathology Lab" src="images/formalLogo.png" width="60%"></a>
</p>

<br><hr>
<br><!-- Add icon library --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Add font awesome icons --><p style="text-align: center;">
    <a href="https://github.com/DevPsyLab" target="_blank" class="fa fa-github fa-fw fa-3x"></a>
    <a href="https://twitter.com/devpsylab" target="_blank" class="fa fa-twitter fa-fw fa-3x"></a>
    <a href="https://www.facebook.com/DevPsyLab" target="_blank" class="fa fa-facebook fa-fw fa-3x"></a>
	<a href="https://www.instagram.com/devpsylab" target="_blank" class="fa fa-instagram fa-fw fa-3x"></a>
</p>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/DevPsyLab\.github\.io\/DataAnalysis\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "R"</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a> <span class="at">&gt; "*`R` will always be arcane to those who do not make a serious effort to learn it. It is not meant to be intuitive and easy for casual users to just plunge into. It is far too complex and powerful for that. But the rewards are great for serious data analysts who put in the effort.*"</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>— <span class="co">[</span><span class="ot">Berton Gunter R-help August 2007</span><span class="co">](https://www.brodrigues.co/blog/2022-06-02-arcane/)</span> (archived at <span class="ot">&lt;https://perma.cc/KY9N-2FTT&gt;</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; "Evelyn Hall: I would like to know how (if) I can extract some of the information from the summary of my nlme.</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Simon Blomberg: This is </span><span class="in">`R`</span><span class="at">. There is no if. Only how."</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>— <span class="co">[</span><span class="ot">Evelyn Hall and Simon 'Yoda' Blomberg, R-help April 2005</span><span class="co">](https://www.brodrigues.co/blog/2022-06-02-arcane/)</span> (archived at <span class="ot">&lt;https://perma.cc/KY9N-2FTT&gt;</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="fu"># Learning `R` {#sec-learn}</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="fu">## Base R</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>Here are a slew of resources for learning base <span class="in">`R`</span> (in addition to the documents in the lab's <span class="co">[</span><span class="ot">Primer Articles folder</span><span class="co">](https://drive.google.com/drive/u/0/folders/1U0pNrjF2_tIPU6BiyCv0HqbOUA5P516r)</span>):</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`R for Data Science`</span> book: <span class="ot">&lt;https://r4ds.hadley.nz&gt;</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Tutorials from the book are available via the <span class="in">`r4ds.tutorials`</span> package: <span class="ot">&lt;https://ppbds.github.io/r4ds.tutorials/&gt;</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use this Intro to <span class="in">`R`</span>: <span class="ot">&lt;https://www.statmethods.net&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/SPQ2-DJKM&gt;</span>)</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>I used this resource considerably when I was learning <span class="in">`R`</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Codeacademy`</span> has free online courses: </span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Basics of using R: <span class="ot">&lt;https://www.codecademy.com/learn/learn-r&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/JHS2-EYUU&gt;</span>)</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Learn how to become a better coder: <span class="ot">&lt;https://www.r-bloggers.com/10-top-tips-for-becoming-a-better-coder/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/H3W7-QDAM&gt;</span>)</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How to become fluent in <span class="in">`R`</span>: <span class="ot">&lt;https://www.sharpsightlabs.com/blog/are-you-fluent-r/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/RWL5-GTWV&gt;</span>)</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Video training courses in <span class="in">`R`</span> skills: <span class="ot">&lt;https://www.pluralsight.com/search?q=R&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/U4ZZ-UE4X&gt;</span>)</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Browse the <span class="in">`Cookbook for R`</span> to find solutions to common tasks and problems: <span class="ot">&lt;http://www.cookbook-r.com&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/5ERJ-VRFR&gt;</span>)</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Browse the <span class="in">`R Graph Gallery`</span> to find examples of various graphs: <span class="ot">&lt;https://r-graph-gallery.com&gt;</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Free <span class="in">`Coursera`</span> courses on <span class="in">`R`</span>: <span class="ot">&lt;https://pairach.com/2012/12/22/learn-to-use-r-for-free-with-coursera/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/XJ5U-5E4W&gt;</span>)</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>MOOCs and courses to learn <span class="in">`R`</span>: <span class="ot">&lt;https://www.r-bloggers.com/moocs-and-courses-to-learn-r/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/MQ25-E3ME&gt;</span>)</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Watch these videos from <span class="in">`Coursera`</span>: <span class="ot">&lt;https://blog.revolutionanalytics.com/2012/12/coursera-videos.html&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/6FU4-PAQW&gt;</span>)</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`RStudio`</span> Webinars: <span class="ot">&lt;https://www.rstudio.com/resources/webinars/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/6RNR-98JB&gt;</span>)</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>UCLA Stats Website: <span class="ot">&lt;https://stats.idre.ucla.edu/r/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/M3N6-96RY&gt;</span>)</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Take this Introduction to <span class="in">`R`</span> course: <span class="ot">&lt;https://www.datacamp.com/courses/free-introduction-to-r&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/6ZM9-37L9&gt;</span>)</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Teaching <span class="in">`R`</span> in a Kinder, Gentler, More Effective Manner: <span class="ot">&lt;https://github.com/matloff/TidyverseSkeptic&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/QU9F-FBS8&gt;</span>)</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Learn <span class="in">`R`</span> interactively with <span class="in">`swirl`</span>: <span class="ot">&lt;https://swirlstats.com&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/TT9V-U663&gt;</span>)</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use the <span class="in">`learnr`</span> package: <span class="ot">&lt;https://blog.rstudio.com/2017/07/11/introducing-learnr/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/XGJ8-EXSN&gt;</span>)</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You will sometimes find relevant articles on <span class="in">`R-bloggers`</span>: <span class="ot">&lt;https://www.r-bloggers.com&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/EL3X-ZXBB&gt;</span>)</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a><span class="fu">## Statistics (using `R`)</span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>The following are resources for learning statistics using <span class="in">`R`</span>.</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`R`</span> for Data Science: <span class="ot">&lt;https://r4ds.hadley.nz&gt;</span></span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>UCLA Stats Website: <span class="ot">&lt;https://stats.oarc.ucla.edu/other/dae/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/FVG5-5X82&gt;</span>)</span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Codeacademy`</span> has free online courses: </span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Descriptive analysis and basic hypothesis testing: <span class="ot">&lt;https://www.codecademy.com/learn/learn-statistics-with-r&gt;</span></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Free textbook on Learning Statistics with <span class="in">`R`</span>: <span class="ot">&lt;https://learningstatisticswithr.com&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/SY87-5GCX&gt;</span>)</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>An excellent introductory textbook on Discovering Statistics using <span class="in">`R`</span>: <span class="ot">&lt;https://www.amazon.com/Discovering-Statistics-Using-Andy-Field/dp/1446200469&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/9LGU-7ZME&gt;</span>)</span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>My textbook that teaches <span class="in">`R`</span>/statistics through the lens of fantasy football: <span class="ot">&lt;https://isaactpetersen.github.io/Fantasy-Football-Analytics-Textbook&gt;</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a><span class="fu">## `tidyverse`</span></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>The following are resources for learning <span class="in">`tidyverse`</span>, which is a collection of <span class="in">`R`</span> packages for data management:</span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://www.tidyverse.org/learn/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/5ZUM-XGES&gt;</span>)</span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://www.linkedin.com/learning/learning-the-r-tidyverse/welcome?u=42459020&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/TD56-FX8R&gt;</span>)</span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a><span class="fu">## Getting Help/Questions {#sec-questions}</span></span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a>If you have <span class="in">`R`</span> questions, you can ask them in a number of places:</span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Forums:</span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="in">`Posit`</span>: <span class="ot">&lt;https://forum.posit.co&gt;</span></span>
<span id="cb35-69"><a href="#cb35-69" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="in">`StackOverflow`</span>: <span class="ot">&lt;https://stackoverflow.com/questions/tagged/r&gt;</span></span>
<span id="cb35-70"><a href="#cb35-70" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="in">`Reddit`</span>: <span class="ot">&lt;https://www.reddit.com/r/rstats/&gt;</span></span>
<span id="cb35-71"><a href="#cb35-71" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The <span class="in">`R`</span> mailing list: <span class="ot">&lt;https://stat.ethz.ch/mailman/listinfo/r-help&gt;</span></span>
<span id="cb35-72"><a href="#cb35-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-73"><a href="#cb35-73" aria-hidden="true" tabindex="-1"></a>The following article provides additional resources and good guidance: <span class="ot">&lt;https://www.r-bloggers.com/where-to-get-help-with-your-r-question/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/4RRE-KL33&gt;</span>).</span>
<span id="cb35-74"><a href="#cb35-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-75"><a href="#cb35-75" aria-hidden="true" tabindex="-1"></a>When posting a question on forums or mailing lists, keep a few things in mind:</span>
<span id="cb35-76"><a href="#cb35-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-77"><a href="#cb35-77" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Read the posting guidelines before posting!</span>
<span id="cb35-78"><a href="#cb35-78" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Be respectful of other people and their time.</span>
<span id="cb35-79"><a href="#cb35-79" aria-hidden="true" tabindex="-1"></a><span class="in">`R`</span> is free software.</span>
<span id="cb35-80"><a href="#cb35-80" aria-hidden="true" tabindex="-1"></a>People are offering their free time to help.</span>
<span id="cb35-81"><a href="#cb35-81" aria-hidden="true" tabindex="-1"></a>They are under no obligation to help you.</span>
<span id="cb35-82"><a href="#cb35-82" aria-hidden="true" tabindex="-1"></a>If you are disrespectful or act like they owe you anything, you will rub people the wrong way and will be less likely to get help.</span>
<span id="cb35-83"><a href="#cb35-83" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Provide a minimal, reproducible example.</span>
<span id="cb35-84"><a href="#cb35-84" aria-hidden="true" tabindex="-1"></a>Providing a minimal, reproducible example can be crucial for getting a helpful response.</span>
<span id="cb35-85"><a href="#cb35-85" aria-hidden="true" tabindex="-1"></a>By going to the trouble of creating a minimal, reproducible example and identifying the minimum conditions necessary to reproduce the issue, you will often figure out how to resolve it.</span>
<span id="cb35-86"><a href="#cb35-86" aria-hidden="true" tabindex="-1"></a>Here are guidelines on providing a minimal, reproducible example: <span class="ot">&lt;https://stackoverflow.com/help/minimal-reproducible-example&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/6NUB-UTYF&gt;</span>).</span>
<span id="cb35-87"><a href="#cb35-87" aria-hidden="true" tabindex="-1"></a>Here are a good example and guidelines for providing a minimal, reproducible example in <span class="in">`R`</span>: <span class="ot">&lt;https://stackoverflow.com/a/5963610&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/PC9L-DQZG&gt;</span>).</span>
<span id="cb35-88"><a href="#cb35-88" aria-hidden="true" tabindex="-1"></a>Provide a <span class="in">`reprex`</span> whenever possible: <span class="ot">&lt;https://reprex.tidyverse.org&gt;</span>.</span>
<span id="cb35-89"><a href="#cb35-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-90"><a href="#cb35-90" aria-hidden="true" tabindex="-1"></a><span class="fu"># Initial Set Up {#sec-setup}</span></span>
<span id="cb35-91"><a href="#cb35-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-92"><a href="#cb35-92" aria-hidden="true" tabindex="-1"></a>Note: many of these initial setup steps described below are not necessary for general use; many of these steps are necessary only for using lab-related repositories (e.g., to gain API access to export data from <span class="in">`REDCap`</span>, to use absolute paths rather than relative paths so repos can communicate with each other, etc.).</span>
<span id="cb35-93"><a href="#cb35-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-94"><a href="#cb35-94" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Make sure you are logged onto a computer that can access the lab server (either a lab computer, or a computer you can VPN into the lab server), and that you have admin access to install and uninstall software</span>
<span id="cb35-95"><a href="#cb35-95" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install <span class="in">`R`</span> (<span class="ot">&lt;https://www.r-project.org&gt;</span>) into a directory that contains no spaces; On PC, change the location from the default <span class="in">`C:/Program Files/R/[R-VERSION]`</span> (which contains a space) to <span class="in">`C:/R/[R-VERSION]`</span> (<span class="co">[</span><span class="ot">which does not contain any spaces</span><span class="co">](https://cran.r-project.org/doc/manuals/r-release/R-admin.html#Installing-R-under-Windows)</span>; archived at <span class="ot">&lt;https://perma.cc/6VMX-3LYX&gt;</span>—this is because <span class="co">[</span><span class="ot">some packages that require compilation to install cannot read filepaths with spaces</span><span class="co">](https://cran.r-project.org/doc/manuals/r-release/R-admin.html#Installation)</span>; archived at <span class="ot">&lt;https://perma.cc/XA3V-JTPY&gt;</span>); may have to right click and "Run As Administrator"</span>
<span id="cb35-96"><a href="#cb35-96" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If <span class="in">`R`</span> was already installed in a directory that contains spaces (e.g., <span class="in">`C:/Program Files/R/[R-VERSION]`</span>), uninstall <span class="in">`R`</span> before installing it in a directory that doesn't contain spaces</span>
<span id="cb35-97"><a href="#cb35-97" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install <span class="in">`RStudio`</span> Desktop (<span class="ot">&lt;https://www.rstudio.com/products/rstudio/download/&gt;</span>) in the main program files directory; may have to right click and "Run As Administrator".</span>
<span id="cb35-98"><a href="#cb35-98" aria-hidden="true" tabindex="-1"></a><span class="in">`RStudio`</span> is the best available graphical user interface for R.</span>
<span id="cb35-99"><a href="#cb35-99" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Set the executables for <span class="in">`R`</span> and <span class="in">`RStudio`</span> to always run with administrator permissions.</span>
<span id="cb35-100"><a href="#cb35-100" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If on Windows, open File Explorer and find the main executable of <span class="in">`R`</span> (<span class="in">`C:/R/[R-VERSION]/bin/R.exe`</span>) and <span class="in">`RStudio`</span> (<span class="in">`C:/Program Files/RStudio/bin/RStudio.exe`</span>).</span>
<span id="cb35-101"><a href="#cb35-101" aria-hidden="true" tabindex="-1"></a>    Right-click it to open the contextual menu.</span>
<span id="cb35-102"><a href="#cb35-102" aria-hidden="true" tabindex="-1"></a>    Then, click or tap on "Properties".</span>
<span id="cb35-103"><a href="#cb35-103" aria-hidden="true" tabindex="-1"></a>    In the Properties window, go to the Compatibility tab.</span>
<span id="cb35-104"><a href="#cb35-104" aria-hidden="true" tabindex="-1"></a>    At the bottom of the window, check the box next to the "Run this program as an administrator" option, and then click or tap on Apply or OK.</span>
<span id="cb35-105"><a href="#cb35-105" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install tools to allow you to compile <span class="in">`R`</span> packages so you can install packages from source, if necessary (i.e., if package binaries are not available):</span>
<span id="cb35-106"><a href="#cb35-106" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If on Windows, install <span class="co">[</span><span class="ot">Rtools</span><span class="co">](https://cran.r-project.org/bin/windows/Rtools/)</span>; may have to right click and "Run As Administrator"</span>
<span id="cb35-107"><a href="#cb35-107" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If on Mac, install <span class="co">[</span><span class="ot">R Compiler Tools for Rcpp on MacOS</span><span class="co">](https://thecoatlessprofessor.com/programming/cpp/r-compiler-tools-for-rcpp-on-macos/)</span> (archived at <span class="ot">&lt;https://perma.cc/B35J-R22X&gt;</span>)</span>
<span id="cb35-108"><a href="#cb35-108" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Set up <span class="in">`git`</span>, <span class="in">`GitLab`</span>, and the <span class="in">`GitHub Desktop`</span> App in the main program files directory; may have to right click and "Run As Administrator"; For instructions setting up and using <span class="in">`GitLab`</span>, see here: <span class="ot">&lt;https://devpsylab.github.io/DataAnalysis/git.html#toBegin&gt;</span></span>
<span id="cb35-109"><a href="#cb35-109" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>The <span class="in">`Rprofile.site`</span> file in the <span class="in">`etc`</span> folder of the <span class="in">`R`</span> installation directory is the code that is run for ***every user*** at the beginning each time you load R.  We will update the default <span class="in">`Rprofile.site`</span> file with the lab's <span class="in">`Rprofile.site`</span> file so <span class="in">`R`</span> installs packages in the correct location, sets the default package repository, updates packages, and gives you a fortune cookie.</span>
<span id="cb35-110"><a href="#cb35-110" aria-hidden="true" tabindex="-1"></a>To do this, perform the following steps:</span>
<span id="cb35-111"><a href="#cb35-111" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Rename the <span class="in">`Rprofile.site`</span> file in the <span class="in">`R`</span> installation directory (<span class="in">`C:/R/R-[InsertVersionNumber]/etc/Rprofile.site`</span>) to be <span class="in">`Rprofile_BACKUP.site`</span></span>
<span id="cb35-112"><a href="#cb35-112" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Download the lab's <span class="in">`Rprofile.site`</span> file located in this repository at the following location (<span class="ot">&lt;https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site&gt;</span>), and paste it into the <span class="in">`R`</span> installation directory (PC: <span class="in">`C:/R/R-[InsertVersionNumber]/etc/Rprofile.site`</span>; Mac: <span class="in">`/Library/Frameworks/R.framework/Versions/[InsertVersionNumber]/Resources/etc/Rprofile.site`</span>)</span>
<span id="cb35-113"><a href="#cb35-113" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>The <span class="in">`.Rprofile`</span> file in the user's <span class="in">`Documents`</span> folder is the code that is run for ***the particular user*** at the beginning each time you load R.</span>
<span id="cb35-114"><a href="#cb35-114" aria-hidden="true" tabindex="-1"></a>We will update the default <span class="in">`.Rprofile`</span> file (if there is one) with the lab's <span class="in">`.Rprofile`</span> file so <span class="in">`R`</span> knows which computer you are using and which path to use (relative to where your <span class="in">`R`</span> projects are located).</span>
<span id="cb35-115"><a href="#cb35-115" aria-hidden="true" tabindex="-1"></a>To do this, perform the following steps:</span>
<span id="cb35-116"><a href="#cb35-116" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Download the lab's <span class="in">`.Rprofile`</span> template file in this repository at the following location, and make sure to remove anything besides <span class="in">`.Rprofile`</span> in the filename: <span class="ot">&lt;https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/.Rprofile&gt;</span></span>
<span id="cb35-117"><a href="#cb35-117" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Open the lab's <span class="in">`.Rprofile`</span> file, and revise it with your HawkID</span>
<span id="cb35-118"><a href="#cb35-118" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Revise the lab's <span class="in">`.Rprofile`</span> file with the local path to the <span class="in">`Documents`</span> folder for each of the computers you will use to access <span class="in">`R`</span> (e.g., home computer, work computer, laptop).</span>
<span id="cb35-119"><a href="#cb35-119" aria-hidden="true" tabindex="-1"></a>    Make sure to use forward slashes (<span class="in">`/`</span>), not back slashes (<span class="in">`\`</span>) in the path.</span>
<span id="cb35-120"><a href="#cb35-120" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>You will save the file in your <span class="in">`HOME`</span> directory.</span>
<span id="cb35-121"><a href="#cb35-121" aria-hidden="true" tabindex="-1"></a>    To find the <span class="in">`HOME`</span> directory, open <span class="in">`R`</span> and type the following command: <span class="in">`Sys.getenv("HOME")`</span>—the output of the command is the location of your <span class="in">`HOME`</span> directory; If this is a lab computer, it may be located here: <span class="in">`//home.iowa.uiowa.edu/[user]/Documents`</span>.</span>
<span id="cb35-122"><a href="#cb35-122" aria-hidden="true" tabindex="-1"></a>    If this is your personal computer, it may be located here: PC: <span class="in">`C:/Users/[user]/Documents`</span>; Mac: <span class="in">`/Users/[user]`</span>.</span>
<span id="cb35-123"><a href="#cb35-123" aria-hidden="true" tabindex="-1"></a>    Then close R.</span>
<span id="cb35-124"><a href="#cb35-124" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If your <span class="in">`HOME`</span> directory is in a OneDrive folder (or another cloud-based sync folder), you will want to change the directory of your <span class="in">`HOME`</span> path so that it is not in a OneDrive folder.</span>
<span id="cb35-125"><a href="#cb35-125" aria-hidden="true" tabindex="-1"></a>    To do that, open <span class="co">[</span><span class="ot">`Environment Variables`</span><span class="co">](https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10)</span> (archived at <span class="ot">&lt;https://perma.cc/A2E5-B5VA&gt;</span>) in Windows.</span>
<span id="cb35-126"><a href="#cb35-126" aria-hidden="true" tabindex="-1"></a>    Then, add/edit <span class="in">`HOME`</span> as the "variable name" with the intended location as the "variable value" (e.g., <span class="in">`C:/Users/[user]/Documents`</span>, where you replace "user" with your HawkID).</span>
<span id="cb35-127"><a href="#cb35-127" aria-hidden="true" tabindex="-1"></a><span class="ss">        - </span>You may also solve this issue by placing the following command in the <span class="in">`Rprofile.site`</span> from the previous step</span>
<span id="cb35-128"><a href="#cb35-128" aria-hidden="true" tabindex="-1"></a><span class="ss">            - </span><span class="in">`Sys.setenv("HOME" = "C:/Users/[specific user ID])/Documents")`</span></span>
<span id="cb35-129"><a href="#cb35-129" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Move the revised <span class="in">`.Rprofile`</span> file to the <span class="in">`HOME`</span> directory and overwrite the original <span class="in">`.Rprofile`</span> file (if it exists).</span>
<span id="cb35-130"><a href="#cb35-130" aria-hidden="true" tabindex="-1"></a>    You may have to show hidden files in order to see the file (PC: see Windows Explorer settings; Mac: Command+Shift+Dot).</span>
<span id="cb35-131"><a href="#cb35-131" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Make sure to show filename extensions in your file explorer window, and make sure the file is named <span class="in">`.Rprofile`</span> (not <span class="in">`.Rprofile.Rprofile`</span>).</span>
<span id="cb35-132"><a href="#cb35-132" aria-hidden="true" tabindex="-1"></a>    Make sure there is a period at the beginning of the filename.</span>
<span id="cb35-133"><a href="#cb35-133" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Run <span class="in">`RStudio`</span>.</span>
<span id="cb35-134"><a href="#cb35-134" aria-hidden="true" tabindex="-1"></a>If the <span class="in">`Rprofile.site`</span> and <span class="in">`.Rprofile`</span> files are correctly set up, they should pre-populate your <span class="in">`path`</span> location when you open R.</span>
<span id="cb35-135"><a href="#cb35-135" aria-hidden="true" tabindex="-1"></a>If the contents of the <span class="in">`Global Environment`</span> in <span class="in">`RStudio`</span> are empty, your <span class="in">`Rprofile.site`</span> and/or <span class="in">`.Rprofile`</span> files are not set up correctly.</span>
<span id="cb35-136"><a href="#cb35-136" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If you get this error (<span class="in">`Error: could not find function "install.packages"`</span>), run the following line manually and then restart <span class="in">`RStudio`</span> after the package finishes installing: <span class="in">`install.packages("fortunes")`</span></span>
<span id="cb35-137"><a href="#cb35-137" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>For <span class="co">[</span><span class="ot">reproducibility purposes</span><span class="co">](#sec-dontSaveWorkspace)</span>, prevent <span class="in">`R`</span>/<span class="in">`RStudio`</span> from saving your workspaces automatically using the following steps:</span>
<span id="cb35-138"><a href="#cb35-138" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>With RStudio running, choose <span class="in">`Tools → Global Options`</span> from the menus.</span>
<span id="cb35-139"><a href="#cb35-139" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>In the Options dialog, change the value for <span class="in">`Save workspace to .RData on exit`</span> to <span class="in">`Never`</span>.</span>
<span id="cb35-140"><a href="#cb35-140" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Click <span class="in">`OK`</span>.</span>
<span id="cb35-141"><a href="#cb35-141" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install the <span class="in">`petersenlab`</span> <span class="in">`R`</span> package using the following steps:</span>
<span id="cb35-142"><a href="#cb35-142" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Install the <span class="in">`remotes`</span> package using the following command: <span class="in">`install.packages("remotes")`</span></span>
<span id="cb35-143"><a href="#cb35-143" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Install the <span class="in">`petersenlab`</span> package using the following command: <span class="in">`remotes::install_github("DevPsyLab/petersenlab")`</span></span>
<span id="cb35-144"><a href="#cb35-144" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Request an <span class="co">[</span><span class="ot">API token</span><span class="co">](https://redcap.icts.uiowa.edu/redcap/api/help/?content=tokens)</span> for the following REDCap project(s); note: please check with Dr. P before requesting an API token.</span>
<span id="cb35-145"><a href="#cb35-145" aria-hidden="true" tabindex="-1"></a>In general, RAs should not have an API token.</span>
<span id="cb35-146"><a href="#cb35-146" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">School Readiness Study</span><span class="co">](https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=4941)</span></span>
<span id="cb35-147"><a href="#cb35-147" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">School Readiness Study Screening</span><span class="co">](https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=4958)</span></span>
<span id="cb35-148"><a href="#cb35-148" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">201701837 - Mechanisms in the Development of Self-Regulation, School Readiness, and Behavior Problems [Data Extraction]</span><span class="co">](https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=11233)</span></span>
<span id="cb35-149"><a href="#cb35-149" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">School Readiness Study - Prospective Participants</span><span class="co">](https://redcap.icts.uiowa.edu/redcap/redcap_v12.4.1/index.php?pid=10440)</span></span>
<span id="cb35-150"><a href="#cb35-150" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Complete the survey(s) provided by REDCap administration</span>
<span id="cb35-151"><a href="#cb35-151" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>The first section will be some basic questions about the planned usage of the API(s)</span>
<span id="cb35-152"><a href="#cb35-152" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>**You will need to provide the public IP address for your workspace computer**</span>
<span id="cb35-153"><a href="#cb35-153" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>To obtain the public IP address for a Windows PC:</span>
<span id="cb35-154"><a href="#cb35-154" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>Open Command Prompt</span>
<span id="cb35-155"><a href="#cb35-155" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>Type in <span class="in">`ipconfig`</span> and press Enter</span>
<span id="cb35-156"><a href="#cb35-156" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>The <span class="in">`IPv4 Address`</span> corresponds to your public IP</span>
<span id="cb35-157"><a href="#cb35-157" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>When your API token has been approved for these projects, open the <span class="in">`Encrypt REDCap Token.R`</span> script:</span>
<span id="cb35-158"><a href="#cb35-158" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/REDCap%20Credentials/Encrypt%20REDCap%20Token.R&gt;</span></span>
<span id="cb35-159"><a href="#cb35-159" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Revise the API tokens to reflect yours, then run the script to save your encrypted credentials on the lab server and your encryption key on your local computer</span>
<span id="cb35-160"><a href="#cb35-160" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Verify that the Encryption Key (<span class="in">`REDCap Encryption Key.RData`</span>) was saved where you intended it to be saved on your local computer</span>
<span id="cb35-161"><a href="#cb35-161" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Verify that a file named with your HawkID was saved here: <span class="in">`//lc-rs-store24.hpc.uiowa.edu/lss_itpetersen/Lab/Studies/School Readiness Study/Data Management/REDCap/Tokens/`</span></span>
<span id="cb35-162"><a href="#cb35-162" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Copy the Encryption Key (<span class="in">`REDCap Encryption Key.RData`</span>) to the comparable location of any other computers you own that you plan to access the data from</span>
<span id="cb35-163"><a href="#cb35-163" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>The file has to be in the comparable location (relative to the <span class="in">`path`</span> variable you set in <span class="in">`Rprofile.site`</span>) of every computer in order for it to be found by the <span class="in">`Export Data.R`</span> script.</span>
<span id="cb35-164"><a href="#cb35-164" aria-hidden="true" tabindex="-1"></a>    The default location is: <span class="in">`file.path(path, "GitHub/R/Data/REDCap Encryption Key.RData")`</span>, so if <span class="in">`path`</span> is set as <span class="in">`"C:/User/YourName"`</span>, the file would be saved in: <span class="in">`C:/User/YourName/GitHub/R/Data/REDCap Encryption Key.RData`</span>.</span>
<span id="cb35-165"><a href="#cb35-165" aria-hidden="true" tabindex="-1"></a>    The recommended location for <span class="in">`GitHub`</span> repos is to create a folder titled <span class="in">`GitHub`</span> in your <span class="in">`Documents`</span> folder, and to put repos in the <span class="in">`GitHub`</span> folder; it is *NOT* recommended to put <span class="in">`git`</span> repos in a OneDrive folder because <span class="co">[</span><span class="ot">`git` files tend not to play nice with syncing services</span><span class="co">](https://stackoverflow.com/questions/19305033/why-is-putting-git-repositories-inside-of-a-dropbox-folder-not-recommended)</span> (archived at <span class="ot">&lt;https://perma.cc/XZ6F-43G3&gt;</span>; e.g., OneDrive, Dropbox)</span>
<span id="cb35-166"><a href="#cb35-166" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Add the SRS Data Processing repo from the lab drive to your <span class="in">`GitHub Desktop`</span> App (<span class="in">`//lc-rs-store24.hpc.uiowa.edu/lss_itpetersen/Lab/Studies/School Readiness Study/Data Processing`</span>)</span>
<span id="cb35-167"><a href="#cb35-167" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>For instructions, see the section on "<span class="co">[</span><span class="ot">How to add a pre-existing repo from the lab drive (RDSS/network share) to your computer</span><span class="co">](https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/GitLab/GitLab%20Instructions.md#how-to-add-a-pre-existing-repo-from-the-lab-drive-rdssnetwork-share-to-your-computer)</span>" here: <span class="ot">&lt;https://research-git.uiowa.edu/petersenlab/R-InitialSetup/blob/master/GitLab/GitLab%20Instructions.md&gt;</span></span>
<span id="cb35-168"><a href="#cb35-168" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open <span class="in">`RStudio`</span> by using "Run as Administrator" (always open <span class="in">`RStudio`</span> as an administrator so it has write access to the program files directory);</span>
<span id="cb35-169"><a href="#cb35-169" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open the <span class="in">`Export Data.R`</span> script in R:</span>
<span id="cb35-170"><a href="#cb35-170" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://research-git.uiowa.edu/petersenlab/srs/SRS-DataProcessing/blob/master/1.%20Export%20Data/Export%20Data.R&gt;</span></span>
<span id="cb35-171"><a href="#cb35-171" aria-hidden="true" tabindex="-1"></a><span class="in">`\\lc-rs-store24.hpc.uiowa.edu\lss_itpetersen\Lab\Studies\School Readiness Study\Data Processing\1. Export Data\Export Data.R`</span></span>
<span id="cb35-172"><a href="#cb35-172" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Ensure your HawkID and location of your encryption key in the script are correct, and then run the script to verify that you can export data from REDCap</span>
<span id="cb35-173"><a href="#cb35-173" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>For antialiased plots in <span class="in">`RStudio`</span>, change the Graphics backend to <span class="in">`Cairo`</span>:</span>
<span id="cb35-174"><a href="#cb35-174" aria-hidden="true" tabindex="-1"></a><span class="in">`Tools → Global Options → Graphics`</span></span>
<span id="cb35-175"><a href="#cb35-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-176"><a href="#cb35-176" aria-hidden="true" tabindex="-1"></a><span class="fu"># Lab Package {#sec-petersenlab}</span></span>
<span id="cb35-177"><a href="#cb35-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-178"><a href="#cb35-178" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">`petersenlab` package</span><span class="co">](https://devpsylab.github.io/petersenlab)</span> is here: <span class="ot">&lt;https://devpsylab.github.io/petersenlab&gt;</span>.</span>
<span id="cb35-179"><a href="#cb35-179" aria-hidden="true" tabindex="-1"></a>To install the <span class="co">[</span><span class="ot">`petersenlab` package</span><span class="co">](https://devpsylab.github.io/petersenlab)</span>, see instructions <span class="co">[</span><span class="ot">here</span><span class="co">](dataManagement.qmd#sec-labFunctions)</span>.</span>
<span id="cb35-180"><a href="#cb35-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-181"><a href="#cb35-181" aria-hidden="true" tabindex="-1"></a><span class="fu"># Install Packages {#sec-installPackages}</span></span>
<span id="cb35-182"><a href="#cb35-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-183"><a href="#cb35-183" aria-hidden="true" tabindex="-1"></a>To install and load <span class="in">`R`</span> packages, see the instructions <span class="co">[</span><span class="ot">here</span><span class="co">](dataManagement.qmd#sec-loadInstallPackages)</span>.</span>
<span id="cb35-184"><a href="#cb35-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-185"><a href="#cb35-185" aria-hidden="true" tabindex="-1"></a><span class="fu"># Update Packages {#sec-updatePackages}</span></span>
<span id="cb35-186"><a href="#cb35-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-187"><a href="#cb35-187" aria-hidden="true" tabindex="-1"></a>To update packages, use the following code:</span>
<span id="cb35-188"><a href="#cb35-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-191"><a href="#cb35-191" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-192"><a href="#cb35-192" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-193"><a href="#cb35-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-194"><a href="#cb35-194" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">checkBuilt =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-195"><a href="#cb35-195" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-196"><a href="#cb35-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-197"><a href="#cb35-197" aria-hidden="true" tabindex="-1"></a>One indication that the packages might not be updating to the latest version is seeing the same packages showing as needing an update after having run the <span class="in">`update.packages()`</span> function.</span>
<span id="cb35-198"><a href="#cb35-198" aria-hidden="true" tabindex="-1"></a>If this does not update the package(s) to the latest version, you may need to install the latest version of the package(s) from source (see the section on "<span class="co">[</span><span class="ot">Initial Set Up</span><span class="co">](#sec-setup)</span>" of <span class="in">`R`</span> for the software needed to install R packages from source):</span>
<span id="cb35-199"><a href="#cb35-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-202"><a href="#cb35-202" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-203"><a href="#cb35-203" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-204"><a href="#cb35-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-205"><a href="#cb35-205" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">checkBuilt =</span> <span class="cn">TRUE</span>, <span class="at">type =</span> <span class="st">"source"</span>)</span>
<span id="cb35-206"><a href="#cb35-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-207"><a href="#cb35-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-208"><a href="#cb35-208" aria-hidden="true" tabindex="-1"></a><span class="fu"># Update `R` {#sec-updateR}</span></span>
<span id="cb35-209"><a href="#cb35-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-210"><a href="#cb35-210" aria-hidden="true" tabindex="-1"></a>Instructions adapted from: <span class="ot">&lt;https://mirror.las.iastate.edu/CRAN/bin/windows/base/rw-FAQ.html#What_0027s-the-best-way-to-upgrade_003f&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/W5QW-MA6Q&gt;</span>)</span>
<span id="cb35-211"><a href="#cb35-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-212"><a href="#cb35-212" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Uninstall <span class="in">`R`</span></span>
<span id="cb35-213"><a href="#cb35-213" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install the new <span class="in">`R`</span> version into a directory that contains no spaces (see Step 2 in the <span class="co">[</span><span class="ot">Initial Set Up</span><span class="co">](#sec-setup)</span> section above)</span>
<span id="cb35-214"><a href="#cb35-214" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="co">[</span><span class="ot">You only need to do this step if you installed packages in the R-version-specific "Library" folder rather than the common/shared "Packages" folder—that is, you don't need to do this step if you used the lab's `Rprofile.site` file, as described above, which installs packages to the common/shared "Packages" folder</span><span class="co">]</span>:</span>
<span id="cb35-215"><a href="#cb35-215" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Copy installed packages in the "Library" folder to the "Library" folder in the new installation</span>
<span id="cb35-216"><a href="#cb35-216" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In new <span class="in">`R`</span> version folder, copy the current <span class="in">`Rprofile.site`</span> file as a backup (<span class="in">`Rprofile_BACKUP.site`</span>) and overwrite the original file with the lab's version of <span class="in">`Rprofile.site`</span> from here: <span class="ot">&lt;https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/R%20Setup%20Files/Rprofile.site&gt;</span></span>
<span id="cb35-217"><a href="#cb35-217" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="in">`R`</span> will run the file named <span class="in">`Rprofile.site`</span> at initial runtime.</span>
<span id="cb35-218"><a href="#cb35-218" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Set the executables for <span class="in">`R`</span> and <span class="in">`RStudio`</span> to always run with administrator permissions.</span>
<span id="cb35-219"><a href="#cb35-219" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If on Windows, open File Explorer and find the main executable of <span class="in">`R`</span> (<span class="in">`C:\R\R-VERSION\bin\R.exe`</span>) and <span class="in">`RStudio`</span> (<span class="in">`C:\Program Files\RStudio\bin\RStudio.exe`</span>).</span>
<span id="cb35-220"><a href="#cb35-220" aria-hidden="true" tabindex="-1"></a>    Right-click it to open the contextual menu.</span>
<span id="cb35-221"><a href="#cb35-221" aria-hidden="true" tabindex="-1"></a>    Then, click or tap on "Properties".</span>
<span id="cb35-222"><a href="#cb35-222" aria-hidden="true" tabindex="-1"></a>    In the Properties window, go to the Compatibility tab.</span>
<span id="cb35-223"><a href="#cb35-223" aria-hidden="true" tabindex="-1"></a>    At the bottom of the window, check the box next to the "Run this program as an administrator" option, and then click or tap on Apply or OK.</span>
<span id="cb35-224"><a href="#cb35-224" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Make sure you have the latest version of the tools necessary to compile packages from source (i.e., Rtools for Windows or <span class="in">`R`</span> Compiler Tools for Rcpp on MacOS; see the instructions in the section on <span class="co">[</span><span class="ot">initial set up</span><span class="co">](#sec-setup)</span>)</span>
<span id="cb35-225"><a href="#cb35-225" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open the new <span class="in">`R`</span> version and run <span class="in">`update.packages(checkBuilt = TRUE, ask = FALSE)`</span>, and install any necessary packages</span>
<span id="cb35-226"><a href="#cb35-226" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Close R</span>
<span id="cb35-227"><a href="#cb35-227" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Delete anything left of the old installation</span>
<span id="cb35-228"><a href="#cb35-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-229"><a href="#cb35-229" aria-hidden="true" tabindex="-1"></a><span class="fu"># Style Guide and Best Practices {#sec-bestPractices}</span></span>
<span id="cb35-230"><a href="#cb35-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-231"><a href="#cb35-231" aria-hidden="true" tabindex="-1"></a><span class="fu">## Create `Rstudio Project`</span></span>
<span id="cb35-232"><a href="#cb35-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-233"><a href="#cb35-233" aria-hidden="true" tabindex="-1"></a>For each data analysis project (i.e., each <span class="co">[</span><span class="ot">`GitLab`/`GitHub`</span><span class="co">](#sec-git)</span> repo), create an RStudio Project.</span>
<span id="cb35-234"><a href="#cb35-234" aria-hidden="true" tabindex="-1"></a>This helps keep your project files organized.</span>
<span id="cb35-235"><a href="#cb35-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-236"><a href="#cb35-236" aria-hidden="true" tabindex="-1"></a><span class="fu">## Use `R` Notebooks for "Computational Notebooks"</span></span>
<span id="cb35-237"><a href="#cb35-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-238"><a href="#cb35-238" aria-hidden="true" tabindex="-1"></a>Using <span class="in">`R`</span> Notebooks for "Computational Notebooks" is helpful for reproducible code that can be shared with others.</span>
<span id="cb35-239"><a href="#cb35-239" aria-hidden="true" tabindex="-1"></a>To create computational notebooks see the <span class="in">`Markdown`</span> section on <span class="co">[</span><span class="ot">computational notebooks</span><span class="co">](markdown.qmd#sec-computationalNotebook)</span> in the Data Analysis guides.</span>
<span id="cb35-240"><a href="#cb35-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-241"><a href="#cb35-241" aria-hidden="true" tabindex="-1"></a><span class="fu">## Separate sections in code</span></span>
<span id="cb35-242"><a href="#cb35-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-243"><a href="#cb35-243" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In <span class="in">`R`</span> scripts, use sections.</span>
<span id="cb35-244"><a href="#cb35-244" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>To insert a section in <span class="in">`RStudio`</span>, use <span class="in">`CTRL-Shift-R`</span> or "Code" - "Insert Section"</span>
<span id="cb35-245"><a href="#cb35-245" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In <span class="in">`R`</span> Notebooks/Markdown, use Headers and code chunks.</span>
<span id="cb35-246"><a href="#cb35-246" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Headers: 1, 2, or 3 pound signs</span>
<span id="cb35-247"><a href="#cb35-247" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Code Chunks: <span class="in">`Ctrl+Alt+I`</span>; or click "Insert" button then "R"</span>
<span id="cb35-248"><a href="#cb35-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-249"><a href="#cb35-249" aria-hidden="true" tabindex="-1"></a><span class="fu">## Naming variables</span></span>
<span id="cb35-250"><a href="#cb35-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-251"><a href="#cb35-251" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use meaningful variable names; we want to know what a variable represents without having to consult an external codebook for every variable</span>
<span id="cb35-252"><a href="#cb35-252" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Variable names should include the prefix for the measure followed by an underscore</span>
<span id="cb35-253"><a href="#cb35-253" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>e.g., <span class="in">`cbcl_`</span> for the Child Behavior Checklist variables</span>
<span id="cb35-254"><a href="#cb35-254" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use lower camel case for variable naming</span>
<span id="cb35-255"><a href="#cb35-255" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>e.g., <span class="in">`prefix_thisIsTheVariableName`</span></span>
<span id="cb35-256"><a href="#cb35-256" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Do **not** include spaces in variable names</span>
<span id="cb35-257"><a href="#cb35-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-258"><a href="#cb35-258" aria-hidden="true" tabindex="-1"></a><span class="fu">## Comment code frequently and clearly!</span></span>
<span id="cb35-259"><a href="#cb35-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-260"><a href="#cb35-260" aria-hidden="true" tabindex="-1"></a>It is important to comment code frequently and clearly.</span>
<span id="cb35-261"><a href="#cb35-261" aria-hidden="true" tabindex="-1"></a>You want you (and others) to easily be able to understand your code if you come back to it several years later!</span>
<span id="cb35-262"><a href="#cb35-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-263"><a href="#cb35-263" aria-hidden="true" tabindex="-1"></a><span class="fu">## Don't save your workspace image {#sec-dontSaveWorkspace}</span></span>
<span id="cb35-264"><a href="#cb35-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-265"><a href="#cb35-265" aria-hidden="true" tabindex="-1"></a>For reproducibility purposes, it is important <span class="co">[</span><span class="ot">**not** to save your workspace image</span><span class="co">](https://www.r-bloggers.com/2017/04/using-r-dont-save-your-workspace/)</span> (archived at <span class="ot">&lt;https://perma.cc/9SCZ-L4DE&gt;</span>).</span>
<span id="cb35-266"><a href="#cb35-266" aria-hidden="true" tabindex="-1"></a>It is best practices to begin <span class="in">`R`</span> each session with a clean workspace.</span>
<span id="cb35-267"><a href="#cb35-267" aria-hidden="true" tabindex="-1"></a>If there is a <span class="in">`.Rdata`</span> file in the same folder as the <span class="in">`Rstudio Project`</span>, Rstudio will automatically load the objects into the workspace at the beginning of the session.</span>
<span id="cb35-268"><a href="#cb35-268" aria-hidden="true" tabindex="-1"></a>This is problematic because those objects can interact/interfere with the code and can lead to problems with replicability for others who are running the code without those objects in the workspace.</span>
<span id="cb35-269"><a href="#cb35-269" aria-hidden="true" tabindex="-1"></a>When you exit <span class="in">`RStudio`</span>, <span class="in">`RStudio`</span> asks if you want to "Save workspace image to <span class="in">`[filepath]/.Rdata`</span>?"</span>
<span id="cb35-270"><a href="#cb35-270" aria-hidden="true" tabindex="-1"></a>Make sure to select "Don't Save"!</span>
<span id="cb35-271"><a href="#cb35-271" aria-hidden="true" tabindex="-1"></a>However, do make sure to save your <span class="in">`R`</span> scripts before exiting Rstudio.</span>
<span id="cb35-272"><a href="#cb35-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-273"><a href="#cb35-273" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Management</span></span>
<span id="cb35-274"><a href="#cb35-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-275"><a href="#cb35-275" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The lab's <span class="co">[</span><span class="ot">Data Analysis Guides on Data Management</span><span class="co">](dataManagement.qmd)</span></span>
<span id="cb35-276"><a href="#cb35-276" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Tidyverse: <span class="ot">&lt;https://www.tidyverse.org&gt;</span></span>
<span id="cb35-277"><a href="#cb35-277" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>University of Iowa Workshops</span>
<span id="cb35-278"><a href="#cb35-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-279"><a href="#cb35-279" aria-hidden="true" tabindex="-1"></a><span class="fu"># Saving Plots</span></span>
<span id="cb35-280"><a href="#cb35-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-281"><a href="#cb35-281" aria-hidden="true" tabindex="-1"></a><span class="in">`png(); dev.off()`</span></span>
<span id="cb35-282"><a href="#cb35-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-283"><a href="#cb35-283" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The lab's <span class="co">[</span><span class="ot">Data Analysis Guides on Figures</span><span class="co">](figures.qmd)</span></span>
<span id="cb35-284"><a href="#cb35-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-285"><a href="#cb35-285" aria-hidden="true" tabindex="-1"></a><span class="fu"># Saving Output</span></span>
<span id="cb35-286"><a href="#cb35-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-287"><a href="#cb35-287" aria-hidden="true" tabindex="-1"></a><span class="in">`R Markdown`</span></span>
<span id="cb35-288"><a href="#cb35-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-289"><a href="#cb35-289" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The lab's <span class="co">[</span><span class="ot">Data Analysis Guides on Markdown</span><span class="co">](markdown.qmd)</span></span>
<span id="cb35-290"><a href="#cb35-290" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://rmarkdown.rstudio.com/lesson-1.html&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/8SQH-N68X&gt;</span>)</span>
<span id="cb35-291"><a href="#cb35-291" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/3NMT-4L25&gt;</span>)</span>
<span id="cb35-292"><a href="#cb35-292" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://bookdown.org/yihui/rmarkdown/&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/UJC8-ZZVC&gt;</span>)</span>
<span id="cb35-293"><a href="#cb35-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-294"><a href="#cb35-294" aria-hidden="true" tabindex="-1"></a><span class="fu"># Shortcuts</span></span>
<span id="cb35-295"><a href="#cb35-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-296"><a href="#cb35-296" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Run selected line(s) of code: Ctrl + Enter</span>
<span id="cb35-297"><a href="#cb35-297" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Comment/uncomment code: Ctrl + Shift + C</span>
<span id="cb35-298"><a href="#cb35-298" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Pipe: Ctrl + Shift + M</span>
<span id="cb35-299"><a href="#cb35-299" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Insert Code Chunk: Ctrl + Alt + I</span>
<span id="cb35-300"><a href="#cb35-300" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Assignment operator: Alt + - (alt-dash)</span>
<span id="cb35-301"><a href="#cb35-301" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Select multiple lines: Ctrl + Alt, up or down; or Alt + drag mouse</span>
<span id="cb35-302"><a href="#cb35-302" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Search: Ctrl + Shift + F</span>
<span id="cb35-303"><a href="#cb35-303" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Show all keyboard shortcuts: Alt + Shift + K</span>
<span id="cb35-304"><a href="#cb35-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-305"><a href="#cb35-305" aria-hidden="true" tabindex="-1"></a><span class="fu"># Statistics Examples</span></span>
<span id="cb35-306"><a href="#cb35-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-307"><a href="#cb35-307" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Bayesian Analysis</span><span class="co">](bayesian.qmd)</span></span>
<span id="cb35-308"><a href="#cb35-308" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Data Management</span><span class="co">](dataManagement.qmd)</span></span>
<span id="cb35-309"><a href="#cb35-309" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Developmental Scaling</span><span class="co">](developmentalScaling.qmd)</span></span>
<span id="cb35-310"><a href="#cb35-310" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Exploratory Data Analysis</span><span class="co">](eda.qmd)</span></span>
<span id="cb35-311"><a href="#cb35-311" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Factor Analysis</span><span class="co">](factorAnalysis.qmd)</span></span>
<span id="cb35-312"><a href="#cb35-312" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Hierarchical Linear Modeling</span><span class="co">](hlm.qmd)</span></span>
<span id="cb35-313"><a href="#cb35-313" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Item Response Theory</span><span class="co">](irt.qmd)</span></span>
<span id="cb35-314"><a href="#cb35-314" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Longitudinal Data Analysis</span><span class="co">](lda.qmd)</span></span>
<span id="cb35-315"><a href="#cb35-315" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Mediation</span><span class="co">](sem.qmd#sec-mediation)</span></span>
<span id="cb35-316"><a href="#cb35-316" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Moderation/Interaction</span><span class="co">](regression.qmd#sec-moderation)</span></span>
<span id="cb35-317"><a href="#cb35-317" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Multiple Imputation</span><span class="co">](multipleImputation.qmd)</span></span>
<span id="cb35-318"><a href="#cb35-318" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Principal Component Analysis</span><span class="co">](pca.qmd)</span></span>
<span id="cb35-319"><a href="#cb35-319" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Regression</span><span class="co">](regression.qmd)</span></span>
<span id="cb35-320"><a href="#cb35-320" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Structural Equation Modeling</span><span class="co">](sem.qmd)</span></span>
<span id="cb35-321"><a href="#cb35-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-322"><a href="#cb35-322" aria-hidden="true" tabindex="-1"></a><span class="fu"># Running Scripts Automatically with Windows</span></span>
<span id="cb35-323"><a href="#cb35-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-324"><a href="#cb35-324" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.spsanderson.com/steveondata/posts/2023-06-29/index.html&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/9EXK-W99Y&gt;</span>)</span>
<span id="cb35-325"><a href="#cb35-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-326"><a href="#cb35-326" aria-hidden="true" tabindex="-1"></a><span class="in">`R`</span> scripts can be run automatically.</span>
<span id="cb35-327"><a href="#cb35-327" aria-hidden="true" tabindex="-1"></a>For example, it can be helpful to have an <span class="in">`R`</span> markdown report run automatically before the day begins.</span>
<span id="cb35-328"><a href="#cb35-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-329"><a href="#cb35-329" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open the <span class="in">`Notepad`</span> app and create a file with the following syntax.</span>
<span id="cb35-330"><a href="#cb35-330" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`Location of R executable file\R CMD BATCH "Path location of script that should be automatically run"`</span></span>
<span id="cb35-331"><a href="#cb35-331" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>**Example:** </span>
<span id="cb35-332"><a href="#cb35-332" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`C:\R\4.1.3\bin\R CMD BATCH "R:\Lab\Studies\School Readiness Study\Data Processing\5. Reports\automatic_reports\Run_Reports_auto.R"`</span></span>
<span id="cb35-333"><a href="#cb35-333" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Save the file as a <span class="in">`.bat`</span> file in the desired location</span>
<span id="cb35-334"><a href="#cb35-334" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Once the <span class="in">`.bat`</span> file has been created, search <span class="in">`Task Scheduler`</span> in the search bar</span>
<span id="cb35-335"><a href="#cb35-335" aria-hidden="true" tabindex="-1"></a><span class="al">![task scheduler](images/task-scheduler.png)</span></span>
<span id="cb35-336"><a href="#cb35-336" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In the <span class="in">`Actions`</span> selection bar, select <span class="in">`Create basic Task...`</span></span>
<span id="cb35-337"><a href="#cb35-337" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Name the task and provide a description</span>
<span id="cb35-338"><a href="#cb35-338" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Next, set the trigger for the new task (i.e., how often the task should run)</span>
<span id="cb35-339"><a href="#cb35-339" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Set the action for the task by selecting <span class="in">`Start a program`</span></span>
<span id="cb35-340"><a href="#cb35-340" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Under, <span class="in">`Program/script`</span> browse to the <span class="in">`.bat`</span> file that was created in step 1 and select <span class="in">`Next`</span></span>
<span id="cb35-341"><a href="#cb35-341" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Click <span class="in">`Finish`</span> and the script is now configured to run automatically</span>
<span id="cb35-342"><a href="#cb35-342" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>If you wish to schedule a task to run during a time at which your computer is likely to be asleep, you'll need to change the <span class="in">`Conditions`</span> of the task to ensure that the computer "wakes up" to execute the script</span>
<span id="cb35-343"><a href="#cb35-343" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>In the Task Scheduler Library, select the task you just created</span>
<span id="cb35-344"><a href="#cb35-344" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>The task should appear on the lower half of the screen (double click to open in a new window).</span>
<span id="cb35-345"><a href="#cb35-345" aria-hidden="true" tabindex="-1"></a>   Select <span class="in">`Conditions`</span> from the tabs across the top of the task window</span>
<span id="cb35-346"><a href="#cb35-346" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Select <span class="in">`Wake the computer to run this task`</span></span>
<span id="cb35-347"><a href="#cb35-347" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Note that elevated account permissions may be required to set this condition </span>
<span id="cb35-348"><a href="#cb35-348" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Note: When `R` is updated, the path to the `bin` folder within `R` needs to be updated to reflect an accurate absolute path to R.**</span>
<span id="cb35-349"><a href="#cb35-349" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Example: <span class="in">`C:\R\4.1.3\bin\R CMD BATCH`</span> changed to <span class="in">`C:\R\4.3.0\bin\R CMD BATCH`</span></span>
<span id="cb35-350"><a href="#cb35-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-351"><a href="#cb35-351" aria-hidden="true" tabindex="-1"></a><span class="fu">## Troubleshooting</span></span>
<span id="cb35-352"><a href="#cb35-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-353"><a href="#cb35-353" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pandoc error</span></span>
<span id="cb35-354"><a href="#cb35-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-355"><a href="#cb35-355" aria-hidden="true" tabindex="-1"></a>This error may appear if you are attempting to render a markdown file</span>
<span id="cb35-356"><a href="#cb35-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-357"><a href="#cb35-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-358"><a href="#cb35-358" aria-hidden="true" tabindex="-1"></a><span class="in">pandoc version 1.12.3 or higher is required and was not found.</span></span>
<span id="cb35-359"><a href="#cb35-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-360"><a href="#cb35-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-361"><a href="#cb35-361" aria-hidden="true" tabindex="-1"></a>The solution to this problem <span class="co">[</span><span class="ot">can be found at this link</span><span class="co">](https://stackoverflow.com/questions/28432607/pandoc-version-1-12-3-or-higher-is-required-and-was-not-found-r-shiny)</span> (archived at <span class="ot">&lt;https://perma.cc/YX57-BPRS&gt;</span>)</span>
<span id="cb35-362"><a href="#cb35-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-363"><a href="#cb35-363" aria-hidden="true" tabindex="-1"></a><span class="fu"># Using R Script to Commit and Push Changes {#sec-gitPush}</span></span>
<span id="cb35-364"><a href="#cb35-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-365"><a href="#cb35-365" aria-hidden="true" tabindex="-1"></a>When using R to perform such actions as rendering sites and processing data, it can be useful to include code that commits and pushes relevant changes into the appropriate <span class="in">`git`</span> repository. </span>
<span id="cb35-366"><a href="#cb35-366" aria-hidden="true" tabindex="-1"></a>The steps below assume that you have <span class="in">`Git`</span> and the <span class="in">`GitHub`</span> desktop app installed.</span>
<span id="cb35-367"><a href="#cb35-367" aria-hidden="true" tabindex="-1"></a>The instructions to download and configure <span class="in">`git`</span> software can be found <span class="co">[</span><span class="ot">here</span><span class="co">](git.Rmd#sec-toBegin)</span></span>
<span id="cb35-368"><a href="#cb35-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-369"><a href="#cb35-369" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install and/or load <span class="in">`git2r`</span> package</span>
<span id="cb35-370"><a href="#cb35-370" aria-hidden="true" tabindex="-1"></a>   <span class="in">```r</span></span>
<span id="cb35-371"><a href="#cb35-371" aria-hidden="true" tabindex="-1"></a>   <span class="fu">install.packages</span>(<span class="st">"git2r"</span>)</span>
<span id="cb35-372"><a href="#cb35-372" aria-hidden="true" tabindex="-1"></a>   <span class="fu">library</span>(git2r)</span>
<span id="cb35-373"><a href="#cb35-373" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb35-374"><a href="#cb35-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-375"><a href="#cb35-375" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Specify the path to your repository</span>
<span id="cb35-376"><a href="#cb35-376" aria-hidden="true" tabindex="-1"></a>   <span class="in">```r</span></span>
<span id="cb35-377"><a href="#cb35-377" aria-hidden="true" tabindex="-1"></a>   repoPath <span class="ot">&lt;-</span> <span class="st">"C:/Users/username/Documents/GitHub/exampleRepo"</span></span>
<span id="cb35-378"><a href="#cb35-378" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb35-379"><a href="#cb35-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-380"><a href="#cb35-380" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open and define the repository</span>
<span id="cb35-381"><a href="#cb35-381" aria-hidden="true" tabindex="-1"></a>   <span class="in">```r</span></span>
<span id="cb35-382"><a href="#cb35-382" aria-hidden="true" tabindex="-1"></a>   repo <span class="ot">&lt;-</span> <span class="fu">repository</span>(repoPath)</span>
<span id="cb35-383"><a href="#cb35-383" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb35-384"><a href="#cb35-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-385"><a href="#cb35-385" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Stage changes to be committed </span>
<span id="cb35-386"><a href="#cb35-386" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Stage all files in repo:</span>
<span id="cb35-387"><a href="#cb35-387" aria-hidden="true" tabindex="-1"></a>      <span class="in">```r</span></span>
<span id="cb35-388"><a href="#cb35-388" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add</span>(repo, <span class="st">"*"</span>)</span>
<span id="cb35-389"><a href="#cb35-389" aria-hidden="true" tabindex="-1"></a>      <span class="in">```</span></span>
<span id="cb35-390"><a href="#cb35-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-391"><a href="#cb35-391" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Stage files with a specific file extension:</span>
<span id="cb35-392"><a href="#cb35-392" aria-hidden="true" tabindex="-1"></a>      <span class="in">```r</span></span>
<span id="cb35-393"><a href="#cb35-393" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add</span>(repo, <span class="st">"*.txt"</span>)</span>
<span id="cb35-394"><a href="#cb35-394" aria-hidden="true" tabindex="-1"></a>      <span class="in">```</span></span>
<span id="cb35-395"><a href="#cb35-395" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-396"><a href="#cb35-396" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Stage files with one of any specified file extension:</span>
<span id="cb35-397"><a href="#cb35-397" aria-hidden="true" tabindex="-1"></a>       <span class="in">```r</span></span>
<span id="cb35-398"><a href="#cb35-398" aria-hidden="true" tabindex="-1"></a>       <span class="fu">add</span>(repo, <span class="fu">c</span>(<span class="st">"*.txt"</span>, <span class="st">"*.csv"</span>, <span class="st">"*.html"</span>))</span>
<span id="cb35-399"><a href="#cb35-399" aria-hidden="true" tabindex="-1"></a>       <span class="in">```</span></span>
<span id="cb35-400"><a href="#cb35-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-401"><a href="#cb35-401" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Stage files within a specific folder:</span>
<span id="cb35-402"><a href="#cb35-402" aria-hidden="true" tabindex="-1"></a>       <span class="in">```r</span></span>
<span id="cb35-403"><a href="#cb35-403" aria-hidden="true" tabindex="-1"></a>       <span class="fu">add</span>(repo, <span class="st">"/folderName/*)</span></span>
<span id="cb35-404"><a href="#cb35-404" aria-hidden="true" tabindex="-1"></a><span class="st">       ```</span></span>
<span id="cb35-405"><a href="#cb35-405" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb35-406"><a href="#cb35-406" aria-hidden="true" tabindex="-1"></a><span class="st">    - Stage one specific file:</span></span>
<span id="cb35-407"><a href="#cb35-407" aria-hidden="true" tabindex="-1"></a><span class="st">       ```r</span></span>
<span id="cb35-408"><a href="#cb35-408" aria-hidden="true" tabindex="-1"></a><span class="st">       add(repo, "</span>fileName.txt)</span>
<span id="cb35-409"><a href="#cb35-409" aria-hidden="true" tabindex="-1"></a>       <span class="in">```</span></span>
<span id="cb35-410"><a href="#cb35-410" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-411"><a href="#cb35-411" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Stage multiple specific files:</span>
<span id="cb35-412"><a href="#cb35-412" aria-hidden="true" tabindex="-1"></a>       <span class="in">```r</span></span>
<span id="cb35-413"><a href="#cb35-413" aria-hidden="true" tabindex="-1"></a>       <span class="fu">add</span>(repo, <span class="fu">c</span>(<span class="st">"thisFile.txt"</span>, <span class="st">"thatFile.txt"</span>, <span class="st">"anotherFile.txt"</span>))</span>
<span id="cb35-414"><a href="#cb35-414" aria-hidden="true" tabindex="-1"></a>       <span class="in">```</span></span>
<span id="cb35-415"><a href="#cb35-415" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Commit the changes</span>
<span id="cb35-416"><a href="#cb35-416" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Commit with a customized commit message:</span>
<span id="cb35-417"><a href="#cb35-417" aria-hidden="true" tabindex="-1"></a>      <span class="in">```r</span></span>
<span id="cb35-418"><a href="#cb35-418" aria-hidden="true" tabindex="-1"></a>      <span class="fu">commit</span>(repo, <span class="st">"My commit message"</span>)</span>
<span id="cb35-419"><a href="#cb35-419" aria-hidden="true" tabindex="-1"></a>      <span class="in">```</span></span>
<span id="cb35-420"><a href="#cb35-420" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb35-421"><a href="#cb35-421" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Commit with a generated message using system or environment variables:</span>
<span id="cb35-422"><a href="#cb35-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-423"><a href="#cb35-423" aria-hidden="true" tabindex="-1"></a>      <span class="in">```r</span></span>
<span id="cb35-424"><a href="#cb35-424" aria-hidden="true" tabindex="-1"></a>      <span class="co"># example: include system date in commit message</span></span>
<span id="cb35-425"><a href="#cb35-425" aria-hidden="true" tabindex="-1"></a>      date <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">Sys.Date</span>(), <span class="at">format =</span> <span class="sc">%Y-%</span>m<span class="sc">-</span>%d)</span>
<span id="cb35-426"><a href="#cb35-426" aria-hidden="true" tabindex="-1"></a>      message <span class="ot">&lt;-</span> <span class="fu">paste</span>(date, <span class="st">"daily site update"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span>
<span id="cb35-427"><a href="#cb35-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-428"><a href="#cb35-428" aria-hidden="true" tabindex="-1"></a>      <span class="fu">commit</span>(repo, message)</span>
<span id="cb35-429"><a href="#cb35-429" aria-hidden="true" tabindex="-1"></a>      <span class="in">```</span> </span>
<span id="cb35-430"><a href="#cb35-430" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Push changes</span>
<span id="cb35-431"><a href="#cb35-431" aria-hidden="true" tabindex="-1"></a>   <span class="in">```r</span></span>
<span id="cb35-432"><a href="#cb35-432" aria-hidden="true" tabindex="-1"></a>   <span class="fu">push</span>(repo)</span>
<span id="cb35-433"><a href="#cb35-433" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb35-434"><a href="#cb35-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-435"><a href="#cb35-435" aria-hidden="true" tabindex="-1"></a>   **Note:** The code included above will prompt <span class="in">`Git`</span> to authenticate your credentials by manually providing your username and password in a popup window. </span>
<span id="cb35-436"><a href="#cb35-436" aria-hidden="true" tabindex="-1"></a>   The <span class="in">`push()`</span> function accepts a <span class="in">`credentials = cred_user_pass("username", "password")`</span> argument that will "bypass" the need for user input by including the relevant credentials in the <span class="in">`push()`</span> function call. </span>
<span id="cb35-437"><a href="#cb35-437" aria-hidden="true" tabindex="-1"></a>   One could provide their username and password directly in the script running this function, but other more-secure options include:</span>
<span id="cb35-438"><a href="#cb35-438" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Using a <span class="co">[</span><span class="ot">Personal Access Token</span><span class="co">](https://docs.gitlab.com/user/profile/personal_access_tokens/)</span></span>
<span id="cb35-439"><a href="#cb35-439" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Using an <span class="co">[</span><span class="ot">SSH key</span><span class="co">](https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key)</span></span>
<span id="cb35-440"><a href="#cb35-440" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Encrypting credential information and storing the encrypted credential file somewhere accessible for use</span>
<span id="cb35-441"><a href="#cb35-441" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>See <span class="co">[</span><span class="ot">here</span><span class="co">](https://research-git.uiowa.edu/PetersenLab/R-InitialSetup/-/blob/master/REDCap%20Credentials/Encrypt%20REDCap%20Token.R)</span> for an example of encryption and key creation</span>
<span id="cb35-442"><a href="#cb35-442" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>Using the encrypted credential and encryption key:</span>
<span id="cb35-443"><a href="#cb35-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-444"><a href="#cb35-444" aria-hidden="true" tabindex="-1"></a>            <span class="in">```r</span></span>
<span id="cb35-445"><a href="#cb35-445" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Define key location</span></span>
<span id="cb35-446"><a href="#cb35-446" aria-hidden="true" tabindex="-1"></a>            encryptionKeyLocation <span class="ot">&lt;-</span> <span class="st">"path/to/key/location/myKey.RData"</span></span>
<span id="cb35-447"><a href="#cb35-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-448"><a href="#cb35-448" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Load key into environment</span></span>
<span id="cb35-449"><a href="#cb35-449" aria-hidden="true" tabindex="-1"></a>            <span class="fu">load</span>(encryptionKeyLocation)</span>
<span id="cb35-450"><a href="#cb35-450" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb35-451"><a href="#cb35-451" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Read encrypted credential file using key</span></span>
<span id="cb35-452"><a href="#cb35-452" aria-hidden="true" tabindex="-1"></a>            creds <span class="ot">&lt;-</span> <span class="fu">read.aes</span>(<span class="st">"path/to/encrypted/credentials/file.txt"</span>, <span class="at">key =</span> key)</span>
<span id="cb35-453"><a href="#cb35-453" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb35-454"><a href="#cb35-454" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Extract password from credential data</span></span>
<span id="cb35-455"><a href="#cb35-455" aria-hidden="true" tabindex="-1"></a>            myPassword <span class="ot">&lt;-</span> creds<span class="sc">$</span>password</span>
<span id="cb35-456"><a href="#cb35-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-457"><a href="#cb35-457" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Push changes to git using credentials</span></span>
<span id="cb35-458"><a href="#cb35-458" aria-hidden="true" tabindex="-1"></a>            <span class="fu">push</span>(repo, <span class="at">credentials =</span> <span class="fu">cred_user_pass</span>(<span class="st">"insertUsername"</span>, myPassword))</span>
<span id="cb35-459"><a href="#cb35-459" aria-hidden="true" tabindex="-1"></a>            <span class="in">```</span></span>
<span id="cb35-460"><a href="#cb35-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-461"><a href="#cb35-461" aria-hidden="true" tabindex="-1"></a><span class="fu"># Using `try()` Statements {#sec-try}</span></span>
<span id="cb35-462"><a href="#cb35-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-463"><a href="#cb35-463" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">`try()` statements</span><span class="co">](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/try)</span> can be very useful in cases where you would like code to continue running even if a certain line errors out. </span>
<span id="cb35-464"><a href="#cb35-464" aria-hidden="true" tabindex="-1"></a>If the code inside of the statement results in an error, the <span class="in">`try()`</span> statement will allow R to simply jump to the next line of code, rather than halting the entire process.</span>
<span id="cb35-465"><a href="#cb35-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-466"><a href="#cb35-466" aria-hidden="true" tabindex="-1"></a>It is best practice to ensure that the smallest possible "unit" of code is wrapped in the <span class="in">`try()`</span> statement rather than a large section.</span>
<span id="cb35-467"><a href="#cb35-467" aria-hidden="true" tabindex="-1"></a>This is because the <span class="in">`try()`</span> statement will treat everything within it as a "single" operation.</span>
<span id="cb35-468"><a href="#cb35-468" aria-hidden="true" tabindex="-1"></a>Thus, an error ocurring early in the sequence within a <span class="in">`try()`</span> statement will cause the remainder of the sequence to be skipped, and R will skip to the next line of code outside of the present <span class="in">`try()`</span> statement.</span>
<span id="cb35-469"><a href="#cb35-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-470"><a href="#cb35-470" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb35-471"><a href="#cb35-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-472"><a href="#cb35-472" aria-hidden="true" tabindex="-1"></a>The following code does NOT have <span class="in">`try()`</span> statements around the smallest possible unit.</span>
<span id="cb35-473"><a href="#cb35-473" aria-hidden="true" tabindex="-1"></a>If <span class="in">`file_b.R`</span> were to error out, <span class="in">`file_c.R`</span> would not run.</span>
<span id="cb35-474"><a href="#cb35-474" aria-hidden="true" tabindex="-1"></a>In other words, <span class="in">`file_c.R`</span> would be skipped because it occurs after <span class="in">`file_b.R`</span> in the **same** <span class="in">`try()`</span> statement.</span>
<span id="cb35-475"><a href="#cb35-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-476"><a href="#cb35-476" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb35-477"><a href="#cb35-477" aria-hidden="true" tabindex="-1"></a><span class="fu">try</span>({</span>
<span id="cb35-478"><a href="#cb35-478" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file<span class="sc">/</span>file_a.R)</span>
<span id="cb35-479"><a href="#cb35-479" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file<span class="sc">/</span>file_b.R)</span>
<span id="cb35-480"><a href="#cb35-480" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file_c.R)    </span>
<span id="cb35-481"><a href="#cb35-481" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb35-482"><a href="#cb35-482" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-483"><a href="#cb35-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-484"><a href="#cb35-484" aria-hidden="true" tabindex="-1"></a>On the other hand, the revised code below IS using <span class="in">`try()`</span> statements around the smallest possible unit.</span>
<span id="cb35-485"><a href="#cb35-485" aria-hidden="true" tabindex="-1"></a>If <span class="in">`file_b.R`</span> were to error out, <span class="in">`file_c.R`</span> would then begin to run.</span>
<span id="cb35-486"><a href="#cb35-486" aria-hidden="true" tabindex="-1"></a>This is because each individual file being "sourced" is wrapped in its **own** <span class="in">`try()`</span> statement.</span>
<span id="cb35-487"><a href="#cb35-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-488"><a href="#cb35-488" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb35-489"><a href="#cb35-489" aria-hidden="true" tabindex="-1"></a><span class="fu">try</span>({<span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file<span class="sc">/</span>file_a.R)})</span>
<span id="cb35-490"><a href="#cb35-490" aria-hidden="true" tabindex="-1"></a><span class="fu">try</span>({<span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file<span class="sc">/</span>file_b.R)})</span>
<span id="cb35-491"><a href="#cb35-491" aria-hidden="true" tabindex="-1"></a><span class="fu">try</span>({<span class="fu">source</span>(path<span class="sc">/</span>to<span class="sc">/</span>file_c.R)})    </span>
<span id="cb35-492"><a href="#cb35-492" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-493"><a href="#cb35-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-494"><a href="#cb35-494" aria-hidden="true" tabindex="-1"></a><span class="fu"># Reading Password Protected Excel Databases</span></span>
<span id="cb35-495"><a href="#cb35-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-496"><a href="#cb35-496" aria-hidden="true" tabindex="-1"></a>A helpful post can be found here: <span class="dt">&lt;</span><span class="kw">br</span><span class="dt">&gt;</span></span>
<span id="cb35-497"><a href="#cb35-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-498"><a href="#cb35-498" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://stackoverflow.com/questions/35852722/how-do-you-read-a-password-protected-excel-file-into-r&gt;</span> (archived at <span class="ot">&lt;https://perma.cc/U32Z-22VE&gt;</span>)</span>
<span id="cb35-499"><a href="#cb35-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-502"><a href="#cb35-502" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-503"><a href="#cb35-503" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-504"><a href="#cb35-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-505"><a href="#cb35-505" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"excel.link"</span>)</span>
<span id="cb35-506"><a href="#cb35-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-507"><a href="#cb35-507" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"excel.link"</span>)</span>
<span id="cb35-508"><a href="#cb35-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-509"><a href="#cb35-509" aria-hidden="true" tabindex="-1"></a>passwordProtectedBook <span class="ot">&lt;-</span> <span class="fu">xl.read.file</span>(<span class="fu">file.path</span>(<span class="st">"full path to workbook"</span>), <span class="co">#Full path to workbook</span></span>
<span id="cb35-510"><a href="#cb35-510" aria-hidden="true" tabindex="-1"></a><span class="at">password =</span> <span class="st">"pass"</span>, <span class="co">#password</span></span>
<span id="cb35-511"><a href="#cb35-511" aria-hidden="true" tabindex="-1"></a><span class="at">write.res.password=</span><span class="st">"pass"</span>) <span class="co">#writing the reset password</span></span>
<span id="cb35-512"><a href="#cb35-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-513"><a href="#cb35-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-514"><a href="#cb35-514" aria-hidden="true" tabindex="-1"></a><span class="fu"># Sending slacks with `R`</span></span>
<span id="cb35-515"><a href="#cb35-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-516"><a href="#cb35-516" aria-hidden="true" tabindex="-1"></a>Occasionally, it can be helpful to send a Slack message using <span class="in">`R`</span>.</span>
<span id="cb35-517"><a href="#cb35-517" aria-hidden="true" tabindex="-1"></a>For example, if a script does not run, a Slack message can be sent to inform the appropriate team members.</span>
<span id="cb35-518"><a href="#cb35-518" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">These instructions</span><span class="co">](https://www.infoworld.com/article/3402657/how-to-slack-from-r.html)</span> (archived at <span class="ot">&lt;https://perma.cc/9CWJ-J5ZT&gt;</span>) can largely be followed to set up <span class="in">`R`</span> to send Slack messages.</span>
<span id="cb35-519"><a href="#cb35-519" aria-hidden="true" tabindex="-1"></a>However, there are some differences:</span>
<span id="cb35-520"><a href="#cb35-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-521"><a href="#cb35-521" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>When setting up the configuration file, use the below template.</span>
<span id="cb35-522"><a href="#cb35-522" aria-hidden="true" tabindex="-1"></a>The slack API token should be placed in the <span class="in">`token`</span> category.</span>
<span id="cb35-523"><a href="#cb35-523" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Note the token will need to be updated every 30 days.</span>
<span id="cb35-524"><a href="#cb35-524" aria-hidden="true" tabindex="-1"></a>    You can generate a new token by navigating to the <span class="co">[</span><span class="ot">Slack API</span><span class="co">](https://api.slack.com/apps)</span> and selecting <span class="in">`Oauth &amp; Permissions`</span></span>
<span id="cb35-525"><a href="#cb35-525" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span><span class="al">![slack picture](images/slackAPI.png)</span></span>
<span id="cb35-526"><a href="#cb35-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-527"><a href="#cb35-527" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb35-528"><a href="#cb35-528" aria-hidden="true" tabindex="-1"></a>token<span class="sc">:</span> YOUR_FULL_API_TOKEN</span>
<span id="cb35-529"><a href="#cb35-529" aria-hidden="true" tabindex="-1"></a>channel<span class="sc">:</span> <span class="co">#general</span></span>
<span id="cb35-530"><a href="#cb35-530" aria-hidden="true" tabindex="-1"></a>username<span class="sc">:</span> slackr</span>
<span id="cb35-531"><a href="#cb35-531" aria-hidden="true" tabindex="-1"></a>incoming_webhook_url<span class="sc">:</span> https<span class="sc">:</span><span class="er">//</span>hooks.slack.com<span class="sc">/</span>services<span class="sc">/</span>XXXXX<span class="sc">/</span>XXXXX<span class="sc">/</span>XXXXX</span>
<span id="cb35-532"><a href="#cb35-532" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-533"><a href="#cb35-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-534"><a href="#cb35-534" aria-hidden="true" tabindex="-1"></a>Once the configuration is complete, it is possible to send messages. </span>
<span id="cb35-535"><a href="#cb35-535" aria-hidden="true" tabindex="-1"></a>For now, we have found it helpful to embed the slacks in the <span class="in">`tryCatch`</span> function. </span>
<span id="cb35-536"><a href="#cb35-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-539"><a href="#cb35-539" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-540"><a href="#cb35-540" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-541"><a href="#cb35-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-542"><a href="#cb35-542" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>(</span>
<span id="cb35-543"><a href="#cb35-543" aria-hidden="true" tabindex="-1"></a>  CODE YOU WANT TO RUN,</span>
<span id="cb35-544"><a href="#cb35-544" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e)</span>
<span id="cb35-545"><a href="#cb35-545" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb35-546"><a href="#cb35-546" aria-hidden="true" tabindex="-1"></a>  <span class="co">#message to send if the code doesn't run</span></span>
<span id="cb35-547"><a href="#cb35-547" aria-hidden="true" tabindex="-1"></a>  my_message <span class="ot">&lt;-</span> <span class="fu">paste</span>( <span class="st">"example message"</span>)</span>
<span id="cb35-548"><a href="#cb35-548" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slackr_msg</span>(my_message, <span class="at">channel =</span> <span class="st">"#recruitment"</span>)</span>
<span id="cb35-549"><a href="#cb35-549" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb35-550"><a href="#cb35-550" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-551"><a href="#cb35-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-552"><a href="#cb35-552" aria-hidden="true" tabindex="-1"></a><span class="fu">## Slacking Specific Users</span></span>
<span id="cb35-553"><a href="#cb35-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-554"><a href="#cb35-554" aria-hidden="true" tabindex="-1"></a>It is also possible to slack specific users with instructions found <span class="co">[</span><span class="ot">at this link</span><span class="co">](https://stackoverflow.com/questions/32419756/how-do-you-tag-people-with-a-slack-bot)</span> (archived at <span class="ot">&lt;https://perma.cc/59U5-V4GQ&gt;</span>).</span>
<span id="cb35-555"><a href="#cb35-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-556"><a href="#cb35-556" aria-hidden="true" tabindex="-1"></a><span class="fu"># Replacing `//n` with a space</span></span>
<span id="cb35-557"><a href="#cb35-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-558"><a href="#cb35-558" aria-hidden="true" tabindex="-1"></a>Many notes in projects that are exported from REDCap come with spaces denotes as <span class="in">`//n`</span>.</span>
<span id="cb35-559"><a href="#cb35-559" aria-hidden="true" tabindex="-1"></a>Use the below code to make these fields more readable in the future.</span>
<span id="cb35-560"><a href="#cb35-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-563"><a href="#cb35-563" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-564"><a href="#cb35-564" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-565"><a href="#cb35-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-566"><a href="#cb35-566" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">'</span><span class="sc">\\</span><span class="st">n'</span>, <span class="st">', '</span>, df<span class="sc">$</span>notesField)</span>
<span id="cb35-567"><a href="#cb35-567" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-568"><a href="#cb35-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-569"><a href="#cb35-569" aria-hidden="true" tabindex="-1"></a><span class="fu"># Working with `R` on a Network Drive</span></span>
<span id="cb35-570"><a href="#cb35-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-571"><a href="#cb35-571" aria-hidden="true" tabindex="-1"></a>When working with <span class="in">`R`</span> on a network drive, it may be helpful to configure the project to store <span class="in">`.Rproj.user`</span> on the local <span class="in">`C:/`</span> drive rather than on the network drive, which results in slow execution times.</span>
<span id="cb35-572"><a href="#cb35-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-573"><a href="#cb35-573" aria-hidden="true" tabindex="-1"></a>For more info:</span>
<span id="cb35-574"><a href="#cb35-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-575"><a href="#cb35-575" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://github.com/rstudio/rstudio/pull/14875&gt;</span></span>
<span id="cb35-576"><a href="#cb35-576" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://github.com/rstudio/rstudio/issues/14619#issuecomment-2189855598&gt;</span></span>
<span id="cb35-577"><a href="#cb35-577" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://github.com/rstudio/rstudio/issues/10417#issuecomment-2199930385&gt;</span></span>
<span id="cb35-578"><a href="#cb35-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-579"><a href="#cb35-579" aria-hidden="true" tabindex="-1"></a><span class="fu"># Package Development</span></span>
<span id="cb35-580"><a href="#cb35-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-581"><a href="#cb35-581" aria-hidden="true" tabindex="-1"></a><span class="fu">## Working with `renv` for Package Management</span></span>
<span id="cb35-582"><a href="#cb35-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-583"><a href="#cb35-583" aria-hidden="true" tabindex="-1"></a><span class="in">`renv`</span> is used for reproducibility, by helping with package management (tracking package versions, etc.):</span>
<span id="cb35-584"><a href="#cb35-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-585"><a href="#cb35-585" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://rstudio.github.io/renv/articles/renv.html&gt;</span></span>
<span id="cb35-586"><a href="#cb35-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-587"><a href="#cb35-587" aria-hidden="true" tabindex="-1"></a>Before updating a package locally, make sure that it is available in the Posit Package Manager (so it can be available to GitHub Actions):</span>
<span id="cb35-588"><a href="#cb35-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-589"><a href="#cb35-589" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://packagemanager.posit.co&gt;</span></span>
<span id="cb35-590"><a href="#cb35-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-591"><a href="#cb35-591" aria-hidden="true" tabindex="-1"></a><span class="fu">### Updating the Package</span></span>
<span id="cb35-592"><a href="#cb35-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-593"><a href="#cb35-593" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>To update the package, run the following in <span class="in">`R`</span>:</span>
<span id="cb35-594"><a href="#cb35-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-597"><a href="#cb35-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-598"><a href="#cb35-598" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-599"><a href="#cb35-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-600"><a href="#cb35-600" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Update packages in package environment</span></span>
<span id="cb35-601"><a href="#cb35-601" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">upgrade</span>()</span>
<span id="cb35-602"><a href="#cb35-602" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">update</span>()</span>
<span id="cb35-603"><a href="#cb35-603" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span>
<span id="cb35-604"><a href="#cb35-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-605"><a href="#cb35-605" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Add/edit code</span></span>
<span id="cb35-606"><a href="#cb35-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-607"><a href="#cb35-607" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Update documentation</span></span>
<span id="cb35-608"><a href="#cb35-608" aria-hidden="true" tabindex="-1"></a>roxygen2<span class="sc">::</span><span class="fu">roxygenise</span>()</span>
<span id="cb35-609"><a href="#cb35-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-610"><a href="#cb35-610" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Update package version (or can do this manually)</span></span>
<span id="cb35-611"><a href="#cb35-611" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_version</span>()</span>
<span id="cb35-612"><a href="#cb35-612" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-613"><a href="#cb35-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-614"><a href="#cb35-614" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Then, build the package: Ctrl-Shift-B</span>
<span id="cb35-615"><a href="#cb35-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-616"><a href="#cb35-616" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Then, check the package: Ctrl-Shift-E</span>
<span id="cb35-617"><a href="#cb35-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-618"><a href="#cb35-618" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Then, run <span class="co">[</span><span class="ot">`R CMD check`</span><span class="co">](#sec-rCmdCheck)</span></span>
<span id="cb35-619"><a href="#cb35-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-620"><a href="#cb35-620" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Then, install the package:</span>
<span id="cb35-621"><a href="#cb35-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-624"><a href="#cb35-624" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-625"><a href="#cb35-625" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-626"><a href="#cb35-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-627"><a href="#cb35-627" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"C:/R/Packages/petersenlab"</span>) <span class="co">#PC</span></span>
<span id="cb35-628"><a href="#cb35-628" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"/Library/Frameworks/R.framework/Packages/petersenlab"</span>) <span class="co">#Mac</span></span>
<span id="cb35-629"><a href="#cb35-629" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-630"><a href="#cb35-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-631"><a href="#cb35-631" aria-hidden="true" tabindex="-1"></a><span class="fu">### Installing Packages</span></span>
<span id="cb35-632"><a href="#cb35-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-633"><a href="#cb35-633" aria-hidden="true" tabindex="-1"></a>To install new packages in the package environment, run the following in <span class="in">`R`</span>:</span>
<span id="cb35-634"><a href="#cb35-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-637"><a href="#cb35-637" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-638"><a href="#cb35-638" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-639"><a href="#cb35-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-640"><a href="#cb35-640" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"NAME_OF_PACKAGE"</span>)</span>
<span id="cb35-641"><a href="#cb35-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-642"><a href="#cb35-642" aria-hidden="true" tabindex="-1"></a>or:</span>
<span id="cb35-645"><a href="#cb35-645" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-646"><a href="#cb35-646" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-647"><a href="#cb35-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-648"><a href="#cb35-648" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"NAME_OF_PACKAGE"</span>)</span>
<span id="cb35-649"><a href="#cb35-649" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-650"><a href="#cb35-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-651"><a href="#cb35-651" aria-hidden="true" tabindex="-1"></a><span class="fu">## `R CMD check` {#sec-rCmdCheck}</span></span>
<span id="cb35-652"><a href="#cb35-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-653"><a href="#cb35-653" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Build the source package (<span class="in">`.tar.gz`</span> file)</span>
<span id="cb35-654"><a href="#cb35-654" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Click on the "Build" tab in the top-right pane of RStudio, and then click "Build Source Package", or run the following code in the <span class="in">`R`</span> console:</span>
<span id="cb35-655"><a href="#cb35-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-658"><a href="#cb35-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-659"><a href="#cb35-659" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-660"><a href="#cb35-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-661"><a href="#cb35-661" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>(<span class="at">pkg =</span> <span class="st">"D:/Documents/GitHub/petersenlab"</span>)</span>
<span id="cb35-662"><a href="#cb35-662" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-663"><a href="#cb35-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-664"><a href="#cb35-664" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Open terminal in RStudio</span>
<span id="cb35-665"><a href="#cb35-665" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>After the package source (<span class="in">`.tar.gz`</span> file) is built, open a terminal window directly in RStudio by clicking on the "Terminal" tab at the bottom of RStudio</span>
<span id="cb35-666"><a href="#cb35-666" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Run <span class="in">`R CMD check --as-cran`</span></span>
<span id="cb35-667"><a href="#cb35-667" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>In the terminal window, navigate to the directory where your package source (<span class="in">`.tar.gz`</span> file) is located (commonly up one directory):</span>
<span id="cb35-668"><a href="#cb35-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-669"><a href="#cb35-669" aria-hidden="true" tabindex="-1"></a>    <span class="in">```bash</span></span>
<span id="cb35-670"><a href="#cb35-670" aria-hidden="true" tabindex="-1"></a>    <span class="bu">cd</span> ..</span>
<span id="cb35-671"><a href="#cb35-671" aria-hidden="true" tabindex="-1"></a>    <span class="in">```</span></span>
<span id="cb35-672"><a href="#cb35-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-673"><a href="#cb35-673" aria-hidden="true" tabindex="-1"></a><span class="in">    Then, run `R CMD check --as-cran` followed by the name of your package tarball (making sure to update the package version in the filename). For example:</span></span>
<span id="cb35-674"><a href="#cb35-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-675"><a href="#cb35-675" aria-hidden="true" tabindex="-1"></a><span class="in">    ```bash</span></span>
<span id="cb35-676"><a href="#cb35-676" aria-hidden="true" tabindex="-1"></a><span class="in">    R CMD check --as-cran petersenlab_1.0.0.tar.gz</span></span>
<span id="cb35-677"><a href="#cb35-677" aria-hidden="true" tabindex="-1"></a><span class="in">    ```</span></span>
<span id="cb35-678"><a href="#cb35-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-679"><a href="#cb35-679" aria-hidden="true" tabindex="-1"></a><span class="fu">### Troubleshooting</span></span>
<span id="cb35-680"><a href="#cb35-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-681"><a href="#cb35-681" aria-hidden="true" tabindex="-1"></a><span class="fu">#### If errors compiling the PDF manual</span></span>
<span id="cb35-682"><a href="#cb35-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-683"><a href="#cb35-683" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In the terminal:</span>
<span id="cb35-684"><a href="#cb35-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-685"><a href="#cb35-685" aria-hidden="true" tabindex="-1"></a>    <span class="in">```bash</span></span>
<span id="cb35-686"><a href="#cb35-686" aria-hidden="true" tabindex="-1"></a>    <span class="bu">cd</span> ./petersenlab</span>
<span id="cb35-687"><a href="#cb35-687" aria-hidden="true" tabindex="-1"></a>    <span class="ex">R</span> CMD Rd2pdf . <span class="at">--output</span><span class="op">=</span>man/figures/manual.pdf <span class="at">--force</span> <span class="at">--no-preview</span> <span class="at">--no-clean</span></span>
<span id="cb35-688"><a href="#cb35-688" aria-hidden="true" tabindex="-1"></a>    <span class="in">```</span></span>
<span id="cb35-689"><a href="#cb35-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-690"><a href="#cb35-690" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Then, delete the created folder whose name begins with ".Rd2pdf..."</span>
<span id="cb35-691"><a href="#cb35-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-692"><a href="#cb35-692" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In the R Console, build the source package in <span class="in">`R`</span> (or using the instructions described <span class="co">[</span><span class="ot">above</span><span class="co">](#sec-rCmdCheck)</span>):</span>
<span id="cb35-693"><a href="#cb35-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-696"><a href="#cb35-696" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-697"><a href="#cb35-697" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-698"><a href="#cb35-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-699"><a href="#cb35-699" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>(<span class="at">pkg =</span> <span class="st">"D:/Documents/GitHub/petersenlab"</span>)</span>
<span id="cb35-700"><a href="#cb35-700" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-701"><a href="#cb35-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-702"><a href="#cb35-702" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In the terminal (making sure to update the package version in the filename):</span>
<span id="cb35-703"><a href="#cb35-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-704"><a href="#cb35-704" aria-hidden="true" tabindex="-1"></a>    <span class="in">```bash</span></span>
<span id="cb35-705"><a href="#cb35-705" aria-hidden="true" tabindex="-1"></a>    <span class="bu">cd</span> ..</span>
<span id="cb35-706"><a href="#cb35-706" aria-hidden="true" tabindex="-1"></a>    <span class="ex">R</span> CMD check <span class="at">--as-cran</span> petersenlab_1.0.0.tar.gz</span>
<span id="cb35-707"><a href="#cb35-707" aria-hidden="true" tabindex="-1"></a>    <span class="in">```</span></span>
<span id="cb35-708"><a href="#cb35-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-709"><a href="#cb35-709" aria-hidden="true" tabindex="-1"></a><span class="fu">#### `no visible binding for global variable`; `Undefined global functions or variables`</span></span>
<span id="cb35-710"><a href="#cb35-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-711"><a href="#cb35-711" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb35-712"><a href="#cb35-712" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb35-713"><a href="#cb35-713" aria-hidden="true" tabindex="-1"></a>no visible binding <span class="cf">for</span> global variable</span>
<span id="cb35-714"><a href="#cb35-714" aria-hidden="true" tabindex="-1"></a>    <span class="st">'moderatorVal_centered'</span></span>
<span id="cb35-715"><a href="#cb35-715" aria-hidden="true" tabindex="-1"></a>  Undefined global functions or variables<span class="sc">:</span></span>
<span id="cb35-716"><a href="#cb35-716" aria-hidden="true" tabindex="-1"></a>    moderatorVal_centered predictorVal_centered</span>
<span id="cb35-717"><a href="#cb35-717" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-718"><a href="#cb35-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-719"><a href="#cb35-719" aria-hidden="true" tabindex="-1"></a>Solution: set each variable to <span class="in">`NULL`</span> in the package function before it is mentioned.</span>
<span id="cb35-720"><a href="#cb35-720" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb35-721"><a href="#cb35-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-722"><a href="#cb35-722" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb35-723"><a href="#cb35-723" aria-hidden="true" tabindex="-1"></a>predictorVal_centered <span class="ot">&lt;-</span> moderatorVal_centered <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb35-724"><a href="#cb35-724" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-725"><a href="#cb35-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-726"><a href="#cb35-726" aria-hidden="true" tabindex="-1"></a><span class="fu">## `R CMD check` via GitHub Actions</span></span>
<span id="cb35-727"><a href="#cb35-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-730"><a href="#cb35-730" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-731"><a href="#cb35-731" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-732"><a href="#cb35-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-733"><a href="#cb35-733" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action</span>(<span class="st">"check-standard"</span>)</span>
<span id="cb35-734"><a href="#cb35-734" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-735"><a href="#cb35-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-736"><a href="#cb35-736" aria-hidden="true" tabindex="-1"></a><span class="fu">## Useful keyboard shortcuts for package authoring:</span></span>
<span id="cb35-737"><a href="#cb35-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-738"><a href="#cb35-738" aria-hidden="true" tabindex="-1"></a> Install Package:           'Ctrl + Shift + B'</span>
<span id="cb35-739"><a href="#cb35-739" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb35-740"><a href="#cb35-740" aria-hidden="true" tabindex="-1"></a> Check Package:             'Ctrl + Shift + E'</span>
<span id="cb35-741"><a href="#cb35-741" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb35-742"><a href="#cb35-742" aria-hidden="true" tabindex="-1"></a> Test Package:              'Ctrl + Shift + T'</span>
<span id="cb35-743"><a href="#cb35-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-746"><a href="#cb35-746" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-747"><a href="#cb35-747" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-748"><a href="#cb35-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-749"><a href="#cb35-749" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"C:/R/Packages/petersenlab"</span>)</span>
<span id="cb35-750"><a href="#cb35-750" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span>
<span id="cb35-751"><a href="#cb35-751" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>()</span>
<span id="cb35-752"><a href="#cb35-752" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-753"><a href="#cb35-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-754"><a href="#cb35-754" aria-hidden="true" tabindex="-1"></a><span class="fu">## `pkgdown`</span></span>
<span id="cb35-755"><a href="#cb35-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-756"><a href="#cb35-756" aria-hidden="true" tabindex="-1"></a>Run once to configure your package to use pkgdown:</span>
<span id="cb35-757"><a href="#cb35-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-760"><a href="#cb35-760" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-761"><a href="#cb35-761" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-762"><a href="#cb35-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-763"><a href="#cb35-763" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_pkgdown</span>()</span>
<span id="cb35-764"><a href="#cb35-764" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-765"><a href="#cb35-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-766"><a href="#cb35-766" aria-hidden="true" tabindex="-1"></a>Then use <span class="in">`pkgdown`</span> to build your website:</span>
<span id="cb35-767"><a href="#cb35-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-770"><a href="#cb35-770" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-771"><a href="#cb35-771" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-772"><a href="#cb35-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-773"><a href="#cb35-773" aria-hidden="true" tabindex="-1"></a>pkgdown<span class="sc">::</span><span class="fu">build_site</span>()</span>
<span id="cb35-774"><a href="#cb35-774" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-775"><a href="#cb35-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-776"><a href="#cb35-776" aria-hidden="true" tabindex="-1"></a><span class="fu">## Steps to Add Functions</span></span>
<span id="cb35-777"><a href="#cb35-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-778"><a href="#cb35-778" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Add <span class="in">`.R`</span> file with the function</span>
<span id="cb35-779"><a href="#cb35-779" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Add the function to the <span class="in">`_pkgdown.yml`</span> file</span>
<span id="cb35-780"><a href="#cb35-780" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Update version number</span>
<span id="cb35-781"><a href="#cb35-781" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`renv::upgrade()`</span></span>
<span id="cb35-782"><a href="#cb35-782" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`renv::update()`</span></span>
<span id="cb35-783"><a href="#cb35-783" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`renv::snapshot()`</span></span>
<span id="cb35-784"><a href="#cb35-784" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`roxygen2::roxygenise()`</span></span>
<span id="cb35-785"><a href="#cb35-785" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install Package: 'Ctrl + Shift + B'</span>
<span id="cb35-786"><a href="#cb35-786" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Check Package: 'Ctrl + Shift + E'</span>
<span id="cb35-787"><a href="#cb35-787" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`R CMD check`</span></span>
<span id="cb35-788"><a href="#cb35-788" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Commit and push changes</span>
<span id="cb35-789"><a href="#cb35-789" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Update release version in GitHub</span>
<span id="cb35-790"><a href="#cb35-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-791"><a href="#cb35-791" aria-hidden="true" tabindex="-1"></a><span class="fu">## Add sub-packages</span></span>
<span id="cb35-792"><a href="#cb35-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-795"><a href="#cb35-795" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-796"><a href="#cb35-796" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb35-797"><a href="#cb35-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-798"><a href="#cb35-798" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>(<span class="at">pkg =</span> <span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage1"</span>)</span>
<span id="cb35-799"><a href="#cb35-799" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>(<span class="at">pkg =</span> <span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2"</span>)</span>
<span id="cb35-800"><a href="#cb35-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-801"><a href="#cb35-801" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage1_0.1.0.tar.gz"</span>, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">source =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-802"><a href="#cb35-802" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span>, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">source =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-803"><a href="#cb35-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-804"><a href="#cb35-804" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_local</span>(<span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span>)</span>
<span id="cb35-805"><a href="#cb35-805" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_local</span>(<span class="st">"D:/Documents/GitHub/petersenlab/inst/extdata/testpackage2_0.1.0.tar.gz"</span>)</span>
<span id="cb35-806"><a href="#cb35-806" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb35-807"><a href="#cb35-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-808"><a href="#cb35-808" aria-hidden="true" tabindex="-1"></a><span class="fu">## Submit Package to CRAN</span></span>
<span id="cb35-809"><a href="#cb35-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-810"><a href="#cb35-810" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://cran.r-project.org/submit.html&gt;</span></span>
<span id="cb35-811"><a href="#cb35-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-812"><a href="#cb35-812" aria-hidden="true" tabindex="-1"></a><span class="fu">## Resources</span></span>
<span id="cb35-813"><a href="#cb35-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-814"><a href="#cb35-814" aria-hidden="true" tabindex="-1"></a>Official documentation for CRAN:</span>
<span id="cb35-815"><a href="#cb35-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-816"><a href="#cb35-816" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://cran.r-project.org/doc/manuals/R-exts.html&gt;</span></span>
<span id="cb35-817"><a href="#cb35-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-818"><a href="#cb35-818" aria-hidden="true" tabindex="-1"></a>Unofficial documentation:</span>
<span id="cb35-819"><a href="#cb35-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-820"><a href="#cb35-820" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://rpubs.com/YaRrr/rpackageintro&gt;</span></span>
<span id="cb35-821"><a href="#cb35-821" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://r-pkgs.org&gt;</span></span>
<span id="cb35-822"><a href="#cb35-822" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf&gt;</span></span>
<span id="cb35-823"><a href="#cb35-823" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://portal.stats.ox.ac.uk/userdata/ruth/APTS2012/Rcourse10.pdf&gt;</span></span>
<span id="cb35-824"><a href="#cb35-824" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://web.mit.edu/insong/www/pdf/rpackage_instructions.pdf&gt;</span></span>
<span id="cb35-825"><a href="#cb35-825" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&gt;</span></span>
<span id="cb35-826"><a href="#cb35-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-827"><a href="#cb35-827" aria-hidden="true" tabindex="-1"></a><span class="fu">### For Package Development Tasks</span></span>
<span id="cb35-828"><a href="#cb35-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-829"><a href="#cb35-829" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://usethis.r-lib.org/index.html&gt;</span></span>
<span id="cb35-830"><a href="#cb35-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-831"><a href="#cb35-831" aria-hidden="true" tabindex="-1"></a><span class="fu">### For Documentation</span></span>
<span id="cb35-832"><a href="#cb35-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-833"><a href="#cb35-833" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://github.com/r-lib/roxygen2#roxygen2&gt;</span></span>
<span id="cb35-834"><a href="#cb35-834" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&gt;</span></span>
<span id="cb35-835"><a href="#cb35-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-836"><a href="#cb35-836" aria-hidden="true" tabindex="-1"></a><span class="fu">### Creating Vignettes</span></span>
<span id="cb35-837"><a href="#cb35-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-838"><a href="#cb35-838" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://bookdown.org/yihui/rmarkdown-cookbook/package-vignette.html&gt;</span></span>
<span id="cb35-839"><a href="#cb35-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-840"><a href="#cb35-840" aria-hidden="true" tabindex="-1"></a><span class="fu">### For Licensing</span></span>
<span id="cb35-841"><a href="#cb35-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-842"><a href="#cb35-842" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="ot">&lt;https://usethis.r-lib.org/reference/licenses.html&gt;</span></span>
<span id="cb35-843"><a href="#cb35-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-844"><a href="#cb35-844" aria-hidden="true" tabindex="-1"></a><span class="fu"># Troubleshooting {#sec-troubleshootingR}</span></span>
<span id="cb35-845"><a href="#cb35-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-846"><a href="#cb35-846" aria-hidden="true" tabindex="-1"></a>To troubleshoot <span class="in">`R`</span> issues, be resourceful.</span>
<span id="cb35-847"><a href="#cb35-847" aria-hidden="true" tabindex="-1"></a>Try googling the error message or issue you are experiencing.</span>
<span id="cb35-848"><a href="#cb35-848" aria-hidden="true" tabindex="-1"></a>See <span class="co">[</span><span class="ot">here</span><span class="co">](#sec-questions)</span> for a list of places you can pose <span class="in">`R`</span>-related questions for help.</span>
<span id="cb35-849"><a href="#cb35-849" aria-hidden="true" tabindex="-1"></a>In addition, particular errors/warnings/issues are included below:</span>
<span id="cb35-850"><a href="#cb35-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-851"><a href="#cb35-851" aria-hidden="true" tabindex="-1"></a><span class="fu">## General Troubleshooting Tips</span></span>
<span id="cb35-852"><a href="#cb35-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-853"><a href="#cb35-853" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Run code line-by-line to identify the source of the error**</span>
<span id="cb35-854"><a href="#cb35-854" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>If you are using RStudio, a red line will often appear on the lefthand side of the screen to indicate the particular line(s) of code that result in an error</span>
<span id="cb35-855"><a href="#cb35-855" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>It may be useful to clear your working environment in R before trying to diagnose an error to be sure that you are not experiencing any interference from existing objects in the environment</span>
<span id="cb35-856"><a href="#cb35-856" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Running code line-by-line is particularly useful because it allows you to inspect the data at each step of its processing</span>
<span id="cb35-857"><a href="#cb35-857" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Data issues are commonly the culprit of code errors (see below)</span>
<span id="cb35-858"><a href="#cb35-858" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Check for typos**</span>
<span id="cb35-859"><a href="#cb35-859" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Are all brackets/parentheses/etc. closed? </span>
<span id="cb35-860"><a href="#cb35-860" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Does the object/variable that you are referring to exist? (*If the object does not exisit, you will likely get an error message indicating `[object name] not found`*)</span>
<span id="cb35-861"><a href="#cb35-861" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Has it been defined somewhere prior in the code? </span>
<span id="cb35-862"><a href="#cb35-862" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Does it depend on something else to be created? </span>
<span id="cb35-863"><a href="#cb35-863" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Is its name spelled correctly? </span>
<span id="cb35-864"><a href="#cb35-864" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>Highlighting the object or variable in question and using <span class="in">`CTRL-F`</span> to search for it is a good way to check these things</span>
<span id="cb35-865"><a href="#cb35-865" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Did you spell the function you want to use correctly?</span>
<span id="cb35-866"><a href="#cb35-866" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Do you have commas separating items within a list/function/etc.?</span>
<span id="cb35-867"><a href="#cb35-867" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Does your working environment have what it needs?**</span>
<span id="cb35-868"><a href="#cb35-868" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Are all necessary packages/libraries installed? </span>
<span id="cb35-869"><a href="#cb35-869" aria-hidden="true" tabindex="-1"></a>    Do any require an update?</span>
<span id="cb35-870"><a href="#cb35-870" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Are all expected objects (dataframes, lists, environment variables, etc) present? </span>
<span id="cb35-871"><a href="#cb35-871" aria-hidden="true" tabindex="-1"></a>    Are they correct? </span>
<span id="cb35-872"><a href="#cb35-872" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Investigate the structure of your data**</span>
<span id="cb35-873"><a href="#cb35-873" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Errors such as <span class="in">`non-numeric argument to binary operator`</span> indicate that the function you are trying to use is expecting to recieve numeric data as an input but one or more of the inputs are not numeric</span>
<span id="cb35-874"><a href="#cb35-874" aria-hidden="true" tabindex="-1"></a><span class="ss">      - </span>The function <span class="in">`class(data$variable)`</span> (replace "data" and "variable" with whatever you are trying to invesitgate) is useful for determining how R is interpreting your data.</span>
<span id="cb35-875"><a href="#cb35-875" aria-hidden="true" tabindex="-1"></a>      Often, data that look like numbers can end up being stored as a character (text) variable.</span>
<span id="cb35-876"><a href="#cb35-876" aria-hidden="true" tabindex="-1"></a>      This can be due to import/export processes or due to an issue with data entry. </span>
<span id="cb35-877"><a href="#cb35-877" aria-hidden="true" tabindex="-1"></a><span class="ss">         - </span>For example, when <span class="in">`00`</span> is entered instead of <span class="in">`0`</span> in a numeric field R is likely to interpret the variable as a character instead of a number when importing the data</span>
<span id="cb35-878"><a href="#cb35-878" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Check to make sure that all expected rows/columns are present and that they look the way you expect them to</span>
<span id="cb35-879"><a href="#cb35-879" aria-hidden="true" tabindex="-1"></a><span class="ss">       - </span>If your dataset has been created by joining/merging multiple dataframes, any duplicate columns not accounted for when joining may have a suffix appended to distinguish them (i.e., <span class="in">`variable.x`</span> or <span class="in">`variable.y`</span>)</span>
<span id="cb35-880"><a href="#cb35-880" aria-hidden="true" tabindex="-1"></a><span class="ss">       - </span>To resolve this, either call the appended variable in subsequent manipulations (<span class="in">`variable.x`</span> instead of <span class="in">`variable`</span>) or deal with the duplicated columns before/during the joining process (e.g., include duplicate columns in the <span class="in">`by`</span> argument of joining function or remove the redundant column from one of the datasets to be joined)</span>
<span id="cb35-881"><a href="#cb35-881" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>If you have been creating/computing variables in your dataset, ensure that they are being computed as expected</span>
<span id="cb35-882"><a href="#cb35-882" aria-hidden="true" tabindex="-1"></a><span class="ss">       - </span>Check for <span class="in">`NA`</span> (missing) or <span class="in">`NaN`</span> (not a number) values.</span>
<span id="cb35-883"><a href="#cb35-883" aria-hidden="true" tabindex="-1"></a>       Such values may not be an issue or error in all cases, but if you are not expecting that as a result of your computations, this might suggest an issue with the code and/or data structure</span>
<span id="cb35-884"><a href="#cb35-884" aria-hidden="true" tabindex="-1"></a><span class="ss">       - </span>Check whether the computed values are reasonable </span>
<span id="cb35-885"><a href="#cb35-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-886"><a href="#cb35-886" aria-hidden="true" tabindex="-1"></a><span class="fu">## A single error preventing a Wiki site from rendering</span></span>
<span id="cb35-887"><a href="#cb35-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-888"><a href="#cb35-888" aria-hidden="true" tabindex="-1"></a>Code can be wrapped in <span class="in">`try()`</span> statements so that if an error occurs, the script will simply "skip" to the next line of code.</span>
<span id="cb35-889"><a href="#cb35-889" aria-hidden="true" tabindex="-1"></a>These <span class="in">`try()`</span> statements are particularly useful when rendering a site; if they are not used, a single error will halt the entire process. <span class="in">`try()`</span> statements allow the code to continue running in spite of a line or two erroring out.</span>
<span id="cb35-890"><a href="#cb35-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-891"><a href="#cb35-891" aria-hidden="true" tabindex="-1"></a>If you have already incorporated <span class="in">`try()`</span> statements and are still experiencing fatal errors in code, check to make sure that the smallest possible "unit" of code is wrapped in <span class="in">`try()`</span> statements, rather than large sections of code. </span>
<span id="cb35-892"><a href="#cb35-892" aria-hidden="true" tabindex="-1"></a>See <span class="co">[</span><span class="ot">here</span><span class="co">](#sec-try)</span> for more information.</span>
<span id="cb35-893"><a href="#cb35-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-894"><a href="#cb35-894" aria-hidden="true" tabindex="-1"></a><span class="fu">## Warning: `PACKAGENAME` package in `FILEPATH` library will not be updated</span></span>
<span id="cb35-895"><a href="#cb35-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-896"><a href="#cb35-896" aria-hidden="true" tabindex="-1"></a>This warning might indicate that it cannot update the package because it is part of the base <span class="in">`R`</span> installation.</span>
<span id="cb35-897"><a href="#cb35-897" aria-hidden="true" tabindex="-1"></a>To fix this:</span>
<span id="cb35-898"><a href="#cb35-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-899"><a href="#cb35-899" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>find and delete the package that is part of the base <span class="in">`R`</span> installation in the <span class="in">`library`</span> directory of the <span class="in">`R`</span> installation (e.g., <span class="in">`C:\R\R-4.3.1\library\PACKAGENAME\`</span>)</span>
<span id="cb35-900"><a href="#cb35-900" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>make sure the package is also not in any other package installation locations (e.g., <span class="in">`C:\R\Packages\PACKAGENAME\`</span>); if it is, delete it from there as well</span>
<span id="cb35-901"><a href="#cb35-901" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>then, after deleting the package from these locations, restart <span class="in">`R`</span> and run <span class="in">`install.packages("PACKAGENAME")`</span> to reinstall the package</span>
<span id="cb35-902"><a href="#cb35-902" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>close <span class="in">`R`</span></span>
<span id="cb35-903"><a href="#cb35-903" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>if the package was part of the base <span class="in">`R`</span> installation, move the installed package folder <span class="in">`C:\R\Packages\PACKAGENAME\`</span> to the <span class="in">`library`</span> directory of the <span class="in">`R`</span> installation (e.g., <span class="in">`C:\R\R-4.3.1\library\PACKAGENAME\`</span>)</span>
<span id="cb35-904"><a href="#cb35-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-905"><a href="#cb35-905" aria-hidden="true" tabindex="-1"></a><span class="fu"># Session Info</span></span>
<span id="cb35-906"><a href="#cb35-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-909"><a href="#cb35-909" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb35-910"><a href="#cb35-910" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb35-911"><a href="#cb35-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-912"><a href="#cb35-912" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb35-913"><a href="#cb35-913" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/DevPsyLab/DataAnalysis/edit/main/R.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/DevPsyLab/DataAnalysis/blob/main/R.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/DevPsyLab/DataAnalysis/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>